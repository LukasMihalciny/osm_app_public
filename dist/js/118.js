"use strict";(self["webpackChunkosmapp_webpack_3x25x"]=self["webpackChunkosmapp_webpack_3x25x"]||[]).push([[118],{55:function(e,t,a){a.d(t,{A:function(){return d}});var i=a(641),n=a(33);const r={class:"spinner"};function s(e,t,a,s,o,l){return(0,i.uX)(),(0,i.CE)("div",r,[(0,i.Lk)("div",{class:(0,n.C4)(["bounce1",a.size])},null,2),(0,i.Lk)("div",{class:(0,n.C4)(["bounce2",a.size])},null,2),(0,i.Lk)("div",{class:(0,n.C4)(["bounce3",a.size])},null,2)])}var o={props:{size:String},components:{},data(){return{}},created(){},methods:{},computed:{}},l=a(6262);const _=(0,l.A)(o,[["render",s]]);var d=_},2095:function(e,t,a){a.d(t,{A:function(){return v}});var i=a(641),n=a(33);const r={key:0},s={key:1},o={key:2},l={key:3},_=["innerHTML"];function d(e,t,a,d,c,p){return a.tooltip_text?((0,i.uX)(),(0,i.CE)("div",{key:0,class:(0,n.C4)(["ttip",p.tooltip_class])},["info"===a.tooltip_type?((0,i.uX)(),(0,i.CE)("b",r,"?")):"warning"===a.tooltip_type?((0,i.uX)(),(0,i.CE)("b",s,"!")):"cost"===a.tooltip_type?((0,i.uX)(),(0,i.CE)("span",o," (€)")):((0,i.uX)(),(0,i.CE)("b",l,"bad tooltip type")),(0,i.Lk)("div",{class:(0,n.C4)([p.tooltip_width_class,"ttip_text"])},[(0,i.Lk)("span",{innerHTML:p.tooltip_breakpoint?p.tooltip_preview:a.tooltip_text},null,8,_),p.tooltip_breakpoint?((0,i.uX)(),(0,i.CE)("span",{key:0,onClick:t[0]||(t[0]=(...e)=>p.open_ttip_modal&&p.open_ttip_modal(...e)),class:"d-block text-end text-decoration-underline",style:{cursor:"pointer"}},"Čítať viac...")):(0,i.Q3)("",!0)],2)],2)):(0,i.Q3)("",!0)}var c=a(2873),p={props:{tooltip_text:String,tooltip_type:String},components:{},emits:[],data(){return{}},created(){},methods:{open_ttip_modal(){let e={info:"Nápoveda",warning:"Upozornenie",cost:"Info"};(0,c.A)().store_modal_data({title:e[this.tooltip_type],content:this.tooltip_text}),(0,c.A)().open_it("Acceptance_modal")}},computed:{tooltip_width_class(){let e=this.tooltip_text.length;return e<30?"shortest":e<40?"shorter":e<55?"short":""},tooltip_class(){let e={info:"",warning:"pr_warning",cost:"ttip-top"};return e[this.tooltip_type]},tooltip_breakpoint(){let e="warning"===this.tooltip_type?330:500;return this.tooltip_text?.length>e},tooltip_preview(){let e=this.tooltip_text.slice(0,290);return e=e.split(" ").slice(0,-1).join(" "),e+" ..."}},watch:{}},u=a(6262);const h=(0,u.A)(p,[["render",d]]);var v=h},5254:function(e,t,a){var i=a(8700),n=a(3175);class r{car_data_search(e,t){let a={action_name:"car-data-search",method:"GET",url:(0,i.A)().endpoint_url()+"api/car-data-search/?"+e+"="+t},r=new n.A;return r.prepare_params(a).handle_response().catch(e=>{throw e})}ico_info(e){let t="node_red"===(0,i.A)().get_run_mode()?(0,i.A)().get_flow_id():(0,i.A)().product_group_id(),a={action_name:"ico-info",method:"GET",url:(0,i.A)().endpoint_url()+"online/ico-info/"+e+"/?type="+t},r=new n.A;return r.prepare_params(a).handle_response().catch(e=>{throw e})}car_valuation_options(e){let t={action_name:"car-valuation-options",method:"GET",url:(0,i.A)().endpoint_url()+"api/car-valuation-options/?"+e},a=new n.A;return a.prepare_params(t).handle_response().catch(e=>{throw e})}car_valuation_price(e){let t={action_name:"car-valuation-price",method:"GET",url:(0,i.A)().endpoint_url()+"api/car-valuation-price/?"+e},a=new n.A;return a.prepare_params(t).handle_response().catch(e=>{throw e})}}t.A=new r},6710:function(e,t,a){a.d(t,{A:function(){return b}});var i=a(641),n=a(33),r=a(3751);const s={key:0,class:"cloud_info"},o=["id","name","placeholder","disabled","maxlength","minlength"];function l(e,t,a,l,_,d){return(0,i.uX)(),(0,i.CE)(i.FK,null,[_.cloud_info?((0,i.uX)(),(0,i.CE)("div",s,t[3]||(t[3]=[(0,i.Lk)("span",null," Boli odstránené nežiaduce znaky. ",-1)]))):(0,i.Q3)("",!0),(0,i.bo)((0,i.Lk)("input",{id:a.field_id,name:a.field_id,"onUpdate:modelValue":t[0]||(t[0]=e=>d.value=e),placeholder:a.field_data.placeholder,disabled:d.is_disabled,onBlur:t[1]||(t[1]=(...e)=>d.transform_value&&d.transform_value(...e)),onKeydown:t[2]||(t[2]=(...e)=>d.prevent_letters_in_float&&d.prevent_letters_in_float(...e)),maxlength:d.html_attributes(!0),minlength:d.html_attributes(!1),type:"text",class:(0,n.C4)(["form-control",d.transform_class])},null,42,o),[[r.Jo,d.value,void 0,{lazy:!0}]])],64)}var _=a(3177),d=a(8700),c=a(6343);let p={props:{},components:{},emits:[],data(){return{dynamic:{majetok_podlazie:"majetok_poschodie"}}},created(){},methods:{},computed:{dynamic_parent(){return this.dynamic.hasOwnProperty(this.field_id)?(0,_.A)().get_form_value(this.dynamic[this.field_id]):null}},watch:{dynamic_parent(){isNaN(this.dynamic_parent)||""===this.dynamic_parent?this.value="":this.value=parseInt(this.dynamic_parent,10)+1}}};var u=p,h=(a(4979),a(1678),a(5254));let v={props:{},components:{},emits:[],data(){return{watched_id:"havarijne_auto_vybava",cena_id:"havarijne_auto_cena",vyroba_id:"havarijne_rokvyroby",cena_date:"havarijne_auto_registracia",cena_required:["havarijne_auto_znacka","havarijne_auto_model","havarijne_vykon","havarijne_auto_vin","havarijne_palivo"],cena_optional:["havarijne_objem","havarijne_hmotnost","havarijne_rokvyroby","havarijne_auto_prevodovka","havarijne_auto_registracia","havarijne_auto_pocet_sedadiel","havarijne_auto_karoseria"],stanovenie_id:"havarijne_auto_cena_stanovenie"}},created(){this.cena_request()},methods:{cena_request(){if(null===this.cached_listener)return;let e=structuredClone(this.cached_listener),t=(0,_.A)().get_form_value(this.vyroba_id);if(""===e||""===t)return void(this.cena_disable=!1);this.cena_disable=!0;let a,i={},n=this.cena_required.length;for(a=0;a<n;a++)if(i[this.cena_required[a]]=(0,_.A)().get_form_value(this.cena_required[a]),""===i[this.cena_required[a]])return;for(n=this.cena_optional.length,a=0;a<n;a++){let e=(0,_.A)().get_form_value(this.cena_optional[a]);""!==e&&void 0!==e&&(this.cena_optional[a]===this.cena_date&&(e=c.A.format_car_request_date(e)),i[this.cena_optional[a]]=e)}i[this.watched_id]=e,i=c.A.serialize_object(i),h.A.car_valuation_price(i).then(e=>{200===e.status&&(this.value=e.result.data?.[0]?.[this.cena_id])})}},computed:{cached_listener(){return this.field_id!==this.cena_id?null:(0,_.A)().get_form_value(this.watched_id)},cached_stanovenie(){return this.field_id!==this.cena_id?null:(0,_.A)().get_form_value(this.stanovenie_id)}},watch:{cached_listener(){this.cena_request()},cached_stanovenie(){"2"===this.cached_stanovenie&&(this.cena_disable=!1,(0,_.A)().delete_form_value(this.watched_id))}}};var m=v,f={props:{field_id:String,field_data:Object,emit_name:String},components:{},emits:["validate_global_changed"],mixins:[u,m],data(){return{cena_disable:!1,cloud_info:!1}},created(){},methods:{transform_value(){if("string"===typeof this.value&&this.value!==this.value.trim()){let e=this.value.trim();this.value!==e&&(this.value=e)}if("uppercase"===this.field_data.type_settings?.transform){let e=this.value.toUpperCase();this.value!==e&&(this.value=e)}else if("capitalize"===this.field_data.type_settings?.transform){let e=this.value.charAt(0).toUpperCase()+this.value.slice(1);this.value!==e&&(this.value=e)}if("digits_only"===this.field_data.input_settings?.sanitize_value){let e=c.A.keep_only_numbers(this.value);this.value!==e&&(this.value=e,this.cloud_info=!0,setTimeout(()=>{this.cloud_info=!1},4e3))}if("dec"===this.field_data.value_type){let e=this.value.replace(/,/g,".");e=e.replace(/[^\d.]/g,""),e=e.replace(/^0+/,"");let t=e.indexOf(".");-1===t&&(e+="."),t=e.indexOf("."),0===t&&(e="0."+e),t=e.indexOf(".");let a=e.slice(t);a=a.replace(/\./g,"");let i=this.field_data.type_settings?.decimal_digits||2;i=parseInt(i,10),a.length>i?a=a.slice(0,i):a.length<i&&(a=a.padEnd(i,"0")),this.value=e.slice(0,t+1)+a}void 0!==this.emit_name&&this.$emit(this.emit_name)},prevent_letters_in_float(e){if("dec"!==this.field_data.value_type)return;let t=[",",".","Backspace","Delete","Escape","Enter","Tab","ArrowRight","ArrowLeft","ArrowUp","ArrowDown"];!1===e.ctrlKey&&isNaN(parseInt(e.key,10))&&-1===t.indexOf(e.key)&&e.preventDefault();let a=this.value.match(/,|\./)?.index,i=this.value.slice(a),n=this.field_data.type_settings?.decimal_digits||2;void 0!==a&&i.length>n&&!1===e.ctrlKey&&-1===t.indexOf(e.key)&&e.target.selectionStart>a&&e.preventDefault()},html_attributes(e){if(e){let e=this.field_id.includes("email")?60:50;return this.field_data.attributes?.maxlength||e}return this.field_data.attributes?.minlength||0}},computed:{transform_class(){return"uppercase"===this.field_data.type_settings?.transform?"text_uppercase":"capitalize"===this.field_data.type_settings?.transform?"text_capitalize":""},is_disabled(){return(0,d.A)().is_read_only()||this.field_data.type_settings?.disabled||this.cena_disable},value:{get(){return void 0!==this.emit_name?(0,_.A)().get_user_input(this.field_id):(0,_.A)().get_form_value(this.field_id)},set(e){(0,_.A)().set_form_value(this.field_id,e)}}},watch:{}},g=a(6262);const y=(0,g.A)(f,[["render",l]]);var b=y}}]);
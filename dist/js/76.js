"use strict";(self["webpackChunkosmapp_webpack_2xx"]=self["webpackChunkosmapp_webpack_2xx"]||[]).push([[76],{4162:function(e,t,n){var s=n(8700),o=n(6343),i=n(3175),a=n(3177);class r{static_documents(){let e={action_name:"getdocuments",method:"GET",url:(0,s.A)().endpoint_url()+"online/getdocuments/"+(0,a.A)().get_selected_product().product_id+"/?"+o.A.add_token_as_parameter()},t=new i.A;return t.prepare_params(e).handle_response().catch((e=>{throw e}))}get_static_document(e){let t={action_name:"getdocument",method:"GET",url:(0,s.A)().endpoint_url()+"online/getdocument/"+(0,a.A)().get_selected_product().product_id+"/"+e+"/?"+o.A.add_token_as_parameter()+"&nocontent=true"},n=new i.A;return n.prepare_params(t).handle_response().catch((e=>{throw e}))}}t.A=new r},8494:function(e,t,n){var s=n(8700),o=n(6343),i=n(3175),a=n(6460);class r{offer_send(e="api"){let t=(0,a.A)().get_confirm_chbs();t=o.A.serialize_object(t);let n={action_name:"signature-offer-send",method:"GET",url:(0,s.A)().endpoint_url()+"online/signature-offer-send/?"+t+o.A.add_token_as_parameter()+"&name="+e},r=new i.A;return r.prepare_params(n).handle_response().catch((e=>{throw e}))}code_send(e){let t={action_name:"signature-code-send",method:"GET",url:(0,s.A)().endpoint_url()+"online/signature-code-send/?client="+e+o.A.add_token_as_parameter()},n=new i.A;return n.prepare_params(t).handle_response().catch((e=>{throw e}))}code_check(e,t){let n=(0,a.A)().get_confirm_chbs();n=o.A.serialize_object(n);let r={action_name:"signature-code-check",method:"POST",url:(0,s.A)().endpoint_url()+"online/signature-code-check/?"+n+"&client="+t+o.A.add_token_as_parameter(),body:JSON.stringify({code:e}),content_type:"application/json"},l=new i.A;return l.prepare_params(r).handle_response().catch((e=>{throw e}))}signature_status(){let e={action_name:"signature-status",method:"GET",url:(0,s.A)().endpoint_url()+"online/signature-status/?"+o.A.add_token_as_parameter()},t=new i.A;return t.prepare_params(e).handle_response().catch((e=>{throw e}))}}t.A=new r},3556:function(e,t,n){n.d(t,{A:function(){return b}});var s=n(641),o=n(33),i=n(3751);const a=e=>((0,s.Qi)("data-v-b171228e"),e=e(),(0,s.jt)(),e),r={class:"w-100 btn-text text-start"},l=a((()=>(0,s.Lk)("div",{class:"flex-shrink my-auto"},[(0,s.Lk)("span",{class:"i_download_item"})],-1)));function c(e,t,n,a,c,d){const u=(0,s.g2)("Bouncer_loading");return d.display_document?((0,s.uX)(),(0,s.CE)("button",{key:0,"data-cy":"document_download",onClick:t[0]||(t[0]=(...e)=>d.download_pdf&&d.download_pdf(...e)),class:(0,o.C4)(["d-flex btn-text i_anchor",d.still_waiting?"document_waiting":""])},[(0,s.Lk)("div",r,[(0,s.eW)((0,o.v_)(d.name)+" ",1),(0,s.bo)((0,s.bF)(u,{size:"small"},null,512),[[i.aG,d.still_waiting]])]),l],2)):(0,s.Q3)("",!0)}var d=n(4162),u=n(3886),_=n(55),m=n(6343),h=n(8700),p={props:{doc:Object},components:{Bouncer_loading:_.A},data(){return{is_downloading:!1}},created(){},methods:{download_pdf(){this.still_waiting||(this.is_downloading=!0,this.is_static?d.A.get_static_document(this.doc.id).then((e=>{if(200===e.status){if(void 0!==e.result.download_token&&null!==e.result.download_token){let t=(0,h.A)().document_url()+"?access_token="+e.result.download_token;window.open(t)}else m.A.downloadBase64(this.name,e.result.content);this.is_downloading=!1}else this.is_downloading=!1})):u.A.get_session_document(this.doc.id).then((e=>{200===e.status?(m.A.downloadBase64(this.name,e.result.content),this.is_downloading=!1):this.is_downloading=!1})))}},computed:{is_static(){return void 0!==this.doc.filename},name(){return this.is_static?this.doc.filename:this.doc.name},display_document(){return"ws-preview.tmp"!==this.name&&"error"!==this.doc.documentState},still_waiting(){return!!this.is_downloading||!this.is_static&&("waiting"===this.doc.documentState||"available"!==this.doc.documentState)}}},k=n(6262);const g=(0,k.A)(p,[["render",c],["__scopeId","data-v-b171228e"]]);var b=g},821:function(e,t,n){n.d(t,{A:function(){return C}});var s=n(641);const o={key:0,class:"docs_download","data-cy":"documents"},i=(0,s.Lk)("h3",null," Predzmluvná dokumentácia ",-1),a=(0,s.Lk)("p",null," Dokumenty s ktorými je klient povinný sa oboznámiť ",-1),r={class:"docs_static"},l=(0,s.Lk)("p",null," Produktové dokumenty ",-1),c={class:"docs_session"},d=(0,s.Lk)("p",null," Dynamické dokumenty ",-1),u={key:1,class:"row docs_download","data-cy":"documents"},_={class:"col-12 col-md-6"},m={class:"s-box-body"},h=(0,s.Lk)("p",null," Dynamické dokumenty ",-1),p={class:"col-12 col-md-6"},k={class:"s-box-body"},g=(0,s.Lk)("p",null," Produktové dokumenty ",-1);function b(e,t,n,b,v,f){const w=(0,s.g2)("Document_download");return 4===n.step_html?((0,s.uX)(),(0,s.CE)("div",o,[i,a,(0,s.Lk)("div",r,[l,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(v.static_docs,((e,t)=>((0,s.uX)(),(0,s.Wv)(w,{doc:e},null,8,["doc"])))),256))]),(0,s.Lk)("div",c,[d,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(v.session_docs,((e,t)=>((0,s.uX)(),(0,s.Wv)(w,{doc:e},null,8,["doc"])))),256))])])):n.step_html>4?((0,s.uX)(),(0,s.CE)("div",u,[(0,s.Lk)("div",_,[(0,s.Lk)("div",m,[h,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(v.session_docs,((e,t)=>((0,s.uX)(),(0,s.Wv)(w,{doc:e},null,8,["doc"])))),256))])]),(0,s.Lk)("div",p,[(0,s.Lk)("div",k,[g,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(v.static_docs,((e,t)=>((0,s.uX)(),(0,s.Wv)(w,{doc:e},null,8,["doc"])))),256))])])])):(0,s.Q3)("",!0)}var v=n(4162),f=n(3886),w=n(3556),A=n(2873),y={props:{start_doc_requests:Boolean,step_html:Number},components:{Document_download:w.A},emits:["all_docs_finished"],data(){return{static_docs:{},session_docs:{},turbo:{repeat_count:0,repeat_delay_fast:2e3,repeat_delay_slow:1e4,repeat_diminish:10,repeat_max:26}}},created(){!0===this.start_doc_requests&&(this.group_docs(),this.session_docs_turbo())},methods:{group_docs(){v.A.static_documents().then((e=>{this.static_docs=e.result.documents}))},session_docs_turbo(){f.A.session_documents(!1).then((e=>{void 0!==e.result?.data?.documents&&(this.session_docs=e.result.data.documents);for(let n in this.session_docs)if(this.session_docs.hasOwnProperty(n)&&"ws-preview.tmp"===this.session_docs[n].name&&"error"===this.session_docs[n].documentState)return(0,A.A)().store_modal_data({type:"session_documents_webservice_doc_error",errors:this.session_docs[n].errors}),void(0,A.A)().open_it("Ordinary_error_modal");if(!0===e.result?.data?.processingFinished)return void this.$emit("all_docs_finished");if(this.turbo.repeat_count>this.turbo.repeat_max)return void console.log("getsessiondocuments reached maximum repeat_count");this.turbo.repeat_count++;let t=this.turbo.repeat_count<this.turbo.repeat_diminish?this.turbo.repeat_delay_fast:this.turbo.repeat_delay_slow;setTimeout((()=>{this.session_docs_turbo()}),t)}))}},computed:{},watch:{start_doc_requests(){!0===this.start_doc_requests&&(this.group_docs(),this.session_docs_turbo())}}},x=n(6262);const L=(0,x.A)(y,[["render",b]]);var C=L},9713:function(e,t,n){n.d(t,{A:function(){return _}});var s=n(641),o=n(33);const i={class:"calc_title_area"},a={class:"text-primary"},r={key:0,class:"mb-3"};function l(e,t,n,l,c,d){return(0,s.uX)(),(0,s.CE)("div",i,[(0,s.Lk)("h2",a,(0,o.v_)(n.title),1),n.subtitle?((0,s.uX)(),(0,s.CE)("p",r,(0,o.v_)(n.subtitle),1)):(0,s.Q3)("",!0),(0,s.RG)(e.$slots,"default")])}var c={props:{title:String,subtitle:String},components:{},emits:[],data(){return{}},created(){},methods:{},computed:{},watch:{}},d=n(6262);const u=(0,d.A)(c,[["render",l]]);var _=u},1391:function(e,t,n){n.d(t,{A:function(){return g}});var s=n(641),o=n(33),i=n(3751);const a={class:"row form-pagination"},r={class:"col-12 col-sm-6 text-center text-sm-start order-2 order-sm-1"},l={class:"col-12 col-sm-6 text-center text-sm-end order-1 order-sm-2"};function c(e,t,n,c,d,u){const _=(0,s.g2)("Bouncer_loading");return(0,s.uX)(),(0,s.CE)("div",a,[(0,s.Lk)("div",r,[n.allow_back?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>u.edit_user_data&&u.edit_user_data(...e)),class:"btn btn-white btn-left btn-lg"}," Upraviť ")):(0,s.Q3)("",!0)]),(0,s.Lk)("div",l,[(0,s.bo)((0,s.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>u.main_button_press&&u.main_button_press(...e)),type:"button",class:"btn btn-accent btn-right btn-lg"},(0,o.v_)(u.wording),513),[[i.aG,!n.loading]]),(0,s.bo)((0,s.bF)(_,null,null,512),[[i.aG,n.loading]])])])}var d=n(55),u=n(8700),_=n(6460),m=n(9614),h={props:{mode:String,allow_back:Boolean,loading:Boolean},components:{Bouncer_loading:d.A},emits:["main_button_press"],data(){return{}},created(){},methods:{edit_user_data(){(0,_.A)().$reset(),(0,u.A)().change_step(3)},main_button_press(){this.$emit("main_button_press")}},computed:{wording(){let e={classic:"Dokončiť",agent:"Odoslať návrh emailom",client:"Vyžiadať SMS kód"};return e[this.mode]},requested_direction(){return(0,m.A)().get_requested_direction()}},watch:{requested_direction(){null!==this.requested_direction&&"backward"===this.requested_direction&&((0,m.A)().reset_requested_direction(),this.edit_user_data())}}},p=n(6262);const k=(0,p.A)(h,[["render",c]]);var g=k},424:function(e,t,n){n.d(t,{A:function(){return L}});var s=n(641),o=n(33),i=n(3751);const a={class:"confirm_check"},r={class:"form-check"},l={for:"suhlas_elekt_kom",class:"form-check-label"},c={key:0,class:"form-check"},d={for:"suhlas_marketing",class:"form-check-label"},u={class:"confirm_check"},_={key:0,class:"mb-2"},m={class:"form-check"},h={for:"suhlas_navrh",class:"form-check-label"},p={class:"row"},k={class:"col-12"},g={class:"text-accent mt-2"};function b(e,t,n,b,v,f){return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("div",a,[(0,s.Lk)("div",r,[(0,s.bo)((0,s.Lk)("input",{name:"suhlas_elekt_kom",id:"suhlas_elekt_kom","onUpdate:modelValue":t[0]||(t[0]=e=>f.suhlas_elekt_kom=e),"true-value":"1","false-value":"0",type:"checkbox",class:(0,o.C4)(["form-check-input",this.invalid_checkboxes?"required_checkbox":""])},null,2),[[i.lH,f.suhlas_elekt_kom]]),(0,s.Lk)("label",l,[(0,s.eW)(" Súhlas s "),(0,s.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>f.marketing_ek_modal&&f.marketing_ek_modal(...e)),class:"btn-text text-start"}," elektronickou komunikáciou ")])]),v.adult_marketing?((0,s.uX)(),(0,s.CE)("div",c,[(0,s.bo)((0,s.Lk)("input",{name:"suhlas_marketing",id:"suhlas_marketing","onUpdate:modelValue":t[2]||(t[2]=e=>f.suhlas_marketing=e),"true-value":"1","false-value":"0",type:"checkbox",class:"form-check-input"},null,512),[[i.lH,f.suhlas_marketing]]),(0,s.Lk)("label",d,[(0,s.eW)(" Súhlas so "),(0,s.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>f.marketing_modal&&f.marketing_modal(...e)),class:"btn-text text-start"}," spracovaním osobných údajov pre účely marketingu ")])])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",u,[f.wording?.paragraph?((0,s.uX)(),(0,s.CE)("p",_,(0,o.v_)(f.wording?.paragraph),1)):(0,s.Q3)("",!0),(0,s.Lk)("div",m,[(0,s.bo)((0,s.Lk)("input",{name:"suhlas_navrh",id:"suhlas_navrh","onUpdate:modelValue":t[4]||(t[4]=e=>f.suhlas_navrh=e),"true-value":"1","false-value":"0",type:"checkbox",class:(0,o.C4)(["form-check-input",this.invalid_checkboxes?"required_checkbox":""])},null,2),[[i.lH,f.suhlas_navrh]]),(0,s.Lk)("label",h,(0,o.v_)(f.wording?.label),1)])]),(0,s.Lk)("div",p,[(0,s.Lk)("div",k,[(0,s.bo)((0,s.Lk)("p",g," Pred pokračovaním musíte potvrdiť zvýraznené zaškrtávacie políčka ",512),[[i.aG,n.invalid_checkboxes]])])])],64)}var v=n(2873),f=n(6460),w=n(3177),A={props:{mode:String,invalid_checkboxes:Boolean},components:{},emits:[],data(){return{adult_marketing:!0}},created(){let e=(0,w.A)().get_call_param("dss_osoba_dospely");this.adult_marketing="0"!==e},methods:{marketing_modal(){(0,v.A)().open_it("Marketing")},marketing_ek_modal(){(0,v.A)().open_it("Marketing_ek")}},computed:{suhlas_elekt_kom:{get(){return(0,f.A)().get_confirm_chbs().suhlas_elekt_kom},set(e){(0,f.A)().set_confirm_chb("suhlas_elekt_kom",e)}},suhlas_marketing:{get(){return(0,f.A)().get_confirm_chbs().suhlas_marketing},set(e){(0,f.A)().set_confirm_chb("suhlas_marketing",e)}},suhlas_navrh:{get(){return(0,f.A)().get_confirm_chbs().suhlas_navrh},set(e){(0,f.A)().set_confirm_chb("suhlas_navrh",e)}},wording(){let e={classic:{paragraph:"",label:"Uvedený návrh na uzatvorenie poistnej zmluvy som si prečítal(a) a súhlasím s ním. Týmto prehlasujem, že som bol oboznámený(á) s vyššie uvedenou predzmluvnou dokumentáciou, obsahu som porozumel(a) a týmto vyjadrujem súhlas."},agent:{paragraph:"Pre dokončenie zmluvy o poskytnutí finančnej služby je potrebné potvrdenie klienta formou SMS autorizácie.",label:"Totožnosť klienta som overil a súhlasím s odoslaním dokumentácie na email klienta, aby dokončil autorizáciu."},client:{paragraph:'Pre dokončenie zmluvy o poskytnutí finančnej služby je potrebné potvrdenie cez SMS kód - kliknutím na tlačitko "vyžiadať sms kód".',label:"Oboznámil som sa s predzmluvnou dokumentáciou, nemám žiadne výhrady s jej obsahom a žiadam o zaslanie SMS kódu na moje telefónne číslo."}};return e[this.mode]}},watch:{}},y=n(6262);const x=(0,y.A)(A,[["render",b]]);var L=x},1072:function(e,t,n){n.d(t,{A:function(){return $}});var s=n(641),o=n(33);const i={key:0,class:"prop_confirm","data-cy":"signature_form"},a=(0,s.Lk)("h3",{class:"text-primary"}," Záverečné potvrdenie ",-1),r={key:2,class:"text-center"},l={class:"pt-2"},c={key:3,class:"text-center"},d=(0,s.Lk)("br",null,null,-1),u=(0,s.Lk)("br",null,null,-1),_={key:1,"data-cy":"signature_form",class:"signature_form"},m={class:"mb-4"},h=(0,s.Lk)("strong",null,"Stav: ",-1),p=(0,s.Lk)("br",null,null,-1),k={key:0,class:"sign_time"},g=(0,s.Lk)("strong",null,"Podpísané: ",-1),b={class:"row py-3 signature_form__client"},v={class:"col-sm-3 col-md-3 align-content-md-center mb-2 mb-md-0"},f=(0,s.Lk)("br",null,null,-1),w={class:"col-sm-9 col-md-5 align-content-md-center mb-2 mb-md-0"},A={class:"dots-primary"},y=["title"],x={class:"col-sm-3 col-md-2 text-md-center align-content-center"},L={class:"col-sm-9 col-md-2 text-md-end align-content-md-center"},C=["disabled"];function S(e,t,n,S,X,z){const E=(0,s.g2)("Confirm_checkboxes"),j=(0,s.g2)("Confirm_buttons"),W=(0,s.g2)("Bouncer_loading");return z.is_step4?((0,s.uX)(),(0,s.CE)("div",i,[a,null!==z.mode?((0,s.uX)(),(0,s.Wv)(E,{key:0,mode:z.mode,invalid_checkboxes:X.invalid_checkboxes},null,8,["mode","invalid_checkboxes"])):(0,s.Q3)("",!0),null!==z.mode?((0,s.uX)(),(0,s.Wv)(j,{key:1,mode:z.mode,allow_back:z.allow_back,loading:X.loading_offer,onMain_button_press:z.main_button_press},null,8,["mode","allow_back","loading","onMain_button_press"])):(0,s.Q3)("",!0),n.confirm_running?((0,s.uX)(),(0,s.CE)("h5",r,[(0,s.eW)(" Potvrdzujeme... "),(0,s.Lk)("div",l,[(0,s.bF)(W)])])):(0,s.Q3)("",!0),z.missing_client?((0,s.uX)(),(0,s.CE)("h5",c,[(0,s.eW)(" Na klientov e-mail bola zaslaná predzmluvná dokumentácia."),d,(0,s.eW)(" Pre dokončenie, je potrebné, aby klient otvoril zaslaný odkaz."),u,(0,s.eW)(" Až potom bude môcť podpísať dokumenty. ")])):(0,s.Q3)("",!0)])):((0,s.uX)(),(0,s.CE)("div",_,[(0,s.Lk)("h5",m,[h,(0,s.eW)((0,o.v_)(z.global_state),1),p,z.sign_finished_at?((0,s.uX)(),(0,s.CE)("small",k,[g,(0,s.eW)((0,o.v_)(z.sign_finished_at),1)])):(0,s.Q3)("",!0)]),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(z.clients,((e,n)=>((0,s.uX)(),(0,s.CE)("div",b,[(0,s.Lk)("div",v,[(0,s.Lk)("strong",null,(0,o.v_)(e.name),1),f,(0,s.Lk)("em",null,(0,o.v_)(z.rename_role(e.role)),1)]),(0,s.Lk)("div",w,[(0,s.Lk)("ul",A,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.documents,((e,t)=>((0,s.uX)(),(0,s.CE)("li",{title:z.format_sign_date(e.signedAt)},(0,o.v_)(e.name),9,y)))),256))])]),(0,s.Lk)("div",x,[(0,s.Lk)("span",{class:(0,o.C4)([e.signed_client?"text-primary":"text-accent","fw-bold"])},(0,o.v_)(e.signed_client?"Podpísaný":"Nepodpísaný"),3)]),(0,s.Lk)("div",L,[n===z.logged_client?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>z.main_button_press&&z.main_button_press(...e)),disabled:e.signed_client,class:(0,o.C4)(["btn btn-m mt-2 mt-sm-1",e.signed_client?"btn-secondary":"btn-primary"])}," Podpísať ",10,C)):(0,s.Q3)("",!0)])])))),256))]))}var X=n(424),z=n(1391),E=n(8494),j=n(8700),W=n(2873),P=n(6460),B=n(55),Q={props:{confirm_running:Boolean},components:{Confirm_checkboxes:X.A,Confirm_buttons:z.A,Bouncer_loading:B.A},emits:["run_confirm","hide_sign_section"],data(){return{sign_status:{},loading_offer:!1,invalid_checkboxes:!1}},created(){this.run_status_api()},methods:{main_button_press(){"agent"===this.mode?this.run_offer_api():"client"===this.mode&&1===this.sign_type?this.open_sms():"client"===this.mode&&3===this.sign_type?this.open_signi():console.log("unknown sign type",this.mode,this.sign_type)},run_status_api(){E.A.signature_status().then((e=>{this.sign_status=e.result,null===this.sign_status.current&&null===this.next_name&&this.is_step4&&(console.log("signature auto confirm"),this.$emit("run_confirm",!1)),null!==this.sign_status.current||null===this.next_name||this.is_step4||this.run_offer_api();let t=!0;for(let n in this.sign_status.status)"confirm"===this.sign_status.status[n].when&&(t=!1);t&&this.$emit("hide_sign_section")}))},run_offer_api(){this.invalid_checkboxes=(0,P.A)().are_checkboxes_invalid(),this.invalid_checkboxes&&this.is_step4||(null!==this.next_name?(this.loading_offer=!0,E.A.offer_send(this.next_name).then((e=>{this.loading_offer=!1,200===e.status&&(this.run_status_api(),this.is_step4&&(0,W.A)().open_it("Signature_agent"))}))):console.log("error: no next_name found"))},open_sms(){this.invalid_checkboxes=(0,P.A)().are_checkboxes_invalid(),this.invalid_checkboxes&&this.is_step4||(this.logged_client?((0,W.A)().store_modal_data({client_uuid:this.logged_client}),(0,W.A)().open_it("Signature_client")):console.log("no logged_client"))},open_signi(){if(this.invalid_checkboxes=(0,P.A)().are_checkboxes_invalid(),!this.invalid_checkboxes||!this.is_step4)if(this.logged_client)for(let e in this.clients[this.logged_client].documents){let t=this.clients[this.logged_client].documents[e];window.open(t.contractLink,"_blank").focus()}else console.log("no logged_client")},format_sign_date(e){if(!e)return"";let t=new Date(e),n=String(t.getDate()).padStart(2,"0"),s=String(t.getMonth()+1).padStart(2,"0"),o=t.getFullYear(),i=String(t.getHours()).padStart(2,"0"),a=String(t.getMinutes()).padStart(2,"0"),r=String(t.getSeconds()).padStart(2,"0");return`${n}.${s}.${o} ${i}:${a}:${r}`},rename_role(e){return"poistnik"===e?"klient":"agent"===e?"sprostredkovateľ":e}},computed:{is_step4(){return 4===(0,j.A)().current_step()},next_name(){let e=this.sign_status?.status,t=null;for(let n in e)"pending"===e[n].state&&(this.is_step4&&("preconfirm"===e[n].when||null===e[n].when)||!this.is_step4&&"confirm"===e[n].when)&&(t=n);return t},clients(){return void 0===this.sign_status?.current||null===this.sign_status?.current?[]:this.sign_status.status?.[this.sign_status?.current]?.signature_status?.clients||[]},logged_client(){for(let e in this.clients)if((0,j.A)().get_signature_role()===this.clients[e].role)return e;return""},missing_client(){return null!==this.sign_status.current&&""===this.logged_client},sign_type(){return this.sign_status?.status?.[this.sign_status?.current]?.type||null},mode(){return null===this.sign_status.current&&null!==this.next_name?"agent":null!==this.sign_status.current&&""!==this.logged_client?"client":null},allow_back(){return!this.loading_offer&&null===this.sign_status.current&&null!==this.next_name},global_state(){let e=0,t=0;for(let o in this.clients)t++,!0===this.clients[o].signed_client&&e++;let n=0,s=0;for(let o in this.sign_status.status)s++,!0===this.sign_status.status[o].signed&&n++;return this.loading_offer?"Aktivujeme finálne podpisovanie...":0===e&&t>0?"Dokumenty čakajú na vaše podpísanie ("+e+" / "+t+")":e>0&&e<t?"Dokumenty sú čiastočne podpísane ("+e+" / "+t+")":e>0&&e>=t?"Všetky dokumenty boli podpísané ("+e+" / "+t+")":n>0&&n>=s?"Podpisovanie bolo úspešne dokončené.":"Načítavame podpisovanie..."},sign_finished_at(){return this.format_sign_date(this.sign_status.signed_at)},code_modal_closing(){return(0,W.A)().get_modal_event_data()}},watch:{code_modal_closing(){null!==this.code_modal_closing&&(this.run_status_api(),(0,W.A)().del_modal_event_data())}}},q=n(6262);const F=(0,q.A)(Q,[["render",S]]);var $=F},55:function(e,t,n){n.d(t,{A:function(){return d}});var s=n(641),o=n(33);const i={class:"spinner"};function a(e,t,n,a,r,l){return(0,s.uX)(),(0,s.CE)("div",i,[(0,s.Lk)("div",{class:(0,o.C4)(["bounce1",n.size])},null,2),(0,s.Lk)("div",{class:(0,o.C4)(["bounce2",n.size])},null,2),(0,s.Lk)("div",{class:(0,o.C4)(["bounce3",n.size])},null,2)])}var r={props:{size:String},components:{},data(){return{}},created(){},methods:{},computed:{}},l=n(6262);const c=(0,l.A)(r,[["render",a]]);var d=c}}]);
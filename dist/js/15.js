(self["webpackChunkosmapp_webpack_3xx"]=self["webpackChunkosmapp_webpack_3xx"]||[]).push([[15],{8856:function(t,e,s){"use strict";var i=s(8700),a=s(6343),n=s(3175),l=s(3177);class o{get_it(t){!1===t&&(t=(0,l.A)().get_selected_product().next_contract);let e={action_name:"gethtml",method:"POST",url:(0,i.A)().endpoint_url()+"online/gethtml/?id="+t+a.A.add_token_as_parameter()},s=new n.A;return s.prepare_params(e).handle_response().catch((t=>{throw t}))}get_json_api(t){let e={action_name:"getjson",method:"POST",url:(0,i.A)().endpoint_url()+"online/getjson/?id="+t+a.A.add_token_as_parameter()},s=new n.A;return s.prepare_params(e).handle_response().catch((t=>{throw t}))}}e.A=new o},3886:function(t,e,s){"use strict";var i=s(8700),a=s(6343),n=s(3175);class l{session_documents(t){let e={action_name:"getsessiondocuments",method:"GET",url:(0,i.A)().endpoint_url()+"online/getsessiondocuments/?"+a.A.add_token_as_parameter()};t&&(e.url+="&user_uploaded=true");let s=new n.A;return s.prepare_params(e).handle_response().catch((t=>{throw t}))}get_session_document(t){let e={action_name:"getsessiondocument",method:"GET",url:(0,i.A)().endpoint_url()+"online/getsessiondocument/"+t+"/?"+a.A.add_token_as_parameter()},s=new n.A;return s.prepare_params(e).handle_response().catch((t=>{throw t}))}get_session_document_preview(t,e){let s={action_name:"getsessiondocument",method:"GET",url:(0,i.A)().endpoint_url()+"online/getsessiondocument/"+t+"/?"+a.A.add_token_as_parameter()};s.url+="&filters=thumbnail&thumbnail_mode=outbound&thumbnail_width="+e+"&thumbnail_height="+e;let l=new n.A;return l.prepare_params(s).handle_response().catch((t=>{throw t}))}upload_session_document(t){let e={action_name:"createsessiondocument",method:"POST",body:t,content_type:null,url:(0,i.A)().endpoint_url()+"online/createsessiondocument/?"+a.A.add_token_as_parameter()},s=new n.A;return s.prepare_params(e).handle_response().catch((t=>{throw t}))}delete_session_document(t){let e={action_name:"delete-uploaded-session-documents",method:"DELETE",url:(0,i.A)().endpoint_url()+"online/delete-uploaded-session-documents/?id="+t+a.A.add_token_as_parameter()},s=new n.A;return s.prepare_params(e).handle_response().catch((t=>{throw t}))}}e.A=new l},9452:function(t,e,s){"use strict";var i=s(8700),a=s(6343),n=s(3175);class l{session_info(){let t={action_name:"getsessioninfo",method:"GET",url:(0,i.A)().endpoint_url()+"online/getsessioninfo/?"+a.A.add_token_as_parameter()},e=new n.A;return e.prepare_params(t).handle_response().catch((t=>{throw t}))}get_data(){let t={action_name:"getdata",method:"GET",url:(0,i.A)().endpoint_url()+"online/getdata/?"+a.A.add_token_as_parameter()},e=new n.A;return e.prepare_params(t).handle_response().catch((t=>{throw t}))}set_data(t){let e={action_name:"setdata",method:"POST",url:(0,i.A)().endpoint_url()+"online/setdata/?"+a.A.serialize_object(t)+a.A.add_token_as_parameter()},s=new n.A;return s.prepare_params(e).handle_response().catch((t=>{throw t}))}}e.A=new l},6015:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return ue}});var i=s(641),a=s(33);const n={key:0,class:"docs_landing_scope"},l={key:1,class:"docs_landing_scope text-center m-5"},o={key:2,class:"docs_landing_scope"},d=["innerHTML"],r={key:3,class:"row"},p={class:"col-12 col-md-4"},u={key:4},_={key:0};function c(t,e,s,c,m,h){const g=(0,i.g2)("Find_session"),b=(0,i.g2)("Bouncer_loading"),v=(0,i.g2)("Send_button"),f=(0,i.g2)("Upload_input"),y=(0,i.g2)("Testing_template");return h.missing_session?((0,i.uX)(),(0,i.CE)("div",n,[(0,i.bF)(g)])):m.loading_template?((0,i.uX)(),(0,i.CE)("div",l,[(0,i.bF)(b,{size:"large"})])):((0,i.uX)(),(0,i.CE)("div",o,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(h.clear_template_data,(t=>((0,i.uX)(),(0,i.CE)("div",null,["html_key"===t.key?((0,i.uX)(),(0,i.CE)("div",{key:0,innerHTML:t.content,class:"dl_item_text"},null,8,d)):"button_key"===t.key?((0,i.uX)(),(0,i.Wv)(v,{key:1,input:t.content},null,8,["input"])):"input_key"===t.key?((0,i.uX)(),(0,i.Wv)(f,{key:2,tag:t.tag,onRefresh_uploaded_ids:h.refresh_uploaded_ids},null,8,["tag","onRefresh_uploaded_ids"])):"tiles_key"===t.key?((0,i.uX)(),(0,i.CE)("div",r,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.all_tags,(t=>((0,i.uX)(),(0,i.CE)("div",p,[(0,i.bF)(f,{tag:t,onRefresh_uploaded_ids:h.refresh_uploaded_ids},null,8,["tag","onRefresh_uploaded_ids"])])))),256))])):"grouped_key"===t.key?((0,i.uX)(),(0,i.CE)("div",u,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.all_tags,(t=>((0,i.uX)(),(0,i.Wv)(f,{tag:t,onRefresh_uploaded_ids:h.refresh_uploaded_ids},null,8,["tag","onRefresh_uploaded_ids"])))),256))])):(0,i.Q3)("",!0)])))),256)),m.debug?((0,i.uX)(),(0,i.CE)("div",_,[e[0]||(e[0]=(0,i.Lk)("hr",null,null,-1)),(0,i.Lk)("pre",null,"\t\t\t\t"+(0,a.v_)(m.session_debug)+"\n\t\t\t",1)])):(0,i.Q3)("",!0),(0,i.bF)(y)]))}var m=s(3751),h=s(7017);const g={class:"img_wrapper"},b=["src"],v=["src"],f={key:0,class:"dl_filename pt-1 pb-0 py-md-4"},y=["title"],k={key:1,class:"my-auto mx-auto mx-md-0"},x=["multiple"],w=["disabled"],L={class:"dl_progress"},A=["title"],j=["onClick"],C={key:1,src:h,width:"41",height:"41"},z=["src"],E={key:1,class:"dl_action pt-2 pb-3 py-md-3 py-md-4 px-3"},q=["disabled"],X={key:2,class:"dl_action pt-2 pb-3 py-md-3 py-md-4 pe-3"};function F(t,e,s,n,l,o){return(0,i.bo)(((0,i.uX)(),(0,i.CE)("div",{class:(0,a.C4)(o.sii?[]:["tiles dl_item_file d-flex flex-column text-center",o.class_status])},[o.dgg_only_first?((0,i.uX)(),(0,i.CE)("div",{key:0,class:(0,a.C4)(o.sii?"dl_title text-center text-md-start":"dl_title text-center")},[(0,i.Lk)("h5",null,(0,a.v_)(o.heading_and_required),1)],2)):(0,i.Q3)("",!0),(0,i.Lk)("div",{class:(0,a.C4)(o.sii?["dl_item_file d-flex flex-column flex-md-row align-items-stretch text-center text-md-start",o.class_status,o.dgg_not_last]:["d-flex flex-column"])},[(0,i.Lk)("div",{class:(0,a.C4)(o.sii?"dl_image d-flex pb-2 pt-3 p-md-2 mx-auto mx-md-0 mx-auto mx-md-0":"dl_image px-3 py-2")},[(0,i.Lk)("div",g,[o.sii?((0,i.uX)(),(0,i.CE)("img",{key:0,src:o.image_sample,width:"67",height:"67",class:"my-auto"},null,8,b)):((0,i.uX)(),(0,i.CE)("img",{key:1,src:o.image_sample,width:"322",height:"241.5"},null,8,v))])],2),o.sii?((0,i.uX)(),(0,i.CE)("div",f,[o.mff?((0,i.uX)(),(0,i.CE)("p",{key:0,class:"my-auto mx-auto mx-md-0",title:o.give_filename.names.join(" ")},(0,a.v_)(o.give_filename.label),9,y)):((0,i.uX)(),(0,i.CE)("p",k,(0,a.v_)(o.give_filename),1))])):(0,i.Q3)("",!0),(0,i.Lk)("div",{class:(0,a.C4)(o.sii?"dl_up_download py-3 py-md-4 px-3":"dl_up_download py-3")},[(0,i.Lk)("input",{onChange:e[0]||(e[0]=(...t)=>o.picked_file&&o.picked_file(...t)),multiple:o.mff,ref:"file_input",type:"file",id:"{{ input.tags }}"},null,40,x),(0,i.Lk)("div",{class:(0,a.C4)(o.sii?"btn-wrapper my-auto mx-auto mx-md-0":"btn-wrapper mx-auto")},[(0,i.Lk)("button",{onClick:e[1]||(e[1]=(...t)=>o.select_file&&o.select_file(...t)),type:"button",class:"btn btn-primary btn-upload btn-m",title:"Nahrať súbor",disabled:o.block_reupload},(0,a.v_)(o.mff?"Vyberte súbory":"Vyberte súbor"),9,w),(0,i.Lk)("button",{onClick:e[2]||(e[2]=(...t)=>o.download_doc&&o.download_doc(...t)),type:"button",class:(0,a.C4)(["btn btn-primary btn-download btn-m btn-compact",o.allow_download?"":"v_hidden"]),title:"Stiahnuť súbor"},null,2)],2)],2),(0,i.Lk)("div",L,[(0,i.Lk)("div",{style:(0,a.Tr)({height:l.number_solid+"%"}),class:"dl_bar bar_vertical"},null,4),(0,i.Lk)("div",{style:(0,a.Tr)({height:l.number_opaque+"%",opacity:"0.3"}),class:"dl_bar bar_vertical"},null,4),(0,i.Lk)("div",{style:(0,a.Tr)({width:l.number_solid+"%"}),class:"dl_bar bar_horizontal"},null,4),(0,i.Lk)("div",{style:(0,a.Tr)({width:l.number_opaque+"%",opacity:"0.3"}),class:"dl_bar bar_horizontal"},null,4)]),(0,i.Lk)("div",{class:(0,a.C4)(o.sii?"dl_status pt-3 pb-2 py-md-3 py-md-4 ps-md-3":"dl_status py-4 py-md-3 px-3")},[(0,i.Lk)("p",{class:(0,a.C4)(o.sii?"my-auto mx-auto mx-md-0":"my-auto mx-auto")},(0,a.v_)(o.user_info_status),3),o.mff?((0,i.uX)(!0),(0,i.CE)(i.FK,{key:0},(0,i.pI)(l.preview_many,((t,s)=>((0,i.uX)(),(0,i.CE)("div",{title:s+(t.allow_delete?"":" ODOSLANÝ"),class:"cross_on_hover"},[t.allow_delete?((0,i.uX)(),(0,i.CE)("div",{key:0,onClick:t=>o.delete_doc(s),class:"overlay"},e[5]||(e[5]=[(0,i.Lk)("div",{class:"delete_symbol"},null,-1)]),8,j)):(0,i.Q3)("",!0),"pdf_icon"===t.src?((0,i.uX)(),(0,i.CE)("img",C)):((0,i.uX)(),(0,i.CE)("img",{key:2,src:t.src,width:"41",height:"41"},null,8,z))],8,A)))),256)):(0,i.Q3)("",!0)],2),o.sii&&!o.dgg?((0,i.uX)(),(0,i.CE)("div",E,[(0,i.Lk)("button",{onClick:e[3]||(e[3]=(...t)=>o.send_to_provider&&o.send_to_provider(...t)),disabled:o.send_is_disabled,type:"button",class:"btn btn-primary btn-send btn-m my-auto mx-auto mx-md-0"}," Poslať ",8,q)])):(0,i.Q3)("",!0),o.show_minus?((0,i.uX)(),(0,i.CE)("div",X,[(0,i.Lk)("span",{onClick:e[4]||(e[4]=(...t)=>o.decrease_shown&&o.decrease_shown(...t)),class:"dl_remove mx-auto mx-md-0 my-md-auto",title:"Odobrať súbor"})])):(0,i.Q3)("",!0)],2)],2)),[[m.aG,o.is_displayed_in_group]])}s(4114),s(4603),s(7566),s(8721);var P=s(3886),T=s(8700),N=s(6343),O=s(3175);class S{create_data_record(t){let e={action_name:"create-data-record-request",method:"POST",url:(0,T.A)().endpoint_url()+"online/create-data-record-request/?data_record_token="+t+N.A.add_token_as_parameter(),body:JSON.stringify({data_record_data:["test"]}),content_type:"application/json"},s=new O.A;return s.prepare_params(e).handle_response().catch((t=>{throw t}))}}var U=new S,V=s(3784),D={props:{tag:String},components:{},emits:["refresh_uploaded_ids"],data(){return{debug:!1,error_message:"",preview_one:"",preview_many:{},number_solid:0,number_opaque:0,number_increment:0}},created(){(0,V.A)().init_status_from_session(this.tag),this.download_preview()},methods:{select_file(){this.$refs.file_input.click()},set_status(t){(0,V.A)().set_tag_status(this.tag,t)},picked_file(t){if(this.set_status("uploading"),this.validate_files_stop_upload(t.target.files))this.set_status("failed");else{for(let e in t.target.files){if(!t.target.files.hasOwnProperty(e))continue;let s=this.prepare_payload(t.target.files[e]);this.upload_doc(s)}this.$refs.file_input.value=null}},validate_files_stop_upload(t){if(this.mff&&this.input_data.multiple>1){let e=t.length,s=this.get_all_session.length,i=this.input_data.multiple;if(e+s>i)return this.error_message="Presiahnuté maximálne množstvo súborov, vybrané: "+e+" nahrané: "+s+", max: "+i,!0}let e=5,s=1048576;for(let i in t){if(!t.hasOwnProperty(i))continue;let a=t[i];if(a.size>e*s)return this.error_message="Presiahnutá povolená veľkosť súboru "+Math.round(a.size/s*100)/100+"mb, max: "+e+"mb",!0}return!1},prepare_payload(t){let e=N.A.slugify_keep_extension_add_tag(t.name,this.tag);N.A.starts_with(t.type,"image/")?this.mff?this.preview_many[e]={allow_delete:!0,src:URL.createObjectURL(t)}:this.preview_one=URL.createObjectURL(t):this.mff&&(this.preview_many[e]={allow_delete:!0,src:"pdf_icon"});let s=new FormData;if(s.append("file",t,e),s.append("title",e),s.append("description","uploaded by docs landing page"),s.append("type",t.type),s.append("tags",this.tag),this.mff||null===this.get_one_session||s.append("id",this.get_one_session.id),this.debug){let t=[];for(let e of s)t.push(e);console.log("PAYLOAD:",t)}return s},upload_doc(t){P.A.upload_session_document(t).then((t=>{if(200===t.status)return this.set_status("uploaded"),void this.$emit("refresh_uploaded_ids");this.set_status("failed"),console.log(t)}))},download_doc(){let t=[];t=this.mff?this.get_all_session:[this.get_one_session];let e,s=t.length;for(e=0;e<s;e++){let s=t[e].name,i=t[e].id,a=t[e].documentType;P.A.get_session_document(i).then((t=>{200!==t.status?(this.error_message=t.result?.message,this.set_status("failed")):N.A.downloadBase64(s,t.result.content,null,a)}))}},delete_doc(t){let e,s=this.get_all_session;for(var i=s.length-1;i>=0;i--)s[i].name===t&&(e=s[i].id);void 0!==e?P.A.delete_session_document(e).then((e=>{200===e.status&&(delete this.preview_many[t],0===Object.keys(this.preview_many).length&&this.set_status("empty"),this.$emit("refresh_uploaded_ids"))})):console.log("this should not happen, we dont have ID for "+t)},download_preview(){if("sent"!==this.get_status&&"uploaded"!==this.get_status)return;this.number_solid=100;let t=this.sii?100:350;if(this.mff){let e,s=this.get_all_session,i=s.length;for(e=i-1;e>=0;e--){let i=s[e].name,a=s[e].id,n=s[e].documentType,l=s[e].dataRecords;N.A.starts_with(n,"image/")?P.A.get_session_document_preview(a,t).then((t=>{void 0!==t.result.content&&(this.preview_many[i]={allow_delete:0===l.length,src:"data:image/jpeg;charset=utf-8;base64,"+t.result.content})})):this.preview_many[i]={allow_delete:0===l.length,src:"pdf_icon"}}return}this.get_one_session.name;let e=this.get_one_session.id,s=this.get_one_session.documentType;N.A.starts_with(s,"image/")&&P.A.get_session_document_preview(e,t).then((t=>{this.preview_one="data:image/jpeg;charset=utf-8;base64,"+t.result.content}))},send_to_provider(){let t=this.input_data.send;void 0!==t?(this.set_status("sending"),U.create_data_record(t).then((t=>{if(200===t.status)return this.forbid_deletation_for_sent(),void this.set_status("sent");this.error_message=t.result?.message,this.set_status("error")}))):console.log("record_token is undefined, input has no send=... parameter")},forbid_deletation_for_sent(){if(this.mff)for(let t in this.preview_many)this.preview_many.hasOwnProperty(t)&&(this.preview_many[t].allow_delete=!1)},progress_bar_loading(){this.number_solid=0,this.number_opaque=0,this.number_increment=2;let t=setInterval((()=>{this.number_opaque=this.number_opaque+2,this.number_opaque>=100&&(this.number_opaque=this.number_solid-10)}),10),e=setInterval((()=>{"uploaded"!==this.get_status&&"sent"!==this.get_status||(this.number_increment=5),this.number_increment>0?this.number_increment=this.number_increment-.03:this.number_increment=0,this.number_solid=this.number_solid+this.number_increment,(this.number_solid>=100||"failed"===this.get_status||"error"===this.get_status)&&(this.number_solid=100,clearInterval(e),clearInterval(t))}),50)},decrease_shown(){(0,V.A)().decrease_input_in_group(this.tag);let t=this.get_one_session;null!==t&&P.A.delete_session_document(t.id).then((t=>{200===t.status&&(this.preview_one="",this.number_solid=0,this.number_opaque=0,this.set_status("empty"),this.$emit("refresh_uploaded_ids"))}))}},computed:{get_status(){return(0,V.A)().get_tag_status(this.tag)},input_data(){return(0,V.A)().get_input_data(this.tag)},get_one_session(){return(0,V.A)().one_session_state_by_tag(this.tag)},get_all_session(){return(0,V.A)().all_session_state_by_tag(this.tag)},send_is_disabled(){return"uploaded"!==this.get_status&&"error"!==this.get_status},user_info_status(){let t={empty:"Nahrajte prosím prílohu",uploading:"Nahrávam...",uploaded:this.mff?"Súbory nahraté":"Súbor nahratý",failed:""===this.error_message?"Nahrávanie zlyhalo":this.error_message,sending:"Odosielam...",sent:this.mff?"Súbory odoslané na spracovanie":"Odoslané na spracovanie "+N.A.format_docs_date(this.get_one_session?.dataRecords[0]?.processed),error:this.sioo?this.error_message:(0,V.A)().get_group_error(this.input_data.group)};return t[this.get_status]},class_status(){let t={empty:"",uploading:"",uploaded:"dl_success",failed:"dl_warning",sending:"",sent:"dl_sent",error:"dl_warning"};return t[this.get_status]},allow_download(){return"empty"!==this.get_status&&"uploading"!==this.get_status&&"sending"!==this.get_status},block_reupload(){return!(!this.input_data.reupload_off||"uploading"!==this.get_status&&"sending"!==this.get_status&&"sent"!==this.get_status)},sioo(){return"single"===this.input_data.type},sii(){return"single"===this.input_data.type||"grouped"===this.input_data.type},mff(){return!isNaN(this.input_data.multiple)&&0!==this.input_data.multiple},dgg(){return"grouped"===this.input_data.type},heading_and_required(){return this.input_data.heading+(this.input_data.required?" *":"")},dgg_only_first(){if(!this.dgg)return!0;let t=(0,V.A)().grouped_tag_position(this.tag);return"first"===t||"both"===t},dgg_not_last(){if(!this.dgg)return!1;let t=(0,V.A)().grouped_tag_position(this.tag);return"last"!==t&&"both"!==t?"grouped_not_last":""},image_sample(){if(""!==this.preview_one)return this.preview_one;if(this.sii)return s(7017);try{return s(8744)("./"+this.input_data.image+".jpg")}catch(t){return s(3079)}},give_filename(){if(!this.mff)return this.get_one_session?.name;let t=this.get_all_session,e={label:"",names:[]};1===t.length?e.label=t.length+" súbor":t.length>1&&t.length<5?e.label=t.length+" súbory":t.length>=5&&(e.label=t.length+" súborov");let s,i=t.length;for(s=0;s<i;s++)e.names.push(t[s].name);return e},is_displayed_in_group(){return!this.dgg||(0,V.A)().grouped_shown_state_by_tag(this.tag)},show_minus(){if(!this.dgg)return!1;let t=(0,V.A)().grouped_tag_position(this.tag);return"both"!==t&&("empty"===this.get_status||"uploaded"===this.get_status)}},watch:{get_status(){"uploading"!==this.get_status&&"sending"!==this.get_status||this.progress_bar_loading()}}},R=s(6262);const I=(0,R.A)(D,[["render",F]]);var G=I,M=s(8856),K=s(3079);const Q={key:0},W={class:"dl_item_file d-flex flex-column flex-md-row align-items-stretch text-center text-md-left"},$={class:"dl_up_download py-3 py-md-4 px-3"},B={class:"btn-wrapper my-auto mx-auto mx-md-0"},J={class:"dl_item_file d-flex flex-column flex-md-row align-items-stretch text-center text-md-left"},H={class:"dl_up_download py-3 py-md-4 px-3"},Y={class:"btn-wrapper my-auto mx-auto mx-md-0"},Z={class:"dl_item_file d-flex flex-column flex-md-row align-items-stretch text-center text-md-left dl_success"},tt={class:"dl_up_download py-3 py-md-4 px-3"},et={class:"btn-wrapper my-auto mx-auto mx-md-0"},st={class:"dl_item_file d-flex flex-column flex-md-row align-items-stretch text-center text-md-left dl_warning"},it={class:"dl_up_download py-3 py-md-4 px-3"},at={class:"btn-wrapper my-auto mx-auto mx-md-0"},nt={class:"dl_item_file d-flex flex-column flex-md-row align-items-stretch text-center text-md-left dl_sent"},lt={class:"dl_up_download py-3 py-md-4 px-3"},ot={class:"btn-wrapper my-auto mx-auto mx-md-0"},dt={class:"row"},rt={class:"col-12 col-md-4"},pt={class:"tiles dl_item_file d-flex flex-column text-center"},ut={class:"dl_up_download py-3"},_t={class:"btn-wrapper mx-auto"},ct={class:"col-12 col-md-4"},mt={class:"tiles dl_item_file d-flex flex-column text-center dl_success"},ht={class:"dl_up_download py-3"},gt={class:"btn-wrapper mx-auto"},bt={class:"col-12 col-md-4"},vt={class:"tiles dl_item_file d-flex flex-column text-center dl_warning"},ft={class:"dl_up_download py-3"},yt={class:"btn-wrapper mx-auto"},kt={class:"row"},xt={class:"col-12 col-md-4"},wt={class:"tiles dl_item_file d-flex flex-column text-center dl_sent"},Lt={class:"dl_up_download py-3"},At={class:"btn-wrapper mx-auto"},jt={class:"col-12 col-md-4"},Ct={class:"tiles dl_item_file d-flex flex-column text-center"},zt={class:"dl_up_download py-3"},Et={class:"btn-wrapper mx-auto"},qt={class:"col-12 col-md-4"},Xt={class:"tiles dl_item_file d-flex flex-column text-center"},Ft={class:"dl_up_download py-3"},Pt={class:"btn-wrapper mx-auto"};function Tt(t,e,s,a,n,l){return n.show_testing_template?((0,i.uX)(),(0,i.CE)("div",Q,[e[61]||(e[61]=(0,i.Lk)("h2",null,"Testing template",-1)),e[62]||(e[62]=(0,i.Lk)("div",{class:"dl_item_text"},[(0,i.Lk)("h4",null,"Single file upload"),(0,i.Lk)("p",null,[(0,i.Lk)("strong",null,"Single file upload"),(0,i.eW)(" Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam. ")]),(0,i.Lk)("ul",null,[(0,i.Lk)("li",null,"lorem ipsum"),(0,i.Lk)("li",null,"dolor sit"),(0,i.Lk)("li",null,"adipisicing elit")])],-1)),e[63]||(e[63]=(0,i.Lk)("div",{class:"dl_title text-center text-md-left"},[(0,i.Lk)("h5",null," Default ")],-1)),(0,i.Lk)("div",W,[e[23]||(e[23]=(0,i.Fv)('<div class="dl_image d-flex pb-2 pt-3 p-md-2 mx-auto mx-md-0 mx-auto mx-md-0"><div class="img_wrapper"><img src="'+h+'" width="67" height="67" class="my-auto"></div></div><div class="dl_filename pt-1 pb-0 py-md-4"><p class="my-auto mx-auto mx-md-0"> Loremipsumdolor.docx </p></div>',2)),(0,i.Lk)("div",$,[(0,i.Lk)("input",{type:"file",id:"{{ input.tags }}",onChange:e[0]||(e[0]=(...e)=>t.picked_file&&t.picked_file(...e)),ref:"file_input"},null,544),(0,i.Lk)("div",B,[(0,i.Lk)("button",{type:"button",class:"btn btn-primary btn-upload btn-m",onClick:e[1]||(e[1]=(...e)=>t.select_file&&t.select_file(...e))}," Vyberte súbor "),e[22]||(e[22]=(0,i.Lk)("button",{type:"button",class:"btn btn-primary btn-download btn-m btn-compact"},null,-1))])]),e[24]||(e[24]=(0,i.Fv)('<div class="dl_progress"><div class="dl_bar bar_vertical" style="height:0;"></div><div class="dl_bar bar_horizontal" style="width:0;"></div></div><div class="dl_status pt-3 pb-2 py-md-3 py-md-4 pl-md-3"><p class="my-auto mx-auto mx-md-0"> Nahrajte prosím prílohu </p></div><div class="dl_action pt-2 pb-3 py-md-3 py-md-4 px-3"><button type="button" class="btn btn-primary btn-send btn-m my-auto mx-auto mx-md-0" disabled="disabled"> Poslať </button></div>',3))]),e[64]||(e[64]=(0,i.Lk)("div",{class:"dl_title text-center text-md-left"},[(0,i.Lk)("h5",null," Uploading ")],-1)),(0,i.Lk)("div",J,[e[26]||(e[26]=(0,i.Fv)('<div class="dl_image d-flex pb-2 pt-3 p-md-2 mx-auto mx-md-0"><div class="img_wrapper"><img src="'+h+'" width="67" height="67" class="my-auto"></div></div><div class="dl_filename pt-1 pb-0 py-md-4"><p class="my-auto mx-auto mx-md-0"> Loremipsumdolor.docx </p></div>',2)),(0,i.Lk)("div",H,[(0,i.Lk)("input",{type:"file",id:"{{ input.tags }}",onChange:e[2]||(e[2]=(...e)=>t.picked_file&&t.picked_file(...e)),ref:"file_input"},null,544),(0,i.Lk)("div",Y,[(0,i.Lk)("button",{type:"button",class:"btn btn-primary btn-upload btn-m",onClick:e[3]||(e[3]=(...e)=>t.select_file&&t.select_file(...e))}," Vyberte súbor "),e[25]||(e[25]=(0,i.Lk)("button",{type:"button",class:"btn btn-primary btn-download btn-m btn-compact"},null,-1))])]),e[27]||(e[27]=(0,i.Fv)('<div class="dl_progress"><div class="dl_bar bar_vertical" style="height:30%;"></div><div class="dl_bar bar_horizontal" style="width:30%;"></div></div><div class="dl_status pt-3 pb-2 py-md-3 py-md-4 pl-md-3"><p class="my-auto mx-auto mx-md-0"> Nahrávam... </p></div><div class="dl_action pt-2 pb-3 py-md-3 py-md-4 px-3"><button type="button" class="btn btn-primary btn-send btn-m my-auto mx-auto mx-md-0" disabled="disabled"> Poslať </button></div>',3))]),e[65]||(e[65]=(0,i.Lk)("div",{class:"dl_title text-center text-md-left"},[(0,i.Lk)("h5",null," Success ")],-1)),(0,i.Lk)("div",Z,[e[29]||(e[29]=(0,i.Fv)('<div class="dl_image d-flex pb-2 pt-3 p-md-2 mx-auto mx-md-0"><div class="img_wrapper"><img src="'+h+'" width="67" height="67" class="my-auto"></div></div><div class="dl_filename pt-1 pb-0 py-md-4"><p class="my-auto mx-auto mx-md-0"> Loremipsumdolorsitamet.docx </p></div>',2)),(0,i.Lk)("div",tt,[(0,i.Lk)("input",{type:"file",id:"{{ input.tags }}",onChange:e[4]||(e[4]=(...e)=>t.picked_file&&t.picked_file(...e)),ref:"file_input"},null,544),(0,i.Lk)("div",et,[(0,i.Lk)("button",{type:"button",class:"btn btn-primary btn-upload btn-m",onClick:e[5]||(e[5]=(...e)=>t.select_file&&t.select_file(...e))}," Vyberte súbor "),e[28]||(e[28]=(0,i.Lk)("button",{type:"button",class:"btn btn-primary btn-download btn-m btn-compact"},null,-1))])]),e[30]||(e[30]=(0,i.Fv)('<div class="dl_progress"><div class="dl_bar bar_vertical" style="height:100%;"></div><div class="dl_bar bar_horizontal" style="width:100%;"></div></div><div class="dl_status pt-3 pb-2 py-md-3 py-md-4 pl-md-3"><p class="my-auto mx-auto mx-md-0"> Nahrajte prosím prílohu </p></div><div class="dl_action pt-2 pb-3 py-md-3 py-md-4 px-3"><button type="button" class="btn btn-primary btn-send btn-m my-auto mx-auto mx-md-0"> Poslať </button></div>',3))]),e[66]||(e[66]=(0,i.Lk)("div",{class:"dl_title text-center text-md-left"},[(0,i.Lk)("h5",null," Error ")],-1)),(0,i.Lk)("div",st,[e[32]||(e[32]=(0,i.Fv)('<div class="dl_image d-flex pb-2 pt-3 p-md-2 mx-auto mx-md-0"><div class="img_wrapper"><img src="'+h+'" width="67" height="67" class="my-auto"></div></div><div class="dl_filename d-flex py-1 py-md-4"><p class="my-auto mx-auto mx-md-0"> Loremipsumdolorsitamet.docx </p></div>',2)),(0,i.Lk)("div",it,[(0,i.Lk)("input",{type:"file",id:"{{ input.tags }}",onChange:e[6]||(e[6]=(...e)=>t.picked_file&&t.picked_file(...e)),ref:"file_input"},null,544),(0,i.Lk)("div",at,[(0,i.Lk)("button",{type:"button",class:"btn btn-primary btn-upload btn-m",onClick:e[7]||(e[7]=(...e)=>t.select_file&&t.select_file(...e))}," Vyberte súbor "),e[31]||(e[31]=(0,i.Lk)("button",{type:"button",class:"btn btn-primary btn-download btn-m btn-compact"},null,-1))])]),e[33]||(e[33]=(0,i.Fv)('<div class="dl_progress"><div class="dl_bar bar_vertical" style="height:65%;"></div><div class="dl_bar bar_horizontal" style="width:65%;"></div></div><div class="dl_status pt-3 pb-2 py-md-3 py-md-4 pl-md-3"><p class="my-auto mx-auto mx-md-0"> Nahrajte prosím prílohu </p></div><div class="dl_action pt-2 pb-3 py-md-3 py-md-4 px-3"><button type="button" class="btn btn-primary btn-send btn-m my-auto mx-auto mx-md-0" disabled="disabled"> Poslať </button></div>',3))]),e[67]||(e[67]=(0,i.Lk)("div",{class:"dl_title text-center text-md-left"},[(0,i.Lk)("h5",null," Odoslaný ")],-1)),(0,i.Lk)("div",nt,[e[35]||(e[35]=(0,i.Fv)('<div class="dl_image d-flex pb-2 pt-3 p-md-2 mx-auto mx-md-0"><div class="img_wrapper"><img src="'+h+'" width="67" height="67" class="my-auto"></div></div><div class="dl_filename pt-1 pb-0 py-md-4"><p class="my-auto mx-auto mx-md-0"> Long_file_name_loremipsumdolor.docx </p></div>',2)),(0,i.Lk)("div",lt,[(0,i.Lk)("input",{type:"file",id:"{{ input.tags }}",onChange:e[8]||(e[8]=(...e)=>t.picked_file&&t.picked_file(...e)),ref:"file_input"},null,544),(0,i.Lk)("div",ot,[(0,i.Lk)("button",{type:"button",class:"btn btn-primary btn-upload btn-m",onClick:e[9]||(e[9]=(...e)=>t.select_file&&t.select_file(...e))}," Vyberte súbor "),e[34]||(e[34]=(0,i.Lk)("button",{type:"button",class:"btn btn-primary btn-download btn-m btn-compact"},null,-1))])]),e[36]||(e[36]=(0,i.Fv)('<div class="dl_progress"><div class="dl_bar bar_vertical" style="height:100%;"></div><div class="dl_bar bar_horizontal" style="width:100%;"></div></div><div class="dl_status pt-3 pb-2 py-md-3 py-md-4 pl-md-3"><p class="my-auto mx-auto mx-md-0"> Odoslaný do poisťovne </p></div><div class="dl_action pt-2 pb-3 py-md-3 py-md-4 px-3"><button type="button" class="btn btn-primary btn-send btn-m my-auto mx-auto mx-md-0" disabled="disabled"> Poslať </button></div>',3))]),e[68]||(e[68]=(0,i.Lk)("div",{class:"dl_item_text"},[(0,i.Lk)("h4",null,"Multi file upload"),(0,i.Lk)("p",null,[(0,i.Lk)("strong",null,"Multi file upload"),(0,i.eW)(" Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam. ")])],-1)),(0,i.Lk)("div",dt,[(0,i.Lk)("div",rt,[(0,i.Lk)("div",pt,[e[38]||(e[38]=(0,i.Lk)("div",{class:"dl_title text-center"},[(0,i.Lk)("h5",null,"Uploading")],-1)),e[39]||(e[39]=(0,i.Lk)("div",{class:"dl_image px-3 py-2"},[(0,i.Lk)("div",{class:"img_wrapper"},[(0,i.Lk)("img",{src:K,width:"322",height:"241.5"})])],-1)),(0,i.Lk)("div",ut,[(0,i.Lk)("input",{type:"file",id:"{{ input.tags }}",onChange:e[10]||(e[10]=(...e)=>t.picked_file&&t.picked_file(...e)),ref:"file_input"},null,544),(0,i.Lk)("div",_t,[(0,i.Lk)("button",{type:"button",class:"btn btn-primary btn-upload btn-m",onClick:e[11]||(e[11]=(...e)=>t.select_file&&t.select_file(...e))}," Vyberte súbor "),e[37]||(e[37]=(0,i.Lk)("button",{type:"button",class:"btn btn-primary btn-download btn-m btn-compact"},null,-1))])]),e[40]||(e[40]=(0,i.Fv)('<div class="dl_progress"><div class="dl_bar bar_vertical" style="height:30%;"></div><div class="dl_bar bar_horizontal" style="width:30%;"></div></div><div class="dl_status py-4 py-md-3 px-3"><p class="my-auto mx-auto"> Nahrávam IMG_2022-09-10.jpg </p></div>',2))])]),(0,i.Lk)("div",ct,[(0,i.Lk)("div",mt,[e[42]||(e[42]=(0,i.Lk)("div",{class:"dl_title text-center"},[(0,i.Lk)("h5",null,"Success")],-1)),e[43]||(e[43]=(0,i.Lk)("div",{class:"dl_image px-3 py-2"},[(0,i.Lk)("div",{class:"img_wrapper"},[(0,i.Lk)("img",{src:K,width:"322",height:"241.5"})])],-1)),(0,i.Lk)("div",ht,[(0,i.Lk)("input",{type:"file",id:"{{ input.tags }}",onChange:e[12]||(e[12]=(...e)=>t.picked_file&&t.picked_file(...e)),ref:"file_input"},null,544),(0,i.Lk)("div",gt,[(0,i.Lk)("button",{type:"button",class:"btn btn-primary btn-upload btn-m",onClick:e[13]||(e[13]=(...e)=>t.select_file&&t.select_file(...e))}," Vyberte súbor "),e[41]||(e[41]=(0,i.Lk)("button",{type:"button",class:"btn btn-primary btn-download btn-m btn-compact"},null,-1))])]),e[44]||(e[44]=(0,i.Fv)('<div class="dl_progress"><div class="dl_bar bar_vertical" style="height:100%;"></div><div class="dl_bar bar_horizontal" style="width:100%;"></div></div><div class="dl_status py-4 py-md-3 px-3"><p class="my-auto mx-auto"> IMG_2022-09-10.jpg nahratý </p></div>',2))])]),(0,i.Lk)("div",bt,[(0,i.Lk)("div",vt,[e[46]||(e[46]=(0,i.Lk)("div",{class:"dl_title text-center"},[(0,i.Lk)("h5",null,"Error")],-1)),e[47]||(e[47]=(0,i.Lk)("div",{class:"dl_image px-3 py-2"},[(0,i.Lk)("div",{class:"img_wrapper"},[(0,i.Lk)("img",{src:K,width:"322",height:"241.5"})])],-1)),(0,i.Lk)("div",ft,[(0,i.Lk)("input",{type:"file",id:"{{ input.tags }}",onChange:e[14]||(e[14]=(...e)=>t.picked_file&&t.picked_file(...e)),ref:"file_input"},null,544),(0,i.Lk)("div",yt,[(0,i.Lk)("button",{type:"button",class:"btn btn-primary btn-upload btn-m",onClick:e[15]||(e[15]=(...e)=>t.select_file&&t.select_file(...e))}," Vyberte súbor "),e[45]||(e[45]=(0,i.Lk)("button",{type:"button",class:"btn btn-primary btn-download btn-m btn-compact"},null,-1))])]),e[48]||(e[48]=(0,i.Fv)('<div class="dl_progress"><div class="dl_bar bar_vertical" style="height:100%;"></div><div class="dl_bar bar_horizontal" style="width:100%;"></div></div><div class="dl_status py-4 py-md-3 px-3"><p class="my-auto mx-auto"> Vyskytla sa chyba lorem ipsum </p></div>',2))])])]),(0,i.Lk)("div",kt,[(0,i.Lk)("div",xt,[(0,i.Lk)("div",wt,[e[50]||(e[50]=(0,i.Lk)("div",{class:"dl_title text-center"},[(0,i.Lk)("h5",null,"Sent")],-1)),e[51]||(e[51]=(0,i.Lk)("div",{class:"dl_image px-3 py-2"},[(0,i.Lk)("div",{class:"img_wrapper"},[(0,i.Lk)("img",{src:K,width:"322",height:"241.5"})])],-1)),(0,i.Lk)("div",Lt,[(0,i.Lk)("input",{type:"file",id:"{{ input.tags }}",onChange:e[16]||(e[16]=(...e)=>t.picked_file&&t.picked_file(...e)),ref:"file_input"},null,544),(0,i.Lk)("div",At,[(0,i.Lk)("button",{type:"button",class:"btn btn-primary btn-upload btn-m",onClick:e[17]||(e[17]=(...e)=>t.select_file&&t.select_file(...e))}," Vyberte súbor "),e[49]||(e[49]=(0,i.Lk)("button",{type:"button",class:"btn btn-primary btn-download btn-m btn-compact"},null,-1))])]),e[52]||(e[52]=(0,i.Fv)('<div class="dl_progress"><div class="dl_bar bar_vertical" style="height:100%;"></div><div class="dl_bar bar_horizontal" style="width:100%;"></div></div><div class="dl_status py-4 py-md-3 px-3"><p class="my-auto mx-auto"> IMG_2022-09-10.jpg odoslaný do poisťovne </p></div>',2))])]),(0,i.Lk)("div",jt,[(0,i.Lk)("div",Ct,[e[54]||(e[54]=(0,i.Lk)("div",{class:"dl_title text-center"},[(0,i.Lk)("h5",null,"Predobok ľavý")],-1)),e[55]||(e[55]=(0,i.Lk)("div",{class:"dl_image px-3 py-2"},[(0,i.Lk)("div",{class:"img_wrapper"},[(0,i.Lk)("img",{src:K,width:"322",height:"241.5"})])],-1)),(0,i.Lk)("div",zt,[(0,i.Lk)("input",{type:"file",id:"{{ input.tags }}",onChange:e[18]||(e[18]=(...e)=>t.picked_file&&t.picked_file(...e)),ref:"file_input"},null,544),(0,i.Lk)("div",Et,[(0,i.Lk)("button",{type:"button",class:"btn btn-primary btn-upload btn-m",onClick:e[19]||(e[19]=(...e)=>t.select_file&&t.select_file(...e))}," Vyberte súbor "),e[53]||(e[53]=(0,i.Lk)("button",{type:"button",class:"btn btn-primary btn-download btn-m btn-compact"},null,-1))])]),e[56]||(e[56]=(0,i.Fv)('<div class="dl_progress"><div class="dl_bar bar_vertical" style="height:0;"></div><div class="dl_bar bar_horizontal" style="width:0;"></div></div><div class="dl_status py-4 py-md-3 px-3"><p class="my-auto mx-auto"> Nahrajte prosím prílohu podľa vzoru na obrázku </p></div>',2))])]),(0,i.Lk)("div",qt,[(0,i.Lk)("div",Xt,[e[58]||(e[58]=(0,i.Lk)("div",{class:"dl_title text-center"},[(0,i.Lk)("h5",null,"Zadobok pravý")],-1)),e[59]||(e[59]=(0,i.Lk)("div",{class:"dl_image px-3 py-2"},[(0,i.Lk)("div",{class:"img_wrapper"},[(0,i.Lk)("img",{src:K,width:"322",height:"241.5"})])],-1)),(0,i.Lk)("div",Ft,[(0,i.Lk)("input",{type:"file",id:"{{ input.tags }}",onChange:e[20]||(e[20]=(...e)=>t.picked_file&&t.picked_file(...e)),ref:"file_input"},null,544),(0,i.Lk)("div",Pt,[(0,i.Lk)("button",{type:"button",class:"btn btn-primary btn-upload btn-m",onClick:e[21]||(e[21]=(...e)=>t.select_file&&t.select_file(...e))}," Vyberte súbor "),e[57]||(e[57]=(0,i.Lk)("button",{type:"button",class:"btn btn-primary btn-download btn-m btn-compact"},null,-1))])]),e[60]||(e[60]=(0,i.Fv)('<div class="dl_progress"><div class="dl_bar bar_vertical" style="height:0;"></div><div class="dl_bar bar_horizontal" style="width:0;"></div></div><div class="dl_status py-4 py-md-3 px-3"><p class="my-auto mx-auto"> Nahrajte prosím prílohu podľa vzoru na obrázku </p></div>',2))])])]),e[69]||(e[69]=(0,i.Fv)('<div class="dl_item_action"><div class="row"><div class="col-12 col-sm-9 col-md-10 my-auto"><p> Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam </p></div><div class="col-12 col-sm-3 col-md-2 text-center text-sm-right"><button type="button" class="btn btn-primary btn-send btn-m mt-2 mt-md-0"> Poslať </button></div></div></div>',1))])):(0,i.Q3)("",!0)}var Nt={props:{},components:{},data(){return{show_testing_template:!1}},created(){},methods:{},computed:{}};const Ot=(0,R.A)(Nt,[["render",Tt]]);var St=Ot;const Ut={class:"dl_item_action"},Vt={class:"row"},Dt={class:"col-12 col-sm-9 my-auto text-center text-md-start"},Rt={class:"col-12 col-sm-3 text-center text-md-end text-nowrap"},It=["disabled","title"];function Gt(t,e,s,n,l,o){return(0,i.uX)(),(0,i.CE)("div",Ut,[(0,i.Lk)("div",Vt,[(0,i.Lk)("div",Dt,[(0,i.Lk)("p",null,(0,a.v_)(s.input.text),1)]),(0,i.Lk)("div",Rt,[o.allow_adding_more?((0,i.uX)(),(0,i.CE)("span",{key:0,onClick:e[0]||(e[0]=(...t)=>o.increase_shown&&o.increase_shown(...t)),class:"dl_add align-middle d-block d-sm-inline-block mx-auto me-sm-3 mt-2 mt-sm-0",title:"Pridať súbor"})):(0,i.Q3)("",!0),(0,i.Lk)("button",{onClick:e[1]||(e[1]=(...t)=>o.send_to_provider&&o.send_to_provider(...t)),disabled:o.send_disabled,type:"button",class:"btn btn-primary btn-send btn-m mt-2 mt-sm-0",title:s.input.group}," Poslať ",8,It)])])])}var Mt={props:{input:{send:String,text:String,group:String}},components:{},data(){return{}},methods:{set_status(t){var e,s=this.grouped_tags.length;for(e=0;e<s;e++){let s=this.grouped_tags[e];"empty"!==(0,V.A)().get_tag_status(s)&&(0,V.A)().set_tag_status(s,t)}},send_to_provider(){let t=this.input.send;void 0!==t?(this.set_status("sending"),U.create_data_record(t).then((t=>{200!==t.status?((0,V.A)().add_group_error(this.input.group,t.result?.message),this.set_status("error")):this.set_status("sent")}))):console.log("record_token is undefined, input has no send=... parameter")},increase_shown(){(0,V.A)().increase_input_in_group(this.input.group)}},computed:{grouped_tags(){return(0,V.A)().get_tags_by_group(this.input.group)},send_disabled(){let t,e=!0,s=this.grouped_tags.length;for(t=0;t<s;t++){let s=this.grouped_tags[t],i=(0,V.A)().get_tag_status(s),a=(0,V.A)().get_input_data(s).required;if(a&&"empty"===i){e=!0;break}"uploaded"!==i&&"error"!==i||(e=!1)}return e},allow_adding_more(){return!(0,V.A)().grouped_all_are_shown(this.input.group)}}};const Kt=(0,R.A)(Mt,[["render",Gt]]);var Qt=Kt,Wt=s(9452);class $t{process_template(t){let e,s=t.split("%%"),i=[],a=s.length;for(e=0;e<a;e++){let t=s[e].replace('<html><head><meta charset="UTF-8"></head>',"").replace("</html>","").replace(/<span style="display:none">(.*?)<\/span>/,"").replace(/\n/g,"").replace(/\t/g,"").trim();if(-1!==t.indexOf("send_button"))i.push({key:"button_key",content:{send:t.match(/send=\w+/)?.[0].replace("send=",""),text:t.match(/text="(.*?)"/)?.[0].replace('text="',"").replace('"',""),group:t.match(/group=\w+/)?.[0].replace("group=","")}});else if(null===t.match(/type=\w+/)){if(""===t)continue;i.push({key:"html_key",content:t})}else i.push(this.create_input_object(t))}return i}create_input_object(t){let e=t.match(/type=\w+/)?.[0].replace("type=","");if("single"===e){let s=t.match(/tags=\w+/)?.[0].replace("tags=",""),i=t.match(/send=\w+/)?.[0].replace("send=",""),a=t.match(/heading="(.*?)"/)?.[0].replace('heading="',"").replace('"',""),n=parseInt(t.match(/multiple=\w+/)?.[0].replace("multiple=",""),10),l=!!t.match(/reupload=off/),o={type:e,group:null,tags:s,send:i,heading:a,image:null,required:!1,reupload_off:l,multiple:n};return(0,V.A)().add_input_data(s,o),{key:"input_key",tag:s}}if("tiles"===e){let s,i=[],a=t.match(/group=\w+/)?.[0].replace("group=",""),n=t.split("%"),l=n.length;for(s=0;s<l;s++){if(n[s].match(/type=/))continue;let t=n[s].match(/tags=\w+/)?.[0].replace("tags=",""),l=n[s].match(/heading="(.*?)"/)?.[0].replace('heading="',"").replace('"',""),o=n[s].match(/image="(.*?)"/)?.[0].replace('image="',"").replace('"',""),d=!!n[s].match(/required=1/),r=!!n[s].match(/reupload=off/),p={type:e,group:a,tags:t,send:null,heading:l,image:o,required:d,reupload_off:r,multiple:NaN};(0,V.A)().add_input_data(t,p),i.push(t)}return{key:"tiles_key",all_tags:i}}if("grouped"===e){let s,i=[],a=t.match(/tags=\w+/)?.[0].replace("tags=",""),n=t.match(/group=\w+/)?.[0].replace("group=",""),l=t.match(/heading="(.*?)"/)?.[0].replace('heading="',"").replace('"',""),o=parseInt(t.match(/max=\w+/)?.[0].replace("max=",""),10),d=!!t.match(/reupload=off/),r=o;for(s=0;s<r;s++){let t=a+(s+1),o={type:e,group:n,tags:t,send:null,heading:l,image:null,required:!1,reupload_off:d,multiple:NaN};(0,V.A)().add_input_data(t,o),i.push(t)}return(0,V.A)().setup_displayed_in_group(n,o,i),{key:"grouped_key",all_tags:i}}return console.log("Parameter type="+e+" was not recognized."),{}}}var Bt=new $t;const Jt={class:"dl_item_form"},Ht={class:"mb-3"},Yt={class:"mb-3"},Zt=["disabled"],te={class:"text-center mt-3"},ee=["innerHTML"];function se(t,e,s,n,l,o){const d=(0,i.g2)("Bouncer_loading");return(0,i.uX)(),(0,i.CE)("div",Jt,[(0,i.Lk)("div",null,[e[5]||(e[5]=(0,i.Lk)("h4",null,[(0,i.Lk)("strong",null,"Vitajte v nahrávaní dokumentov")],-1)),e[6]||(e[6]=(0,i.Lk)("p",{class:"mb-5"},[(0,i.eW)(" Vyplňťe vaše rodné číslo a číslo zmluvy pre ktorú by ste chceli nahrať dokumenty. "),(0,i.Lk)("br"),(0,i.eW)(" Číslo zmluvy je variabilný symbol platby. ")],-1)),(0,i.Lk)("form",{onSubmit:e[2]||(e[2]=(...t)=>o.finder_submited&&o.finder_submited(...t))},[(0,i.Lk)("div",Ht,[e[3]||(e[3]=(0,i.Lk)("label",{class:"form-label",for:"contract_id"}," Číslo zmluvy ",-1)),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.contract_id=t),ref:"input_reference",type:"text",name:"contract_id",id:"contract_id",class:"form-control",placeholder:"Napr. 71622940",maxlength:"100"},null,512),[[m.Jo,l.contract_id]])]),(0,i.Lk)("div",Yt,[e[4]||(e[4]=(0,i.Lk)("label",{class:"form-label",for:"identification"}," Rodné čislo ",-1)),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.identification=t),type:"text",name:"identification",id:"identification",class:"form-control",placeholder:"Napr. 9001020017 (bez lomítka)",maxlength:"10"},null,512),[[m.Jo,l.identification]])]),(0,i.Lk)("button",{disabled:l.loading,type:"submit",class:"btn btn-primary w-100 mt-3"},(0,a.v_)(l.loading?"Vyhľadávam...":"Vyhľadať zmluvu"),9,Zt),(0,i.Lk)("div",te,[(0,i.bo)((0,i.Lk)("p",{innerHTML:l.feedback},null,8,ee),[[m.aG,l.feedback]]),(0,i.bo)((0,i.bF)(d,{size:"large"},null,512),[[m.aG,l.loading]])])],32)])])}class ie{search_session(t,e){let s={action_name:"search-session",method:"GET",url:(0,T.A)().endpoint_url()+"online/search-session/?contract_number="+t+"&client_identification="+e},i=new O.A;return i.prepare_params(s).handle_response().catch((t=>{throw t}))}}var ae=new ie,ne=s(55),le={props:{},components:{Bouncer_loading:ne.A},emits:[],data(){return{loading:!1,feedback:"",contract_id:"",identification:""}},created(){this.$nextTick((()=>{this.$refs.input_reference.focus()}))},methods:{finder_submited(t){t.preventDefault(),this.feedback="",this.contract_id=""+this.contract_id,this.contract_id!==N.A.keep_only_numbers(this.contract_id)&&(this.contract_id=N.A.keep_only_numbers(this.contract_id)),this.identification=""+this.identification,this.identification!==N.A.keep_only_numbers(this.identification)&&(this.identification=N.A.keep_only_numbers(this.identification)),""!==this.contract_id||""!==this.identification?""!==this.contract_id?""!==this.identification?[8,9,10].includes(this.identification.length)?(this.loading=!0,ae.search_session(this.contract_id,this.identification).then((t=>200!==t.status?(this.feedback="<b>Error:<br></b>"+JSON.stringify(t.result),void(this.loading=!1)):null===t.result.data?(this.feedback="Nenašli sme zmluvu s číslom <b>"+this.contract_id+"</b> pre rodné číslo <b>"+this.identification+"</b>. <br> Skontrolujte prosím či ste zadali čísla správne.",void(this.loading=!1)):(this.feedback="<b>Našli sme vašu zmluvu.</b> Presmerovávame...",void setTimeout((()=>{(0,T.A)().set_session_token(t.result.data),this.loading=!1}),1500))))):this.feedback="Požadovaná dĺžka <b>Rodného čísla</b> je <b>8</b> až <b>10</b> znakov. <br> Aktuálny počet znakov je <b>"+this.identification.length+"</b>.":this.feedback="<b>Rodné čislo</b> je povinný údaj.":this.feedback="<b>Číslo zmluvy</b> je povinný údaj.":this.feedback="<b>Číslo zmluvy</b> aj <b>Rodné čislo</b> sú povinné údaje."}},computed:{},watch:{}};const oe=(0,R.A)(le,[["render",se]]);var de=oe,re={props:{},components:{Upload_input:G,Testing_template:St,Send_button:Qt,Find_session:de,Bouncer_loading:ne.A},data(){return{debug:!1,template_name:"",template_raw:"",template_array:[],loading_template:!1,session_debug:"",debug_template:'\n\t\t\t\t\t<h2>Document upload landing page</h2>\n\t\t\t\t\t%% type=grouped tags=udalost group=udalost heading="Škodová udalosť záznamy" max=4 %%\n\t\t\t\t\t%% send_button send=upload_kasko_protokol_foto group=udalost plus_button=1 text="Deus vult dolor sit amet..." %%\n\t\t\t\t\t<p>\n\t\t\t\t\t\tLorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n\t\t\t\t\t</p>\n\t\t\t\t\t%% type=single tags=tp send=upload_kasko_tp_foto heading="Kapota auta" multiple=3 %%\n\t\t\t\t\t<p>\n\t\t\t\t\t\tLorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n\t\t\t\t\t</p>\n\t\t\t\t\t%% type=single tags=faktura send=upload_kasko_faktura_foto heading="Technický preukaz" reupload=off %%\n\t\t\t\t\t<p>\n\t\t\t\t\t\tLorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tUt enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.\n\t\t\t\t\t</p>\n\t\t\t\t\t%%\n\t\t\t\t\t\ttype=tiles group=kufre\n\t\t\t\t\t\t%\n\t\t\t\t\t\ttags=protokol1 heading="Kufor 1" image="07_lavobok" required=1\n\t\t\t\t\t\t%\n\t\t\t\t\t\ttags=protokol2 heading="Kufor 2" image="08_pravobok" required=1\n\t\t\t\t\t\t%\n\t\t\t\t\t\ttags=protokol3 heading="Kufor 3" image="09_celne_sklo" required=1\n\t\t\t\t\t\t%\n\t\t\t\t\t\ttags=protokol4 heading="Kufor 4" required=0\n\t\t\t\t\t\t%\n\t\t\t\t\t\ttags=protokol5 heading="Kufor 5" required=0\n\t\t\t\t\t%%\n\t\t\t\t\t%% send_button send=upload_kasko_protokol_foto group=kufre text="Deus vult dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam" %%\n\t\t\t\t'}},created(){this.load_docs_worker()},methods:{load_docs_worker(){this.missing_session||(this.loading_template=!0,Promise.resolve().then((()=>this.get_template_token_name())).then((()=>Promise.all([this.get_document_template(),this.get_session_documents()]))).then((()=>{this.template_array=Bt.process_template(this.template_raw),this.loading_template=!1})).catch((t=>{console.log(t),this.loading_template=!1})))},get_template_token_name(){return this.debug?(console.log("using template: DEBUG"),Promise.resolve()):Wt.A.get_data().then((t=>{if(200!==t.status)return Promise.reject("getdata api failed");this.template_name=t.result.call_params?.osm_doc_template||"upload_placeholder",console.log("using template: "+this.template_name)}))},get_document_template(){return this.debug?(this.template_raw=this.debug_template,Promise.resolve()):M.A.get_it(this.template_name).then((t=>{if(200!==t.status)return Promise.reject("gethtml api failed");this.template_raw=t.result.error||t.result.html}))},get_session_documents(){return P.A.session_documents(!0).then((t=>{if(200!==t.status)return Promise.reject("getsessiondocuments api failed");this.session_debug=JSON.stringify(t,null,2),(0,V.A)().set_doc_session_state(t.result.data?.documents)}))},refresh_uploaded_ids(){this.get_session_documents()}},computed:{clear_template_data(){return this.template_array},missing_session(){return(0,T.A)().is_fresh_session()}},watch:{missing_session(){this.load_docs_worker()}}};const pe=(0,R.A)(re,[["render",c]]);var ue=pe},55:function(t,e,s){"use strict";s.d(e,{A:function(){return p}});var i=s(641),a=s(33);const n={class:"spinner"};function l(t,e,s,l,o,d){return(0,i.uX)(),(0,i.CE)("div",n,[(0,i.Lk)("div",{class:(0,a.C4)(["bounce1",s.size])},null,2),(0,i.Lk)("div",{class:(0,a.C4)(["bounce2",s.size])},null,2),(0,i.Lk)("div",{class:(0,a.C4)(["bounce3",s.size])},null,2)])}var o={props:{size:String},components:{},data(){return{}},created(){},methods:{},computed:{}},d=s(6262);const r=(0,d.A)(o,[["render",l]]);var p=r},8744:function(t,e,s){var i={"./01_predna_lava_cast.jpg":8188,"./02_predna_prava_cast.jpg":9839,"./03_zadna_prava_cast.jpg":730,"./04_zadna_lava_cast.jpg":7793,"./05_predna_cast.jpg":3191,"./06_zadna_cast.jpg":7018,"./07_lavobok.jpg":5693,"./08_pravobok.jpg":4630,"./09_celne_sklo.jpg":9076,"./10_palubna_doska.jpg":3239,"./11_najazdene_km.jpg":4897,"./12_vin_cislo.jpg":6885,"./13_motor.jpg":9677,"./14_poskodenie_celneho_skla.jpg":419,"./15_poskodenie_vozidla.jpg":2755,"./16_ovladace_okien.jpg":2171,"./17_stitok_celne.jpg":3762,"./18_disk_pneumatika.jpg":4480,"./placeholder_a.jpg":4680,"./placeholder_b.jpg":3079,"./placeholder_c.jpg":5594};function a(t){var e=n(t);return s(e)}function n(t){if(!s.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=n,t.exports=a,a.id=8744},7017:function(t,e,s){"use strict";t.exports=s.p+"img/dl_img_doc_general.f243e334.svg"},8188:function(t,e,s){"use strict";t.exports=s.p+"img/01_predna_lava_cast.e7515db8.jpg"},9839:function(t,e,s){"use strict";t.exports=s.p+"img/02_predna_prava_cast.908f7d88.jpg"},730:function(t,e,s){"use strict";t.exports=s.p+"img/03_zadna_prava_cast.667834ec.jpg"},7793:function(t,e,s){"use strict";t.exports=s.p+"img/04_zadna_lava_cast.60388429.jpg"},3191:function(t,e,s){"use strict";t.exports=s.p+"img/05_predna_cast.0993c142.jpg"},7018:function(t,e,s){"use strict";t.exports=s.p+"img/06_zadna_cast.96f70206.jpg"},5693:function(t,e,s){"use strict";t.exports=s.p+"img/07_lavobok.ff793539.jpg"},4630:function(t,e,s){"use strict";t.exports=s.p+"img/08_pravobok.0714bd9c.jpg"},9076:function(t,e,s){"use strict";t.exports=s.p+"img/09_celne_sklo.ba9a0bca.jpg"},3239:function(t,e,s){"use strict";t.exports=s.p+"img/10_palubna_doska.f259b5bf.jpg"},4897:function(t,e,s){"use strict";t.exports=s.p+"img/11_najazdene_km.57c95718.jpg"},6885:function(t,e,s){"use strict";t.exports=s.p+"img/12_vin_cislo.5667a1fd.jpg"},9677:function(t,e,s){"use strict";t.exports=s.p+"img/13_motor.8649c119.jpg"},419:function(t,e,s){"use strict";t.exports=s.p+"img/14_poskodenie_celneho_skla.24af2742.jpg"},2755:function(t,e,s){"use strict";t.exports=s.p+"img/15_poskodenie_vozidla.15fa5016.jpg"},2171:function(t,e,s){"use strict";t.exports=s.p+"img/16_ovladace_okien.f90874f7.jpg"},3762:function(t,e,s){"use strict";t.exports=s.p+"img/17_stitok_celne.a8185ff3.jpg"},4480:function(t,e,s){"use strict";t.exports=s.p+"img/18_disk_pneumatika.3f562f65.jpg"},4680:function(t,e,s){"use strict";t.exports=s.p+"img/placeholder_a.ba8da71b.jpg"},3079:function(t,e,s){"use strict";t.exports=s.p+"img/placeholder_b.2b07beba.jpg"},5594:function(t,e,s){"use strict";t.exports=s.p+"img/placeholder_c.792c931a.jpg"}}]);
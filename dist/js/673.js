"use strict";(self["webpackChunkosmapp_webpack_3x25x"]=self["webpackChunkosmapp_webpack_3x25x"]||[]).push([[673],{55:function(e,o,t){t.d(o,{A:function(){return _}});var l=t(641),s=t(33);const a={class:"spinner"};function n(e,o,t,n,d,i){return(0,l.uX)(),(0,l.CE)("div",a,[(0,l.Lk)("div",{class:(0,s.C4)(["bounce1",t.size])},null,2),(0,l.Lk)("div",{class:(0,s.C4)(["bounce2",t.size])},null,2),(0,l.Lk)("div",{class:(0,s.C4)(["bounce3",t.size])},null,2)])}var d={props:{size:String},components:{},data(){return{}},created(){},methods:{},computed:{}},i=t(6262);const r=(0,i.A)(d,[["render",n]]);var _=r},1673:function(e,o,t){t.r(o),t.d(o,{default:function(){return xe}});var l=t(641);function s(e,o,t,s,a,n){const d=(0,l.g2)("New_session_form"),i=(0,l.g2)("List_of_sessions");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(d),(0,l.bF)(i)],64)}var a=t(3751),n=t(33);const d={class:"col-12 col-md-4 bg-light p-2"},i={class:"col-12 col-md-4 bg-light p-2"},r=["value"],_={class:"col-12 col-md-4 bg-light p-2"},p={class:"col-12 col-md-4 bg-light p-2"},c={key:0,class:"col-12 col-md-4 bg-light p-2"},m={key:1,class:"col-12 col-md-4 bg-light p-2"},u=["value"],k={key:2,class:"col-12 col-md-4 bg-light p-2"},h={key:3,class:"col-12 col-md-4 bg-light p-2"},g={key:4,class:"col-12 col-md-4 bg-light p-2"},b={class:"col-12 col-md-4 bg-light p-2"},f={class:"col-12 col-md-4 bg-light p-2"},v={class:"col-12 col-md-4 bg-light p-2"},y={key:5,class:"col-12 col-md-4 bg-light p-2"},L={key:6,class:"col-12 col-md-4 bg-light p-2"},w={key:7,class:"col-12 col-md-4 bg-light p-2"},C={key:8,class:"col-12 col-md-4 bg-light p-2"},x={key:9,class:"col-12 col-md-4 bg-light p-2"},E={key:10,class:"col-12 col-md-4 bg-light p-2"},A={key:11,class:"col-12 col-md-4 bg-light p-2"},X={key:12,class:"col-12 col-md-4 bg-light p-2"},U={key:13,class:"col-12 col-md-4 bg-light p-2"},V={key:14,class:"col-12 col-md-4 bg-light p-2"},F={key:15,class:"col-12 col-md-4 bg-light p-2"},z={key:16,class:"col-12 col-md-4 bg-light p-2"},Q={class:"form-check pt-4"},I={class:"col-12 col-md-4 bg-light px-2 pt-4 pb-2 pb-md-4 mb-0 mb-md-3"},J=["disabled"],S={class:"col-12 col-md-4 bg-light px-2 pt-2 pt-md-4 pb-2 pb-md-4 mb-0 mb-md-3"},K=["disabled"],P={class:"col-12 col-md-4 bg-light px-2 pb-4 pt-2 pt-md-4 mb-3"},j={key:0,class:"text-center pt-3"},N=["disabled"],R={key:1,class:"text-center pt-5 mt-5"};function B(e,o,t,s,B,D){const G=(0,l.g2)("Bouncer_loading");return D.no_keep_parameter?((0,l.uX)(),(0,l.CE)("form",{key:0,onSubmit:o[21]||(o[21]=(...e)=>D.create_session&&D.create_session(...e)),class:"create_sesssion row mt-2 mb-5","data-cy":"create_sesssion"},[(0,l.Lk)("div",d,[o[23]||(o[23]=(0,l.Lk)("label",{for:"mode",class:"form-label"},"Mode",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":o[0]||(o[0]=e=>B.model_mode=e),id:"mode",class:"form-control"},o[22]||(o[22]=[(0,l.Lk)("option",{value:"form_app"},"form_app (formuláre Najpoistenia)",-1),(0,l.Lk)("option",{value:"node_red"},"node_red (dynamické flow)",-1),(0,l.Lk)("option",{value:"docs_landing"},"docs_landing (upload page)",-1)]),512),[[a.u1,B.model_mode]])]),(0,l.Lk)("div",i,[o[24]||(o[24]=(0,l.Lk)("label",{for:"receiver",class:"form-label"},"Receiver",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":o[1]||(o[1]=e=>B.model_receiver=e),id:"receiver",class:"form-control"},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(D.all_receivers,(e,o)=>((0,l.uX)(),(0,l.CE)("option",{value:o},(0,n.v_)(o+" - "+e),9,r))),256))],512),[[a.u1,B.model_receiver]])]),(0,l.Lk)("div",_,[o[26]||(o[26]=(0,l.Lk)("label",{for:"endpoint",class:"form-label"},"Endpoint",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":o[2]||(o[2]=e=>B.model_endpoint=e),id:"endpoint",class:"form-control"},o[25]||(o[25]=[(0,l.Fv)('<option value="develop">develop</option><option value="minor_stage">minor_stage</option><option value="stage">stage</option><option value="edu">edu</option><option value="production">production</option><option value="pg_production">pg_production</option><option value="sfa_production">sfa_production</option>',7)]),512),[[a.u1,B.model_endpoint]])]),(0,l.Lk)("div",p,[o[27]||(o[27]=(0,l.Lk)("label",{for:"session",class:"form-label"},"Session",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":o[3]||(o[3]=e=>B.model_session=e),type:"text",class:"form-control",id:"session",placeholder:"uuid session token",maxlength:"36"},null,512),[[a.Jo,B.model_session]])]),"node_red"===B.model_mode?((0,l.uX)(),(0,l.CE)("div",c,[o[29]||(o[29]=(0,l.Lk)("label",{for:"flow",class:"form-label"},"Flow id",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":o[4]||(o[4]=e=>B.model_flow=e),id:"flow",class:"form-control"},o[28]||(o[28]=[(0,l.Fv)('<option value="200">200 - nahlasenie spz</option><option value="105">105 - onboarding</option><option value="106">106 - onboarding-new</option><option value="90">90 - onboarding again??</option><option value="91">91 - claims</option>',5)]),512),[[a.u1,B.model_flow]])])):"form_app"===B.model_mode?((0,l.uX)(),(0,l.CE)("div",m,[o[30]||(o[30]=(0,l.Lk)("label",{for:"group",class:"form-label"},"Group id",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":o[5]||(o[5]=e=>B.model_group=e),id:"group",class:"form-control"},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(D.group_options,(e,o)=>((0,l.uX)(),(0,l.CE)("option",{value:o},(0,n.v_)(o)+" - "+(0,n.v_)(e),9,u))),256))],512),[[a.u1,B.model_group]])])):((0,l.uX)(),(0,l.CE)("div",k)),"form_app"===B.model_mode?((0,l.uX)(),(0,l.CE)("div",h,[o[32]||(o[32]=(0,l.Lk)("label",{for:"step",class:"form-label"},"Step",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":o[6]||(o[6]=e=>B.model_step=e),id:"step",class:"form-control"},o[31]||(o[31]=[(0,l.Fv)('<option value="0">0 - offer</option><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6 - payment gateway</option><option value="88">88 - design samples</option><option value="99">99 - logic sandbox</option>',9)]),512),[[a.u1,B.model_step]])])):((0,l.uX)(),(0,l.CE)("div",g)),(0,l.Lk)("div",b,[o[34]||(o[34]=(0,l.Lk)("label",{for:"skin",class:"form-label"},"Skin",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":o[7]||(o[7]=e=>B.model_skin=e),id:"skin",class:"form-control"},o[33]||(o[33]=[(0,l.Fv)('<option value="najpoistenie">najpoistenie</option><option value="myport">myport</option><option value="finportal">finportal</option><option value="partners">partners</option><option value="neutral">neutral</option><option value="zeteo">zeteo</option>',6)]),512),[[a.u1,B.model_skin]])]),(0,l.Lk)("div",f,[o[35]||(o[35]=(0,l.Lk)("label",{for:"agent",class:"form-label"},"Agent",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":o[8]||(o[8]=e=>B.model_agent=e),type:"text",class:"form-control",id:"agent",placeholder:"interny kod agenta"},null,512),[[a.Jo,B.model_agent]])]),(0,l.Lk)("div",v,[o[36]||(o[36]=(0,l.Lk)("label",{for:"note",class:"form-label"},"Note",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":o[9]||(o[9]=e=>B.model_note=e),type:"text",class:"form-control",id:"note",placeholder:"napr. zivot nn 2 osoby",maxlength:"54"},null,512),[[a.Jo,B.model_note]])]),B.show_more?((0,l.uX)(),(0,l.CE)("div",y,[o[37]||(o[37]=(0,l.Lk)("label",{for:"filtered",class:"form-label"},"Filtered products",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":o[10]||(o[10]=e=>B.model_filtered=e),type:"text",class:"form-control",id:"filtered",placeholder:"219,299"},null,512),[[a.Jo,B.model_filtered]])])):(0,l.Q3)("",!0),B.show_more&&"node_red"===B.model_mode?((0,l.uX)(),(0,l.CE)("div",L,[o[38]||(o[38]=(0,l.Lk)("label",{for:"flow",class:"form-label"},"Flow manual",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":o[11]||(o[11]=e=>B.model_flow=e),type:"text",class:"form-control",id:"flow",placeholder:"105"},null,512),[[a.Jo,B.model_flow]])])):B.show_more&&"form_app"===B.model_mode?((0,l.uX)(),(0,l.CE)("div",w,[o[39]||(o[39]=(0,l.Lk)("label",{for:"group_manual",class:"form-label"},"Group manual",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":o[12]||(o[12]=e=>B.model_group=e),type:"text",class:"form-control",id:"group_manual"},null,512),[[a.Jo,B.model_group]])])):B.show_more?((0,l.uX)(),(0,l.CE)("div",C)):(0,l.Q3)("",!0),B.show_more?((0,l.uX)(),(0,l.CE)("div",x)):(0,l.Q3)("",!0),B.show_more?((0,l.uX)(),(0,l.CE)("div",E,[o[41]||(o[41]=(0,l.Lk)("label",{for:"role",class:"form-label"},"Signature Role",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":o[13]||(o[13]=e=>B.model_role=e),id:"role",class:"form-control"},o[40]||(o[40]=[(0,l.Fv)('<option value="">-</option><option value="agent">agent</option><option value="poistnik">poistnik</option><option value="ziadatel">ziadatel</option><option value="spoludlznik">spoludlznik</option>',5)]),512),[[a.u1,B.model_role]])])):(0,l.Q3)("",!0),B.show_more?((0,l.uX)(),(0,l.CE)("div",A,[o[42]||(o[42]=(0,l.Lk)("label",{for:"role_manual",class:"form-label"},"Role manual",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":o[14]||(o[14]=e=>B.model_role=e),type:"text",class:"form-control",id:"role_manual"},null,512),[[a.Jo,B.model_role]])])):(0,l.Q3)("",!0),B.show_more&&"node_red"===B.model_mode?((0,l.uX)(),(0,l.CE)("div",X,[o[43]||(o[43]=(0,l.Lk)("label",{for:"client",class:"form-label"},"Klient",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":o[15]||(o[15]=e=>B.model_client=e),type:"text",class:"form-control",id:"client",placeholder:"uuid kod klienta"},null,512),[[a.Jo,B.model_client]])])):B.show_more?((0,l.uX)(),(0,l.CE)("div",U)):(0,l.Q3)("",!0),B.show_more?((0,l.uX)(),(0,l.CE)("div",V,[o[44]||(o[44]=(0,l.Lk)("label",{for:"payment_id",class:"form-label"},"Payment ID",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":o[16]||(o[16]=e=>B.model_payment_id=e),type:"text",class:"form-control",id:"payment_id",placeholder:"&paymentid={uuid}"},null,512),[[a.Jo,B.model_payment_id]])])):(0,l.Q3)("",!0),B.show_more?((0,l.uX)(),(0,l.CE)("div",F,[o[45]||(o[45]=(0,l.Lk)("label",{for:"payment_result",class:"form-label"},"Payment Result",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":o[17]||(o[17]=e=>B.model_payment_result=e),type:"text",class:"form-control",id:"payment_result",placeholder:"&result=OK|FAIL|TOUT"},null,512),[[a.Jo,B.model_payment_result]])])):(0,l.Q3)("",!0),B.show_more?((0,l.uX)(),(0,l.CE)("div",z,[(0,l.Lk)("div",Q,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":o[18]||(o[18]=e=>B.model_payment_debug=e),class:"form-check-input",type:"checkbox",value:"",id:"payment_debug"},null,512),[[a.lH,B.model_payment_debug]]),o[46]||(o[46]=(0,l.Lk)("label",{class:"form-check-label",for:"payment_debug"},"Payment debug",-1))])])):(0,l.Q3)("",!0),(0,l.Lk)("div",I,[(0,l.Lk)("button",{onClick:o[19]||(o[19]=e=>B.show_more=!B.show_more),type:"button",disabled:B.loading,class:"btn btn-sm btn-outline-primary w-100"},(0,n.v_)(B.show_more?"less":"more"),9,J)]),(0,l.Lk)("div",S,[(0,l.Lk)("button",{onClick:o[20]||(o[20]=(...e)=>D.shared_params_and_defaults&&D.shared_params_and_defaults(...e)),type:"button",disabled:B.loading,class:"btn btn-sm btn-outline-primary w-100"}," reset ",8,K)]),(0,l.Lk)("div",P,[B.loading?((0,l.uX)(),(0,l.CE)("div",j,[(0,l.bF)(G)])):((0,l.uX)(),(0,l.CE)("button",{key:1,type:"submit",class:(0,n.C4)(["btn btn-sm w-100",B.model_session?"btn-accent":"btn-primary"]),disabled:D.list_count>=300},(0,n.v_)(D.list_count>=300?"too many sessions, delete & reload":B.model_session?"open and save":"new session"),11,N))])],32)):D.no_keep_parameter?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",R,[(0,l.bF)(G)]))}var D=t(8700),G=t(9914),O=t(55),T=t(9819),$={props:{},components:{Bouncer_loading:O.A},emits:[],data(){return{show_more:!1,loading:!1,model_mode:"",model_endpoint:"",model_session:"",model_receiver:"",model_group:"",model_step:"",model_flow:"",model_skin:"",model_agent:"",model_client:"",model_filtered:"",model_note:"",model_role:"",model_payment_id:"",model_payment_result:"",model_payment_debug:!1}},created(){this.shared_params_and_defaults(!1)},methods:{create_session(e=void 0){void 0!==e&&e.preventDefault(),this.loading=!0,G.A.remove_shared_url_params();let o={session_token:this.model_session,endpoint_type:this.model_endpoint,run_mode:this.model_mode,group_id:parseInt(this.model_group,10),step:parseInt(this.model_step,10),flow_id:parseInt(this.model_flow,10),skin:this.model_skin,agent_code:this.model_agent,client_code:this.model_client,filtered_products:this.model_filtered,signature_role:this.model_role,payment:{payment_id:this.model_payment_id,payment_result:this.model_payment_result,payment_debug:this.model_payment_debug},receiver_id:parseInt(this.model_receiver,10),backend_type:(0,D.A)().get_backend_type(),proxy_scope:(0,D.A)().give_api_scope(),user_note:this.model_note};G.A.open_the_session(o,!0)},shared_params_and_defaults(e=!0){e&&G.A.remove_shared_url_params();let o=G.A.read_link_params();this.model_mode=o.mode||"form_app",this.model_endpoint=o.endpoint||"edu",this.model_session=o.session||"",this.model_receiver=o.receiver||"2",this.model_group=o.group||"1",this.model_step=o.step||"1",this.model_flow=o.flow||"105",this.model_skin=o.skin||"najpoistenie",this.model_agent=o.agent||"",this.model_client=o.client||"",this.model_filtered=o.filtered||"",this.model_note=o.note?decodeURIComponent(o.note):"",this.model_role=o.role||"",this.model_payment_id=o.paymentid||"",this.model_payment_result=o.result||"",this.model_payment_debug="true"===o.payment_debug}},computed:{group_options(){return T.A.group_names()},list_count(){return G.A.session_list_count()},no_keep_parameter(){let e=G.A.get_keep();return null===e},all_receivers(){return T.A.receiver_names()}},watch:{}},M=t(6262);const H=(0,M.A)($,[["render",B]]);var Y=H;const W={key:0,class:"session_cookie_manager row p-0","data-cy":"session_filter"},q={class:"col-12 col-md-6 p-2"},Z={class:"col-12 col-md-6 p-2"},ee={key:1,class:"session_cookie_manager table-responsive p-0","data-cy":"session_list"},oe={class:"table keep_table_styles table-striped table-light table-hover table-borderless align-middle table-sm"},te={style:{"font-size":"11px"}},le=["title"],se={key:0,class:"p-0"},ae={class:"form-check"},ne=["id","name","onUpdate:modelValue"],de={key:1,class:"text-end col-sticky pe-md-5"},ie={key:2,class:"text-end col-sticky"},re=["onClick"],_e=["onClick"],pe=["onClick"],ce={key:2,class:"session_cookie_manager row"},me={class:"col-12 col-md-3"},ue={class:"col-12 col-md-3"},ke={class:"col-12 col-md-3"},he={class:"col-12 col-md-3"};function ge(e,o,t,s,d,i){const r=(0,l.g2)("Bouncer_loading");return(0,l.uX)(),(0,l.CE)(l.FK,null,[i.no_keep_parameter?((0,l.uX)(),(0,l.CE)("section",W,[(0,l.Lk)("div",q,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>d.model_session=e),type:"text",class:"form-control",id:"session",placeholder:"filter session",maxlength:"36"},null,512),[[a.Jo,d.model_session]])]),(0,l.Lk)("div",Z,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>d.model_group=e),type:"text",class:"form-control",id:"group",placeholder:"filter group"},null,512),[[a.Jo,d.model_group]])])])):(0,l.Q3)("",!0),i.no_keep_parameter?((0,l.uX)(),(0,l.CE)("section",ee,[(0,l.Lk)("table",oe,[o[7]||(o[7]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",{scope:"col",class:"px-1 py-2"},"Mode"),(0,l.Lk)("th",{scope:"col",class:"px-1 py-2"},"Endpoint"),(0,l.Lk)("th",{scope:"col",class:"px-1 py-2"},"Receiver"),(0,l.Lk)("th",{scope:"col",class:"px-1 py-2"},"Session"),(0,l.Lk)("th",{scope:"col",class:"px-1 py-2"},"Group/Flow"),(0,l.Lk)("th",{scope:"col",class:"px-1 py-2"},"Step"),(0,l.Lk)("th",{scope:"col",class:"px-1 py-2"},"Note"),(0,l.Lk)("th",{scope:"col",class:"px-1 py-2"},"Updated"),(0,l.Lk)("th",{scope:"col",class:"px-1 py-2 text-end"},"Actions")])],-1)),(0,l.Lk)("tbody",{class:(0,n.C4)(d.deletation_activated?"delete_styles":"")},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.displayed_sessions,(e,t)=>((0,l.uX)(),(0,l.CE)("tr",{onPointerdown:o[2]||(o[2]=(...e)=>i.selection_start&&i.selection_start(...e)),onPointerup:o[3]||(o[3]=(...e)=>i.selection_end&&i.selection_end(...e)),key:t,ref_for:!0,ref:"row_reference_"+t,class:(0,n.C4)(!0===d.marked_for_delete[t]?"delecte_checked":"")},[(0,l.Lk)("td",{style:(0,n.Tr)({color:"form_app"===e.run_mode?"slateblue":"node_red"===e.run_mode?"darkred":"darkgoldenrod"})},(0,n.v_)(e.run_mode),5),(0,l.Lk)("td",{class:(0,n.C4)(["production","pg_production","sfa_production"].includes(e.endpoint_type)?"fw-bold":"")},(0,n.v_)(e.endpoint_type),3),(0,l.Lk)("td",null,(0,n.v_)(e.receiver_id),1),(0,l.Lk)("td",te,(0,n.v_)(t),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["i_group",i.group_icon(t)]),title:i.get_group_name(e)},null,10,le),(0,l.eW)("    "+(0,n.v_)("form_app"===e.run_mode?e.group_id:"node_red"===e.run_mode?e.flow_id:""),1)]),(0,l.Lk)("td",null,(0,n.v_)("form_app"===e.run_mode?e.step:""),1),(0,l.Lk)("td",null,(0,n.v_)(e.user_note),1),(0,l.Lk)("td",null,(0,n.v_)(i.format_updated_date(e.updated_at)),1),d.deletation_activated?((0,l.uX)(),(0,l.CE)("td",se,[(0,l.Lk)("div",ae,[(0,l.bo)((0,l.Lk)("input",{id:t,name:t,"onUpdate:modelValue":e=>d.marked_for_delete[t]=e,"true-value":!0,"false-value":!1,type:"checkbox",class:"form-check-input"},null,8,ne),[[a.lH,d.marked_for_delete[t]]])])])):d.loading===t?((0,l.uX)(),(0,l.CE)("td",de,[(0,l.bF)(r,{size:"small"})])):((0,l.uX)(),(0,l.CE)("td",ie,[(0,l.Lk)("span",{class:"i_action open",title:"Open",onClick:e=>i.pick_this_session(t)},null,8,re),(0,l.Lk)("span",{class:"i_action share",title:"Share",onClick:e=>i.share_this_session(t)},null,8,_e),(0,l.Lk)("span",{class:"i_action delete",title:"Delete",onClick:e=>i.clear_this_session(t)},null,8,pe)]))],34))),128))],2)])])):(0,l.Q3)("",!0),i.no_keep_parameter?((0,l.uX)(),(0,l.CE)("section",ce,[(0,l.Lk)("div",me,[(0,l.Lk)("p",{class:(0,n.C4)([i.list_count>=300?"text-warning fw-bold":"","mt-2"])}," Max "+(0,n.v_)(i.list_count)+" / 300 ",3)]),(0,l.Lk)("div",ue,[d.deletation_activated?((0,l.uX)(),(0,l.CE)("button",{key:0,onClick:o[4]||(o[4]=(...e)=>i.cancel_delete&&i.cancel_delete(...e)),class:"btn btn-sm w-100 btn-secondary"}," Cancel delete ")):(0,l.Q3)("",!0)]),(0,l.Lk)("div",ke,[(0,l.Lk)("button",{onClick:o[5]||(o[5]=(...e)=>i.delete_sessions&&i.delete_sessions(...e)),class:(0,n.C4)([d.deletation_activated?"btn-primary":"btn-secondary","btn btn-sm w-100"])},(0,n.v_)(i.delete_button_label),3)]),(0,l.Lk)("div",he,[(0,l.Lk)("button",{onClick:o[6]||(o[6]=(...e)=>i.open_export_import&&i.open_export_import(...e)),class:"btn btn-sm w-100 btn-secondary"}," Export / Import ")])])):(0,l.Q3)("",!0)],64)}var be=t(2873),fe=t(6343),ve={props:{},components:{Bouncer_loading:O.A},emits:[],data(){return{all_data:{},loading:null,model_session:"",model_group:"",deletation_activated:!1,marked_for_delete:{},draging:!1,drag_start:0,drag_end:0}},created(){this.all_data=G.A.retrieve_storage(),this.autopen_keep()},methods:{autopen_keep(){let e=G.A.get_keep();null!==e&&(this.all_data.hasOwnProperty(e)?this.pick_this_session(e):(console.log("Session set in KEEP parameter doesnt exist in localStorage."),G.A.delete_keep()))},pick_this_session(e){this.loading=e;let o={session_token:e,endpoint_type:this.all_data[e].endpoint_type,run_mode:this.all_data[e].run_mode,group_id:this.all_data[e].group_id,step:this.all_data[e].step,flow_id:this.all_data[e].flow_id,skin:this.all_data[e].skin,agent_code:this.all_data[e].agent_code,client_code:this.all_data[e].client_code,filtered_products:this.all_data[e].filtered_products,signature_role:this.all_data[e].signature_role,payment:this.all_data[e].payment,receiver_id:this.all_data[e].receiver_id,backend_type:(0,D.A)().get_backend_type(),proxy_scope:(0,D.A)().give_api_scope(),user_note:this.all_data[e].user_note};G.A.open_the_session(o,!1)},clear_this_session(e){delete this.all_data[e],G.A.purge_storage(e)},format_updated_date(e){return fe.A.format_docs_date(e)},cancel_delete(){this.deletation_activated=!1,this.marked_for_delete={}},delete_sessions(){if(this.deletation_activated){for(let e in this.marked_for_delete)!0===this.marked_for_delete[e]&&this.clear_this_session(e);this.marked_for_delete={},this.deletation_activated=!1}else this.deletation_activated=!0},selection_start(e){this.deletation_activated&&"INPUT"!==e.target.tagName&&(this.draging=!0,this.drag_start=e.clientY)},selection_end(e){if(!this.deletation_activated)return;if(!this.draging)return;this.draging=!1,this.drag_end=e.clientY;let o=this.drag_start<this.drag_end?"down":"up";for(let t in this.$refs){if(!fe.A.starts_with(t,"row_reference_"))continue;let e=t.replace("row_reference_",""),l=this.$refs[t]?.[0]?.getBoundingClientRect();void 0!==l&&("down"===o?l.bottom>this.drag_start&&l.top<this.drag_end&&(this.marked_for_delete[e]=!0):"up"===o&&l.top<this.drag_start&&l.bottom>this.drag_end&&(this.marked_for_delete[e]=!0))}},group_icon(e){if("node_red"===this.all_data[e].run_mode)return"node-red";if("docs_landing"===this.all_data[e].run_mode)return"upload-page";if("form_app"!==this.all_data[e].run_mode)return"enigma";switch(this.all_data[e].group_id){case 10:return"podnikatelia";case 1:return"pzp";case 2:return"havarijne";case 3:return"hypoteka";case 4:return"zivot";case 5:return"gap";case 6:return"investicie";case 73:return"cudzinci";case 7:return"cestovne";case 81:return"zdravotne";case 72:return"sedadla";case 82:return"test";case 85:return"starobne";case 86:return"doplnkove";case 88:return"specialne";case 8:return"zodpovednost";case 9:return"majetok";case 92:return"spotrebny";default:return"neznama"}},get_group_name(e){if("form_app"===e.run_mode){const o=T.A.group_names();return o[e.group_id]||`Group ${e.group_id}`}return"node_red"===e.run_mode?`Flow ${e.flow_id}`:"docs_landing"===e.run_mode?"Upload page":"Unknown"},share_this_session(e){(0,be.A)().store_modal_data(e),(0,be.A)().open_it("Share_session")},open_export_import(){(0,be.A)().open_it("Export_import_list")}},computed:{displayed_sessions(){if(""===this.model_session&&""===this.model_group)return this.all_data;let e={};for(let o in this.all_data){let t=this.all_data[o].group_id+"";!o.includes(this.model_session)||""!==this.model_group&&t!==this.model_group||(e[o]=this.all_data[o])}return e},list_count(){return fe.A.object_length(this.all_data)},no_keep_parameter(){let e=G.A.get_keep();return null===e},delete_button_label(){if(!this.deletation_activated)return"Delete selection";let e=0;for(let o in this.marked_for_delete)!0===this.marked_for_delete[o]&&e++;return e+" marked for delete"},reload_the_list(){return"reload_list"===(0,be.A)().get_modal_event_data()}},watch:{reload_the_list(){this.reload_the_list&&(this.all_data=G.A.retrieve_storage(),(0,be.A)().del_modal_event_data())}}};const ye=(0,M.A)(ve,[["render",ge]]);var Le=ye,we={props:{},components:{New_session_form:Y,List_of_sessions:Le},emits:[],data(){return{}},created(){},methods:{},computed:{},watch:{}};const Ce=(0,M.A)(we,[["render",s]]);var xe=Ce}}]);
"use strict";(self["webpackChunkosmapp_webpack_3x47x"]=self["webpackChunkosmapp_webpack_3x47x"]||[]).push([[5253],{55:function(e,t,l){l.d(t,{A:function(){return r}});var a=l(641),s=l(33);const o={class:"spinner"};function n(e,t,l,n,c,i){return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.Lk)("div",{class:(0,s.C4)(["bounce1",l.size])},null,2),(0,a.Lk)("div",{class:(0,s.C4)(["bounce2",l.size])},null,2),(0,a.Lk)("div",{class:(0,s.C4)(["bounce3",l.size])},null,2)])}var c={props:{size:String},components:{},data(){return{}},created(){},methods:{},computed:{}},i=l(6262);const d=(0,i.A)(c,[["render",n]]);var r=d},2563:function(e,t,l){l.d(t,{A:function(){return m}});var a=l(641),s=l(33);const o={class:"modal-content","data-cy":"modal_content"},n={class:"modal-header"},c={class:"modal-body","data-cy":"modal_body"};function i(e,t,l,i,d,r){return(0,a.uX)(),(0,a.CE)("div",{onClick:t[1]||(t[1]=(...e)=>r.did_click_outside&&r.did_click_outside(...e)),class:(0,s.C4)(["vue_modal",l.modal_size]),"data-cy":"modal"},[(0,a.Lk)("div",o,[(0,a.Lk)("div",n,[l.icon?((0,a.uX)(),(0,a.CE)("span",{key:0,class:(0,s.C4)(["modal-icon",l.icon])},null,2)):(0,a.Q3)("",!0),(0,a.Lk)("h4",null,(0,s.v_)(l.title),1),l.close?((0,a.uX)(),(0,a.CE)("span",{key:1,onClick:t[0]||(t[0]=(...e)=>r.close_me&&r.close_me(...e)),class:"i_close"})):(0,a.Q3)("",!0)]),(0,a.Lk)("div",c,[(0,a.RG)(e.$slots,"default")])])],2)}var d=l(2873),r={props:{close:Boolean,title:String,modal_size:String,icon:{type:String}},components:{},emits:[],data(){return{}},created(){document.addEventListener("keyup",this.close_me)},beforeUnmount(){document.removeEventListener("keyup",this.close_me)},methods:{close_me(e){this.close&&("click"===e?.type||"keyup"===e?.type&&27===e?.keyCode)&&(0,d.A)().close_them_all()},did_click_outside(e){e.target.classList.contains("vue_modal")&&this.close_me(e)}},computed:{},watch:{}},_=l(6262);const u=(0,_.A)(r,[["render",i]]);var m=u},5253:function(e,t,l){l.r(t),l.d(t,{default:function(){return $}});var a=l(641),s=l(33),o=l(3751);const n={key:0,class:"row my-3"},c={class:"col-12 mb-5"},i=["disabled"],d={class:"col-6 mb-3"},r=["disabled"],_={class:"col-6 mb-3"},u=["disabled"],m={class:"col-6"},p=["disabled"],k={class:"col-6"},h=["disabled"],b={class:"col-12"},f={key:0,class:"pt-3 text-accent"},v={key:1,class:"row my-3"},g={class:"col-12 mb-3"},y=["value"],L={class:"col-6"},C={class:"col-6"},A={class:"col-12"},w={class:"mt-4 text-start"},E={class:"col-12 text-center"};function X(e,t,l,X,j,x){const z=(0,a.g2)("Bouncer_loading"),S=(0,a.g2)("Modal_body");return(0,a.uX)(),(0,a.Wv)(S,{close:!0,title:"Autofill session data",class:"modal-cleaning_session text-center",icon:"i_refresh"},{default:(0,a.k6)(()=>[j.intro?((0,a.uX)(),(0,a.CE)("div",n,[(0,a.Lk)("div",c,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>x.my_fill&&x.my_fill(...e)),disabled:j.loading,ref:"template_input_reference",class:"btn btn-secondary btn-m"},"Static Lukas autofill",8,i)]),(0,a.Lk)("div",d,[(0,a.bo)((0,a.Lk)("select",{name:"template_pick","onUpdate:modelValue":t[1]||(t[1]=e=>j.template_pick=e),disabled:j.loading,class:"form-control"},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(j.suggested_templates,(e,t)=>((0,a.uX)(),(0,a.CE)("option",null,(0,s.v_)(e),1))),256))],8,r),[[o.u1,j.template_pick]])]),(0,a.Lk)("div",_,[(0,a.Lk)("button",{onClick:t[2]||(t[2]=e=>x.other_fill(j.template_pick)),disabled:j.loading,class:"btn btn-secondary btn-sm w-100"},"Pick template",8,u)]),(0,a.Lk)("div",m,[(0,a.bo)((0,a.Lk)("input",{name:"template_name","onUpdate:modelValue":t[3]||(t[3]=e=>j.template_name=e),onKeydown:t[4]||(t[4]=(0,o.jR)((...e)=>x.other_fill&&x.other_fill(...e),["enter"])),disabled:j.loading,autocomplete:"on",placeholder:"template token...",type:"text",class:"form-control"},null,40,p),[[o.Jo,j.template_name]])]),(0,a.Lk)("div",k,[(0,a.Lk)("button",{onClick:t[5]||(t[5]=e=>x.other_fill(j.template_name)),disabled:""===j.template_name||j.loading,class:"btn btn-secondary btn-sm w-100"},"Find template",8,h)]),(0,a.Lk)("div",b,[j.error?((0,a.uX)(),(0,a.CE)("p",f,(0,s.v_)(j.error),1)):(0,a.Q3)("",!0)])])):((0,a.uX)(),(0,a.CE)("div",v,[(0,a.Lk)("div",g,[(0,a.bo)((0,a.Lk)("select",{name:"data_type","onUpdate:modelValue":t[6]||(t[6]=e=>j.selected_data=e),ref:"data_input_reference",class:"form-control"},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(j.data_object,(e,t)=>((0,a.uX)(),(0,a.CE)("option",{value:t},(0,s.v_)(t),9,y))),256))],512),[[o.u1,j.selected_data]])]),(0,a.Lk)("div",L,[(0,a.Lk)("button",{onClick:t[7]||(t[7]=e=>j.intro=!0),class:"btn btn-secondary btn-sm w-100"},"Back")]),(0,a.Lk)("div",C,[(0,a.Lk)("button",{onClick:t[8]||(t[8]=(...e)=>x.fill_the_form&&x.fill_the_form(...e)),class:"btn btn-primary btn-sm w-100"},"Fill the form")]),(0,a.Lk)("div",A,[(0,a.Lk)("p",w,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(j.data_object[j.selected_data],(e,l)=>((0,a.uX)(),(0,a.CE)("span",null,[(0,a.Lk)("strong",null,(0,s.v_)(l),1),(0,a.eW)(": "+(0,s.v_)(e)+" ",1),t[9]||(t[9]=(0,a.Lk)("br",null,null,-1))]))),256))])])])),(0,a.Lk)("div",E,[j.loading?((0,a.uX)(),(0,a.Wv)(z,{key:0})):(0,a.Q3)("",!0)])]),_:1})}l(4979),l(1678);var j=l(2563),x=l(3177),z=l(2873),S=l(8856),F=l(6343),B=l(55),K={props:{},components:{Modal_body:j.A,Bouncer_loading:B.A},emits:[],data(){return{template_name:"",template_pick:"",error:"",intro:!0,data_object:{},selected_data:"",suggested_templates:["autofill_zivot"],loading:!1}},created(){this.template_pick=this.suggested_templates[0],this.ease_focus()},methods:{my_fill(){(0,x.A)().autofill_run(),(0,z.A)().close_them_all()},other_fill(e){this.error="",""!==e?(this.loading=!0,S.A.get_json_api(e).then(e=>{this.loading=!1,200===e.status?(this.data_object=e.result.json,this.selected_data=F.A.first_key(this.data_object),this.intro=!1,this.ease_focus()):this.error=e.result.message||"requesting template failed"})):this.error="need template name"},fill_the_form(){console.dir(structuredClone(this.data_object[this.selected_data])),(0,x.A)().set_multiple_form_values(this.data_object[this.selected_data]||{}),(0,z.A)().close_them_all()},ease_focus(){this.$nextTick(()=>{this.intro?this.$refs.template_input_reference.focus():this.$refs.data_input_reference.focus()})}},computed:{},watch:{}},Q=l(6262);const U=(0,Q.A)(K,[["render",X]]);var $=U},8856:function(e,t,l){var a=l(8700),s=l(6343),o=l(3175),n=l(3177);class c{get_it(e){!1===e&&(e=(0,n.A)().get_selected_product().next_contract);let t={action_name:"gethtml",method:"POST",url:(0,a.A)().endpoint_url()+"online/gethtml/?id="+e+s.A.add_token_as_parameter()},l=new o.A;return l.prepare_params(t).handle_response().catch(e=>{throw e})}get_json_api(e){let t={action_name:"getjson",method:"POST",url:(0,a.A)().endpoint_url()+"online/getjson/?id="+e+s.A.add_token_as_parameter()},l=new o.A;return l.prepare_params(t).handle_response().catch(e=>{throw e})}}t.A=new c}}]);
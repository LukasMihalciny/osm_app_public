var osmapp_webpack_3x25x;(function(){"use strict";var __webpack_modules__={1190:function(e,t,_){_(4603),_(7566),_(8721);var s=_(8700),o=_(3177),r=_(5833),n=_(6460),a=_(9614),i=_(2754),l=_(7833),p=_(9914),d=_(2050),c=_(2375);class u{update_managers(){let e=(0,s.A)().current_step(),t=(0,s.A)().get_session_token(),_=(0,s.A)().product_group_id(),o=(0,s.A)().get_run_mode();"form_app"===o&&(e<1||e>6)||""===t||(d.A.send_event("step_changed"),l.A.update_cookie(),p.A.update_storage(),null!==(0,s.A)().get_state_exposure&&(0,s.A)().get_state_exposure({session_token:t,group_id:_,step:e}))}clear_session(){(0,s.A)().set_overseer_view(77);let e=(0,o.A)().get_agent_code(),t=(0,o.A)().get_receiver();if(l.A.purge_cookie(),p.A.purge_storage(),this.reset_session_config(),(0,o.A)().save_agent_code(e),(0,o.A)().store_expected_receiver(t),setTimeout(()=>{(0,s.A)().set_overseer_view(0)},100),"myport"===(0,s.A)().get_backend_type())return;let _=new URL(window.location),r=["session","step","skin","agent","filtered","note","role","paymentid","result","payment_debug"];for(let s=0;s<r.length;s++)_.searchParams.delete(r[s]);window.history.replaceState({},"",_)}reset_session_config(){(0,i.A)().abort_all_signals(),(0,o.A)().$reset(),(0,r.A)().$reset(),(0,n.A)().$reset(),(0,a.A)().$reset(),(0,s.A)().set_read_only(!1),(0,s.A)().delete_session_token(),(0,s.A)().change_step(1),(0,s.A)().delete_user_note()}switch_group_for_remap_purpose(e,t){(0,s.A)().change_product_group_id(e),this.clear_session(),(0,s.A)().set_session_token(t)}init_app_config(e,t){c.A.is_config_invalid(e)||(t?(0,s.A)().save_the_config(e):(0,s.A)().update_the_config(e),(0,o.A)().save_agent_code(e.agent_code),(0,o.A)().set_filtered_products(e.filtered_products),(0,o.A)().store_expected_receiver(e.receiver_id))}}t.A=new u},2050:function(e,t,_){_(4114);var s=_(8700),o=_(3177),r=_(9819);class n{init_analytics(){(0,s.A)().enable_analytics()&&function(e,t,_,s,o){e[s]=e[s]||[],e[s].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var r=t.getElementsByTagName(_)[0],n=t.createElement(_),a="dataLayer"!=s?"&l="+s:"";n.async=!0,n.src="https://www.googletagmanager.com/gtm.js?id="+o+a,r.parentNode.insertBefore(n,r)}(window,document,"script","dataLayer","GTM-NXH9X7RQ")}send_event(e){(0,s.A)().enable_analytics()&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:e,version:(0,s.A)().give_app_version(),session_token:(0,s.A)().get_session_token(),endpoint_type:(0,s.A)().get_endpoint_type(),backend_type:(0,s.A)().get_backend_type(),group_id:(0,s.A)().product_group_id()+": "+r.A.group_name((0,s.A)().product_group_id()),step:(0,s.A)().current_step()+": "+r.A.step_names((0,s.A)().current_step()),agent_code:(0,o.A)().get_agent_code(),selected_product:(0,o.A)().get_selected_product(),purchase:(0,s.A)().current_step()>4&&(0,s.A)().current_step()<10?(0,o.A)().get_selected_product()?.product_expected_price:"",filtered_products:(0,o.A)().get_filtered_products(),receiver:(0,o.A)().get_receiver()+": "+r.A.receiver_names()[(0,o.A)().get_receiver()],host_url:window.location?.href}))}}t.A=new n},2070:function(e,t,_){var s=_(1114),o=(_(4979),_(1678),_(3751)),r=_(641),n=_(33);const a={class:"page_wrap"},i={key:7};function l(e,t,_,s,o,l){const p=(0,r.g2)("Info"),d=(0,r.g2)("Session_manager"),c=(0,r.g2)("Error_page"),u=(0,r.g2)("Maintenance_page"),h=(0,r.g2)("Neutral_page"),m=(0,r.g2)("Flow_sandbox"),g=(0,r.g2)("View_switcher"),f=(0,r.g2)("Docs_template"),v=(0,r.g2)("Modal_switcher");return(0,r.uX)(),(0,r.CE)("div",{class:(0,n.C4)(["osm_app_scope",l.gray_background]),"data-cy":"osm_app_dom_root"},[(0,r.Lk)("div",{class:(0,n.C4)([l.container_class,l.loading_class,l.skin,l.step_class])},[(0,r.Lk)("div",a,[(0,r.bF)(p),100===l.overseer?((0,r.uX)(),(0,r.Wv)(d,{key:0})):404===l.overseer?((0,r.uX)(),(0,r.Wv)(c,{key:1})):503===l.overseer?((0,r.uX)(),(0,r.Wv)(u,{key:2})):77===l.overseer?((0,r.uX)(),(0,r.Wv)(h,{key:3})):"node_red"===l.mode?((0,r.uX)(),(0,r.Wv)(m,{key:4})):"form_app"===l.mode?((0,r.uX)(),(0,r.Wv)(g,{key:5})):"docs_landing"===l.mode?((0,r.uX)(),(0,r.Wv)(f,{key:6})):((0,r.uX)(),(0,r.CE)("p",i,"dont have systems for mode "+(0,n.v_)(l.mode),1))]),(0,r.bF)(v)],2),t[0]||(t[0]=(0,r.Lk)("div",{id:"cf-container"},null,-1))],2)}var p={rE:"3.34.0"};const d={key:0,class:"info_fixed_separator"},c={class:"d-block"},u=["title"],h={title:"receiver name (id)"},m={title:"session token"},g={title:"agent code"},f={title:"product name : product id"},v={title:"filtred products"},y={title:"osmapp version"},b={key:0},k={key:1,class:"session_cookie_manager"},w={class:"text-end col-sticky"},A={class:"ms-3"};function E(e,t,_,s,a,i){return(0,r.uX)(),(0,r.CE)(r.FK,null,[i.is_fixed?((0,r.uX)(),(0,r.CE)("div",d)):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("section",{class:(0,n.C4)(["info_for_session text-center",i.is_fixed?"fixed_to_top":""]),"data-cy":"info"},[(0,r.Lk)("div",c,[(0,r.Lk)("h2",{title:i.print_group},(0,n.v_)(i.heading),9,u),(0,r.Lk)("p",{title:"endpoint",class:(0,n.C4)(i.class_endpoint)},(0,n.v_)(i.print_endpoint),3),(0,r.Lk)("p",h,(0,n.v_)(i.print_receiver),1),(0,r.Lk)("p",m,(0,n.v_)(i.print_session_token),1),(0,r.Lk)("p",g,(0,n.v_)(i.print_agent_code),1),(0,r.Lk)("p",f,(0,n.v_)(i.print_product),1),(0,r.Lk)("p",v,(0,n.v_)(i.print_filtered_products),1),(0,r.Lk)("p",y,(0,n.v_)(i.print_version),1),i.print_flow?((0,r.uX)(),(0,r.CE)("p",b,(0,n.v_)(i.print_flow),1)):(0,r.Q3)("",!0),i.session_actions_shown?((0,r.uX)(),(0,r.CE)("p",k,[(0,r.Lk)("span",w,[(0,r.Lk)("span",{class:"i_action menu",title:"Menu",onClick:t[0]||(t[0]=(...e)=>i.return_to_session_manager&&i.return_to_session_manager(...e))}),(0,r.Lk)("span",{class:"i_action share",title:"Share",onClick:t[1]||(t[1]=(...e)=>i.open_session_share&&i.open_session_share(...e))}),(0,r.Lk)("span",{class:"i_action autofill",title:"Autofill",onClick:t[2]||(t[2]=(...e)=>i.autofill_session_params&&i.autofill_session_params(...e))}),(0,r.Lk)("span",A,(0,n.v_)(i.print_note),1)])])):(0,r.Q3)("",!0)])],2),[[o.aG,i.info_shown]])],64)}var j=_(8700),x=_(3177),T=(_(5833),_(5143)),O=(_(9614),_(6460),_(2873)),z=_(9819),P=_(2754),S=_(1190),C=_(9914),D={props:{},components:{},emits:[],data(){return{}},created(){},methods:{return_to_session_manager(){S.A.reset_session_config(),C.A.delete_keep(),(0,j.A)().set_overseer_view(100)},open_session_share(){(0,O.A)().store_modal_data(null),(0,O.A)().open_it("Share_session")},autofill_session_params(){(0,x.A)().autofill_run()}},computed:{group_id(){return(0,j.A)().product_group_id()},heading(){return"docs_landing"===(0,j.A)().get_run_mode()?"docs_landing | upload page":"node_red"===(0,j.A)().get_run_mode()?"node_red | "+(0,T.A)().get_workflow_name():100===(0,j.A)().get_overseer_view()?"cookie session manager":z.A.group_name(this.group_id)},print_group(){return"docs_landing"===(0,j.A)().get_run_mode()?"":"node_red"===(0,j.A)().get_run_mode()?"flow name, for id: "+(0,j.A)().get_flow_id():"group name, for id: "+this.group_id},print_session_token(){return(0,j.A)().get_session_token()||"-"},print_agent_code(){return(0,x.A)().get_agent_code()||"-"},print_product(){let e=(0,x.A)().get_selected_product();return(e.product_nice_name?e.product_nice_name:"")+" : "+(e.product_id?e.product_id:"")},print_filtered_products(){return(0,x.A)().get_filtered_products()||"-"},print_version(){return(0,j.A)().give_app_version()},print_endpoint(){return(0,j.A)().get_endpoint_type()},class_endpoint(){return(0,j.A)().is_prod_endpoint()?"color_prod":"color_"+(0,j.A)().get_endpoint_type()},print_receiver(){let e=(0,x.A)().get_receiver();return z.A.receiver_names()[e]+" ("+e+")"},print_flow(){if("node_red"!==(0,j.A)().get_run_mode())return!1;let e="state: "+(0,T.A)().get_workflow_step_state();e+=" | step: "+(0,T.A)().get_workflow_step(),e+=" | finished: "+((0,T.A)().get_workflow_finished()?"true":"false"),e+=" | internal: "+((0,T.A)().get_workflow_internal()?"true":"false");let t=(0,T.A)().get_workflow_actions();for(let _ in t)e+=" | "+t[_].function+": "+t[_].state;return e},info_shown(){return 100!==(0,j.A)().get_overseer_view()&&(!(0,j.A)().is_prod_endpoint()||(0,x.A)().capable_agent())},session_actions_shown(){return"improved"===(0,j.A)().cookie_manager_type()},print_note(){return(0,j.A)().get_user_note()},is_fixed(){return"wrapper_sf"===(0,j.A)().get_backend_type()}},watch:{}},M=_(6262);const R=(0,M.A)(D,[["render",E]]);var L=R;function q(e,t,_,s,o,n){const a=(0,r.g2)("Signature_agent"),i=(0,r.g2)("Signature_client"),l=(0,r.g2)("Ordinary_error_modal"),p=(0,r.g2)("Email_offer"),d=(0,r.g2)("Extended_product_settings"),c=(0,r.g2)("Product_detail"),u=(0,r.g2)("Product_ws_details"),h=(0,r.g2)("Specify_product_price"),m=(0,r.g2)("Facial_recognition"),g=(0,r.g2)("Cleaning_session"),f=(0,r.g2)("Export_import_list"),v=(0,r.g2)("Resurrect_session"),y=(0,r.g2)("Share_session"),b=(0,r.g2)("Acceptance_modal"),k=(0,r.g2)("Marketing"),w=(0,r.g2)("Marketing_ek"),A=(0,r.g2)("Cannot_create"),E=(0,r.g2)("Clearance"),j=(0,r.g2)("Config_invalid"),x=(0,r.g2)("Group_redirect"),T=(0,r.g2)("Server_timeout");return(0,r.uX)(),(0,r.CE)(r.FK,null,["Signature_agent"===n.opened_modal?((0,r.uX)(),(0,r.Wv)(a,{key:0})):(0,r.Q3)("",!0),"Signature_client"===n.opened_modal?((0,r.uX)(),(0,r.Wv)(i,{key:1})):(0,r.Q3)("",!0),"Ordinary_error_modal"===n.opened_modal?((0,r.uX)(),(0,r.Wv)(l,{key:2})):(0,r.Q3)("",!0),"Email_offer"===n.opened_modal?((0,r.uX)(),(0,r.Wv)(p,{key:3})):(0,r.Q3)("",!0),"Extended_product_settings"===n.opened_modal?((0,r.uX)(),(0,r.Wv)(d,{key:4})):(0,r.Q3)("",!0),"Product_detail"===n.opened_modal?((0,r.uX)(),(0,r.Wv)(c,{key:5})):(0,r.Q3)("",!0),"Product_ws_details"===n.opened_modal?((0,r.uX)(),(0,r.Wv)(u,{key:6})):(0,r.Q3)("",!0),"Specify_product_price"===n.opened_modal?((0,r.uX)(),(0,r.Wv)(h,{key:7})):(0,r.Q3)("",!0),"Facial_recognition"===n.opened_modal?((0,r.uX)(),(0,r.Wv)(m,{key:8})):(0,r.Q3)("",!0),"Cleaning_session"===n.opened_modal?((0,r.uX)(),(0,r.Wv)(g,{key:9})):(0,r.Q3)("",!0),"Export_import_list"===n.opened_modal?((0,r.uX)(),(0,r.Wv)(f,{key:10})):(0,r.Q3)("",!0),"Resurrect_session"===n.opened_modal?((0,r.uX)(),(0,r.Wv)(v,{key:11})):(0,r.Q3)("",!0),"Share_session"===n.opened_modal?((0,r.uX)(),(0,r.Wv)(y,{key:12})):(0,r.Q3)("",!0),"Acceptance_modal"===n.opened_modal?((0,r.uX)(),(0,r.Wv)(b,{key:13})):(0,r.Q3)("",!0),"Marketing"===n.opened_modal?((0,r.uX)(),(0,r.Wv)(k,{key:14})):(0,r.Q3)("",!0),"Marketing_ek"===n.opened_modal?((0,r.uX)(),(0,r.Wv)(w,{key:15})):(0,r.Q3)("",!0),"Cannot_create"===n.opened_modal?((0,r.uX)(),(0,r.Wv)(A,{key:16})):(0,r.Q3)("",!0),"Clearance"===n.opened_modal?((0,r.uX)(),(0,r.Wv)(E,{key:17})):(0,r.Q3)("",!0),"Config_invalid"===n.opened_modal?((0,r.uX)(),(0,r.Wv)(j,{key:18})):(0,r.Q3)("",!0),"Group_redirect"===n.opened_modal?((0,r.uX)(),(0,r.Wv)(x,{key:19})):(0,r.Q3)("",!0),"Server_timeout"===n.opened_modal?((0,r.uX)(),(0,r.Wv)(T,{key:20})):(0,r.Q3)("",!0)],64)}const I=(0,r.$V)(()=>_.e(473).then(_.bind(_,2473))),U=(0,r.$V)(()=>_.e(363).then(_.bind(_,4363))),W=(0,r.$V)(()=>_.e(135).then(_.bind(_,9135))),B=(0,r.$V)(()=>_.e(402).then(_.bind(_,6402))),$=(0,r.$V)(()=>Promise.all([_.e(451),_.e(174),_.e(171),_.e(263)]).then(_.bind(_,7697))),K=(0,r.$V)(()=>_.e(730).then(_.bind(_,9730))),N=(0,r.$V)(()=>_.e(980).then(_.bind(_,2980))),X=(0,r.$V)(()=>Promise.all([_.e(401),_.e(228)]).then(_.bind(_,3228))),V=(0,r.$V)(()=>_.e(425).then(_.bind(_,1425))),F=(0,r.$V)(()=>_.e(806).then(_.bind(_,2806))),Q=(0,r.$V)(()=>_.e(19).then(_.bind(_,5019))),Y=(0,r.$V)(()=>_.e(583).then(_.bind(_,3583))),G=(0,r.$V)(()=>_.e(649).then(_.bind(_,649))),J=(0,r.$V)(()=>_.e(307).then(_.bind(_,6307))),H=(0,r.$V)(()=>_.e(636).then(_.bind(_,6636))),Z=(0,r.$V)(()=>_.e(430).then(_.bind(_,4430))),ee=(0,r.$V)(()=>_.e(999).then(_.bind(_,7999))),te=(0,r.$V)(()=>_.e(929).then(_.bind(_,2929))),_e=(0,r.$V)(()=>_.e(667).then(_.bind(_,5667))),se=(0,r.$V)(()=>_.e(440).then(_.bind(_,1440))),oe=(0,r.$V)(()=>_.e(318).then(_.bind(_,4318)));var re={props:{},components:{Signature_agent:I,Signature_client:U,Ordinary_error_modal:W,Email_offer:B,Extended_product_settings:$,Product_detail:K,Product_ws_details:N,Specify_product_price:X,Facial_recognition:V,Cleaning_session:F,Export_import_list:Q,Resurrect_session:Y,Share_session:G,Acceptance_modal:J,Marketing:H,Marketing_ek:Z,Cannot_create:ee,Clearance:te,Config_invalid:_e,Group_redirect:se,Server_timeout:oe},data(){return{}},methods:{},computed:{opened_modal(){return(0,O.A)().which_is_open()}}};const ne=(0,M.A)(re,[["render",q]]);var ae=ne,ie=_(7833),le=_(2050),pe=_(9885),de=_(3175);const ce=(0,r.$V)(()=>_.e(864).then(_.bind(_,1864))),ue=(0,r.$V)(()=>_.e(873).then(_.bind(_,8873))),he=(0,r.$V)(()=>_.e(354).then(_.bind(_,7354))),me=(0,r.$V)(()=>_.e(987).then(_.bind(_,9987))),ge=(0,r.$V)(()=>Promise.all([_.e(451),_.e(174),_.e(171),_.e(475)]).then(_.bind(_,2605))),fe=(0,r.$V)(()=>_.e(510).then(_.bind(_,1510))),ve=(0,r.$V)(()=>Promise.all([_.e(259),_.e(619)]).then(_.bind(_,5259)));var ye={components:{Session_manager:ce,Error_page:ue,Maintenance_page:he,Neutral_page:me,Flow_sandbox:ge,View_switcher:fe,Docs_template:ve,Info:L,Modal_switcher:ae},inject:["config"],data(){return{}},created(){console.log("osm_app:",p.rE),this.config.version=p.rE,pe.A.is_headless(this.config)||pe.A.prepare_captcha_script(this.config).then(async e=>{if(S.A.init_app_config(this.config,!0),ie.A.init_manager_simple(),C.A.init_manager_improved(),le.A.init_analytics(),100===(0,j.A)().get_overseer_view())return;if((0,j.A)().has_access())return void(0,j.A)().set_overseer_view(0);let t=new de.A,_=await t.unauthorized();_?(0,j.A)().set_overseer_view(0):console.log("failed to authorize app",structuredClone(this.config))}).catch(e=>{throw e})},methods:{},computed:{skin(){return(0,j.A)().skin_class()},gray_background(){return(0,j.A)().is_zeteo_skin()?"gray_background":""},loading_class(){return(0,O.A)().is_loading()?"loading":""},mode(){return(0,j.A)().get_run_mode()},step_class(){return"form_app"===(0,j.A)().get_run_mode()?"step"+(0,j.A)().current_step():""},overseer(){return(0,j.A)().get_overseer_view()},container_class(){return 100===this.overseer?"container-fluid px-3 pb-4":"container px-0 pb-4"}}};const be=(0,M.A)(ye,[["render",l],["__scopeId","data-v-5712cb84"]]);var ke=be,we=_(810);_(3784);class Ae{constructor(){(0,s.A)(this,"attempt",0),(0,s.A)(this,"max",10),(0,s.A)(this,"app",null),(0,s.A)(this,"pinia",null)}init(e){return new Promise((t,_)=>null===document.getElementById("osm_app")?_("missing #osm_app"):null===this.app?(this.pinia=(0,we.Ey)(),this.app=(0,o.Ef)(ke).use(this.pinia),this.app.provide("config",e).mount("#osm_app"),setTimeout(()=>(this.attempt=0,t("init success")),200)):(this.destroy(),setTimeout(()=>this.attempt>this.max?(this.attempt=0,_("osmapp init failed")):(this.attempt++,this.init(e)),200)))}destroy(){null!==this.app&&((0,P.A)().abort_all_signals(),this.app.unmount(),this.app=null)}dump(){if(null===this.app)return;let e={STATE_core:{access_token:this.pinia.state.value.STATE_core.access_token,analytics:this.pinia.state.value.STATE_core.analytics,backend_type:this.pinia.state.value.STATE_core.backend_type,cookie_session_manager:this.pinia.state.value.STATE_core.cookie_session_manager,endpoint_type:this.pinia.state.value.STATE_core.endpoint_type,flow_id:this.pinia.state.value.STATE_core.flow_id,group_id:this.pinia.state.value.STATE_core.group_id,overseer_view:this.pinia.state.value.STATE_core.overseer_view,payment:this.pinia.state.value.STATE_core.payment,proxy_endpoint:this.pinia.state.value.STATE_core.proxy_endpoint,proxy_scope:this.pinia.state.value.STATE_core.proxy_scope,read_only:this.pinia.state.value.STATE_core.read_only,refresh_seo_cache:this.pinia.state.value.STATE_core.refresh_seo_cache,representative:this.pinia.state.value.STATE_core.representative,run_mode:this.pinia.state.value.STATE_core.run_mode,session_token:this.pinia.state.value.STATE_core.session_token,signature_role:this.pinia.state.value.STATE_core.signature_role,skin:this.pinia.state.value.STATE_core.skin,step:this.pinia.state.value.STATE_core.step,user_note:this.pinia.state.value.STATE_core.user_note,version:this.pinia.state.value.STATE_core.version},STATE_docs_landing:structuredClone(this.pinia.state.value.STATE_docs_landing),STATE_error:structuredClone(this.pinia.state.value.STATE_error),STATE_flow:structuredClone(this.pinia.state.value.STATE_flow),STATE_forms:structuredClone(this.pinia.state.value.STATE_forms),STATE_modals:structuredClone(this.pinia.state.value.STATE_modals),STATE_nav:structuredClone(this.pinia.state.value.STATE_nav),STATE_params:structuredClone(this.pinia.state.value.STATE_params)};console.dir(e)}autofill_run(){null!==this.app&&(0,x.A)().autofill_run()}}window.osm_app=new Ae},2375:function(e,t,_){var s=_(1114),o=_(2873),r=_(6343);class n{constructor(){(0,s.A)(this,"had_error",!1)}is_config_invalid(e){return this.validate_session_uuid(e.session_token),this.validate_endpoint(e.endpoint_type),this.validate_backend(e.backend_type),this.validate_mode(e.run_mode),this.validate_group(e.group_id),this.validate_step(e.step),this.validate_flow(e.flow_id),this.validate_agent(e.agent_code),this.validate_skin(e.skin),this.validate_receiver(e.receiver_id),this.validate_filtered(e.filtered_products),this.validate_signature(e.signature_role),this.validate_manager(e.cookie_session_manager),this.validate_seo(e.refresh_seo_cache),this.validate_analytics(e.analytics),this.validate_proxy(e.proxy_endpoint),this.validate_scope(e.proxy_scope),this.validate_exposed(e.save_exposed_state),this.validate_remap(e.expose_remap),this.validate_fresh(e.get_fresh_session_token_promise),this.validate_representative(e.representative),this.had_error}validate_session_uuid(e){let t=r.A.has_uuid_format(e);t||((0,o.A)().store_modal_data({error:"session_token",value:e,allow:"dc02bb74-6812-42b7-b418-82882677a732"}),(0,o.A)().open_it("Config_invalid"),console.log("config error","session_token"),this.had_error=!0)}validate_endpoint(e){let t=["minor_stage","stage","edu","production","pg_production","sfa_production","develop","dev"],_=t.indexOf(e)>-1;_||(t=t.join(" | "),(0,o.A)().store_modal_data({error:"endpoint_type",value:e,allow:t}),(0,o.A)().open_it("Config_invalid"),console.log("config error","endpoint_type"),this.had_error=!0)}validate_backend(e){let t=["vue","php_wrapper","np_wp","lukas_local","myport","fp_symfony","np_symfony","wrapper_sf"],_=t.indexOf(e)>-1;_||(t=t.join(" | "),(0,o.A)().store_modal_data({error:"backend_type",value:e,allow:t}),(0,o.A)().open_it("Config_invalid"),console.log("config error","backend_type"),this.had_error=!0)}validate_mode(e){let t=["form_app","node_red","docs_landing"],_=t.indexOf(e)>-1;_||(t=t.join(" | "),(0,o.A)().store_modal_data({error:"run_mode",value:e,allow:t}),(0,o.A)().open_it("Config_invalid"),console.log("config error","run_mode"),this.had_error=!0)}validate_group(e){let t="number"===typeof e&&!isNaN(e);t||((0,o.A)().store_modal_data({error:"group_id",value:e,allow:"int"}),(0,o.A)().open_it("Config_invalid"),console.log("config error","group_id"),this.had_error=!0)}validate_step(e){let t="number"===typeof e&&!isNaN(e);t||((0,o.A)().store_modal_data({error:"step",value:e,allow:null}),(0,o.A)().open_it("Config_invalid"),console.log("config error","step"),this.had_error=!0)}validate_flow(e){let t="number"===typeof e&&!isNaN(e)||void 0===e;t||((0,o.A)().store_modal_data({error:"flow_id",value:e,allow:null}),(0,o.A)().open_it("Config_invalid"),console.log("config error","flow_id"),this.had_error=!0)}validate_agent(e){let t=void 0===e||""===e||"string"===typeof e&&r.A.contains_only_digits(e);t||((0,o.A)().store_modal_data({error:"agent_code",value:e,allow:null}),(0,o.A)().open_it("Config_invalid"),console.log("config error","agent_code"),this.had_error=!0)}validate_skin(e){let t=["finportal","najpoistenie","partners","zeteo","myport","neutral"],_=t.indexOf(e)>-1;_||(t=t.join(" | "),(0,o.A)().store_modal_data({error:"skin",value:e,allow:t}),(0,o.A)().open_it("Config_invalid"),console.log("config error","skin"),this.had_error=!0)}validate_receiver(e){let t="number"===typeof e&&!isNaN(e)&&e>0;t||((0,o.A)().store_modal_data({error:"receiver_id",value:e,allow:null}),(0,o.A)().open_it("Config_invalid"),console.log("config error","receiver_id"),this.had_error=!0)}validate_filtered(e){let t=void 0===e||""===e||"string"===typeof e&&r.A.contains_only_digits(e.replace(/\,/g,""));t||((0,o.A)().store_modal_data({error:"filtered_products",value:e,allow:null}),(0,o.A)().open_it("Config_invalid"),console.log("config error","filtered_products"),this.had_error=!0)}validate_signature(e){let t=void 0===e||"string"===typeof e;t||((0,o.A)().store_modal_data({error:"signature_role",value:e,allow:null}),(0,o.A)().open_it("Config_invalid"),console.log("config error","signature_role"),this.had_error=!0)}validate_manager(e){let t=!0===e||!1===e||void 0===e||"string"===typeof e&&["simple","improved"].includes(e);t||((0,o.A)().store_modal_data({error:"cookie_session_manager",value:e,allow:null}),(0,o.A)().open_it("Config_invalid"),console.log("config error","cookie_session_manager"),this.had_error=!0)}validate_seo(e){let t="boolean"===typeof e||void 0===e;t||((0,o.A)().store_modal_data({error:"refresh_seo_cache",value:e,allow:null}),(0,o.A)().open_it("Config_invalid"),console.log("config error","refresh_seo_cache"),this.had_error=!0)}validate_analytics(e){let t="boolean"===typeof e||void 0===e;t||((0,o.A)().store_modal_data({error:"analytics",value:e,allow:null}),(0,o.A)().open_it("Config_invalid"),console.log("config error","analytics"),this.had_error=!0)}validate_proxy(e){let t="string"===typeof e&&""!==e||void 0===e||!1===e;t||((0,o.A)().store_modal_data({error:"proxy_endpoint",value:e,allow:null}),(0,o.A)().open_it("Config_invalid"),console.log("config error","proxy_endpoint"),this.had_error=!0)}validate_scope(e){let t=["b2b","backoffice","b2c","api"],_=t.indexOf(e)>-1;_||(t=t.join(" | "),(0,o.A)().store_modal_data({error:"proxy_scope",value:e,allow:t}),(0,o.A)().open_it("Config_invalid"),console.log("config error","proxy_scope"),this.had_error=!0)}validate_exposed(e){let t=void 0===e||null===e||"function"===typeof e;t||((0,o.A)().store_modal_data({error:"save_exposed_state",value:e,allow:null}),(0,o.A)().open_it("Config_invalid"),console.log("config error","save_exposed_state"),this.had_error=!0)}validate_remap(e){let t=void 0===e||null===e||"function"===typeof e;t||((0,o.A)().store_modal_data({error:"expose_remap",value:e,allow:null}),(0,o.A)().open_it("Config_invalid"),console.log("config error","expose_remap"),this.had_error=!0)}validate_fresh(e){let t=void 0===e||null===e||"function"===typeof e;t||((0,o.A)().store_modal_data({error:"get_fresh_session_token_promise",value:e,allow:"get_fresh_session_token_promise"}),(0,o.A)().open_it("Config_invalid"),console.log("config error","get_fresh_session_token_promise"),this.had_error=!0)}validate_representative(e){let t=/^$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/.test(e),_=void 0===e||null===e||t;_||((0,o.A)().store_modal_data({error:"representative",value:e,allow:"dc02bb74-6812-42b7-b418-82882677a732"}),(0,o.A)().open_it("Config_invalid"),console.log("config error","representative"),this.had_error=!0)}}t.A=new n},2754:function(e,t,_){var s=_(810);t.A=(0,s.nY)("STATE_request",{state:()=>({abort_controller:null}),getters:{get_abort_signal(){return()=>(null===this.abort_controller&&(this.abort_controller=new AbortController),this.abort_controller.signal)}},actions:{abort_all_signals(){null!==this.abort_controller&&(this.abort_controller.abort(),this.abort_controller=null)}}})},2873:function(e,t,_){var s=_(810);t.A=(0,s.nY)("STATE_modals",{state:()=>({open_by_name:null,temporary_data:{},modal_event_data:null}),getters:{which_is_open(){return()=>this.open_by_name},is_loading(){return()=>"Loading"===this.open_by_name},retrieve_modal_data(){return()=>this.temporary_data},get_modal_event_data(){return()=>this.modal_event_data}},actions:{close_them_all(){this.open_by_name=null},open_it(e){this.open_by_name=e},store_modal_data(e){this.temporary_data=e},set_modal_event_data(e){this.modal_event_data=e},del_modal_event_data(){this.modal_event_data=null}}})},3175:function(e,t,_){var s=_(1114),o=_(8700),r=_(2873),n=_(5833),a=_(2754),i=_(3177),l=_(9885);class p{constructor(){(0,s.A)(this,"params",{}),(0,s.A)(this,"headers",{}),(0,s.A)(this,"auth_fails",0),(0,s.A)(this,"auth_max",6)}prepare_params(e){return this.params=e,void 0===this.params.timeout&&(this.params.timeout=29),this.headers={method:this.params.method,mode:"cors",cache:"no-cache",credentials:"omit",signal:(0,a.A)().get_abort_signal(),headers:{"x-user-scope":(0,o.A)().give_api_scope(),Authorization:(0,o.A)().give_bearer(),Accept:"application/json"}},"POST"===this.params.method&&this.params.body&&(this.headers.body=this.params.body),void 0===this.params.content_type?this.headers.headers["Content-Type"]="application/x-www-form-urlencoded":null!==this.params.content_type&&(this.headers.headers["Content-Type"]=this.params.content_type),this}async unauthorized(){let e=(0,o.A)().get_backend_type(),t=(0,o.A)().get_endpoint_type(),_=(0,i.A)().get_receiver(),s=await l.A.captcha_api(),r={php_wrapper:"/authorize_frontend/?endpoint="+t+"&receiver="+_+"&cache=no",np_wp:"/wp-content/themes/najpoistenie/api_php_requests/authorize_frontend.php",fp_symfony:"/osmapp/auth/?receiver="+_+"&cache=no",np_symfony:"/osmapp/auth/?captcha="+s+"&cache=no",wrapper_sf:"/osmapp/auth/?endpoint="+t+"&receiver="+_+"&cache=no"};if(r.hasOwnProperty(e)){let t=window.location.origin+r[e];return fetch(t).then(e=>e.json()).then(e=>!!e&&((0,o.A)().save_bearer(e),!0))}if("lukas_local"===e){let e="http://wrapper.local/authorize_frontend/?endpoint="+t+"&receiver="+_;return fetch(e).then(e=>e.json()).then(e=>((0,o.A)().save_bearer(e),!0))}return"vue"===e?(console.log("VUE does not have 401 auth service, fill access_token into env.js"),!1):"myport"===e?(0,o.A)().myport_access_token_promise().then(e=>!1!==e&&((0,o.A)().save_bearer(e),!0)):(console.log("backend_type "+e+" has no access to new authorization"),!1)}async switch_receiver(){let e=(0,o.A)().get_backend_type(),t=(0,o.A)().get_endpoint_type(),_=(0,i.A)().get_receiver(),s=(await l.A.captcha_api(),{lukas_local:"http://wrapper.local/authorize_frontend/?endpoint="+t+"&receiver="+_+"&cache=allow",wrapper_sf:window.location.origin+"/osmapp/auth/?endpoint="+t+"&receiver="+_+"&cache=allow"});if("vue"===e)return!0;if(!s.hasOwnProperty(e))return console.log("backend_type "+e+" cant authorize itself"),!1;let r=s[e];return fetch(r).then(e=>e.json()).then(e=>!!e&&((0,o.A)().save_bearer(e),!0))}async handle_response(){let e=await this.call_the_api_request();if(200===e.status)return this.auth_fails=0,e;if(401===e.status){if(this.auth_fails++,this.auth_fails>this.auth_max)return console.log("Authorization reched maximum attempts. Try to refresh the app or report to admin."),{};let e=await this.unauthorized();return e?await this.prepare_params(this.params).handle_response():null}if(423===e.status&&-1===["car-data-search","car-valuation-options","car-valuation-price"].indexOf(this.params.action_name))return(0,r.A)().open_it("Clearance"),e;if(503===e.status)return(0,o.A)().set_overseer_view(503),e;if(408===e.status)return console.log("408 in request "+this.params.action_name),-1===["calculate_step2","calculate_step4","confirm"].indexOf(this.params.action_name)&&(0,r.A)().open_it("Server_timeout"),e;if(500===e.status&&"calculate_step2"===this.params.action_name||422===e.status&&"confirm"===this.params.action_name||412===e.status&&"confirm"===this.params.action_name||422===e.status&&"getsessioninfo"===this.params.action_name||"ico-info"===this.params.action_name||["car-data-search","car-valuation-options","car-valuation-price"].indexOf(this.params.action_name)>-1||422===e.status&&"session-remap"===this.params.action_name||422===e.status&&"id-scan/add-page"===this.params.action_name||422===e.status&&"id-scan/get-scan-groups"===this.params.action_name||422===e.status&&"identity-scan-check"===this.params.action_name||422===e.status&&"identity-scan"===this.params.action_name||(422===e.status||409===e.status)&&"signature-code-check"===this.params.action_name||(422===e.status||409===e.status)&&"signature-code-send"===this.params.action_name||500===e.status&&"id-scan/get-scan-groups"===this.params.action_name||425===e.status&&"id-scan/get-scan-groups"===this.params.action_name||425===e.status&&"id-scan/get-scan-group-documents"===this.params.action_name||422===e.status&&"payment-create"===this.params.action_name||422===e.status&&"offer-notify"===this.params.action_name)return e;{let t=(new Date).toLocaleString(),_=(0,o.A)().get_session_token(),s=(0,o.A)().current_step();return(0,n.A)().set_last_request(this.headers,this.params,t,_,s,e),(0,o.A)().set_overseer_view(404),(0,r.A)().close_them_all(),e}}call_the_api_request(){return new Promise((e,t)=>{let _=setTimeout(function(){return e({status:408,statusText:"Request Timeout"})},1e3*this.params.timeout),s={};fetch(this.params.url,this.headers).then(e=>{s=e;let t=e.headers.get("content-type");return-1===t.indexOf("json")?{response:"not in json format"}:e.json()}).then(t=>{s.result=t,e(s)}).catch(e=>{"AbortError"===e.name?(clearTimeout(_),console.log("abort",this.params.action_name)):console.error("Fetch error:",e)})})}}t.A=p},3177:function(e,t,_){var s=_(810),o=_(6343),r=_(8700),n=_(6460),a=_(3473);t.A=(0,s.nY)("STATE_params",{state:()=>({call_params:{},form_values:{},agent_code:"",selected_product:{},filtered_products:"",receiver:0}),getters:{get_call_param(){return e=>void 0===this.call_params[e]||null===this.call_params[e]?"":this.call_params[e]},get_form_value(){return e=>void 0===this.form_values[e]||null===this.form_values[e]?"":this.form_values[e]},all_form_values(){return()=>this.form_values},get_user_input(){return e=>"kod"===e?this.agent_code:"receiver"===e?this.receiver:void 0!==this.form_values[e]&&null!==this.form_values[e]?this.form_values[e]:void 0!==this.call_params[e]&&null!==this.call_params[e]?this.call_params[e]:""},get_selected_product(){return()=>this.selected_product},agent_code_param(){return()=>{let e="&kod="+this.agent_code;return(0,r.A)().get_representative()&&(e+="&representative="+(0,r.A)().get_representative()),e}},capable_agent(){return()=>"90180000"===this.agent_code},get_agent_code(){return()=>this.agent_code},get_filtered_products(){return()=>this.filtered_products||""},add_filtered_param(){return()=>""===this.filtered_products?"":"&filtered_products="+this.filtered_products},get_receiver(){return()=>this.receiver},direct_user(){return()=>[1,2].includes(this.receiver)&&""===this.agent_code}},actions:{store_call_params(e){for(let t in e)if(e.hasOwnProperty(t))if("kod"===t)""===this.agent_code&&this.save_agent_code(e[t]);else{if(["product_id","form_id","next_contract","period","product_nice_name","product_expected_price"].indexOf(t)>-1)continue;if("filtered_products"===t)this.set_filtered_products(e[t]);else{if(o.A.starts_with(t,"_"))continue;if(["json","global","id","without_form","product_template_identifier","osm_author_spa"].indexOf(t)>-1)continue;"receiver"===t?this.receiver=parseInt(e[t],10):this.call_params[t]=e[t]}}},set_form_value(e,t,_=!0){this.form_values[e]=t,(0,n.A)().clear_one_error(e),_&&a.A.reset_recursion_counter(),a.A.init_associative_v1(e),a.A.init_associative_v2(e)},insert_form_value_without_interaction(e,t){this.form_values[e]=t,(0,n.A)().clear_one_error(e)},set_multiple_form_values(e,t="",_=""){for(let s in e)this.insert_form_value_without_interaction(t+s+_,e[s])},delete_form_value(e){""!==this.get_form_value(e)&&this.set_form_value(e,"",!1)},reset_form_values(){this.form_values={}},insert_form_values(e){for(let t in e)for(let _ in e[t]){let s=o.A.first_key(e[t][_]);if("_block"===s)for(let r in e[t][_][s].elements){let n=o.A.first_key(e[t][_][s].elements[r]),a=e[t][_][s].elements[r][n].value;a=null===a?"":a,this.insert_form_value_without_interaction(n,a)}else{let o=e[t][_][s].value;o=null===o?"":o,this.insert_form_value_without_interaction(s,o)}}},insert_product_values(e){let t={};for(let _ in e)for(let s in e[_]){let r=o.A.first_key(e[_][s]);if("_block"===r)for(let n in e[_][s][r].elements){let a=o.A.first_key(e[_][s][r].elements[n]);t[a]=this.get_call_param(a)}else t[r]=this.get_call_param(r)}this.set_multiple_form_values(t)},set_selected_product(e,t,_,s,o,r){this.selected_product={product_id:parseInt(e,10)||null,form_id:parseInt(t,10)||null,next_contract:_||"",period:parseInt(s,10)||null,product_nice_name:o||"",product_expected_price:r||""}},extract_selected_product(e){this.set_selected_product(e.result?.call_params?.product_id,e.result?.call_params?.form_id,e.result?.call_params?.next_contract,e.result?.call_params?.period,e.result?.call_params?.product_nice_name,e.result?.call_params?.product_expected_price)},save_agent_code(e){this.agent_code=e||""},set_filtered_products(e){this.filtered_products=e||""},store_expected_receiver(e){this.receiver=parseInt(e,10)},autofill_run(){if("node_red"===(0,r.A)().get_run_mode()){let e={agent_company_name:"asd",agent_company_ico:"44205571",agent_company_register:"asd",agent_company_register_cislo:"asd",agent_company_register_oddiel:"asd",agent_company_person_meno:this.random_witcher_name(0),agent_company_person_priezvisko:this.random_witcher_name(1),agent_company_person_rodne_cislo:"8704201473",agent_company_person_doklad_typ:1,agent_company_person_doklad_cislo:"EA132123",agent_company_person_doklad_platnost:"11.01.2028",agent_company_person_pozicia:"5",agent_company_person_pep:"1",agent_company_person_sanc:"1",agent_company_adresa_ulica:"asd",agent_company_adresa_cislo:"2",agent_company_adresa_psc_mesto:"98701 - Poltár",agent_company_person_ucet_cislo:"SK3509000000000179610393",agent_company_person_telefon:"+421900123456",agent_company_person_email:"qatrash@intechon.sk",agent_company_person_license_paz:"1",agent_suhlas:"1"};return 91===(0,r.A)().get_flow_id()&&(e={claims_person_osoba:"asd",claims_person_telefon:"+421900123456",claims_person_email:"qatrash@intechon.sk",claims_ucet_cislo:"SK3509000000000179610393",claims_miesto:"asd",claims_vodic_zamestnanec:"asd",claims_rodne_cislo:"8704201473",claims_adresa_ulica:"asd",claims_adresa_psc_mesto:"94654 - Bajč",claims_rozsah_poskodenia:"asd",claims_popis_udalost:"asd",claims_otazka_1:"1",claims_miesto_obhliadky:"asd",claims_obhliadka_osoba:"asd",claims_obhliadka_telefon:"+421900123456",claims_servis:"asd",claims_poskodeny_osoba:"asd",claims_poskodeny_telefon:"+421900123456",claims_poskodeny_adresa_ulica:"asd",claims_poskodeny_adresa_psc_mesto:"94654 - Bajč",claims_poskodeny_rozsah_poskodenia:"asd",claims_vyska_skody:"3500"}),console.dir(e),void this.set_multiple_form_values(e)}let e={1:{1:{pzp_auto_search:"BL591VF",datumnarodenia:"02.01.1990",psc_mesto:"98701 - Poltár"},2:{havarijne_auto_search:"BL591VF",havarijne_auto_cena_stanovenie:2,havarijne_auto_cena:"15000",havarijne_auto_cena_aktualna:"6666",havarijne_datumnarodenia:"02.01.1990",havarijne_psc_mesto:"98701 - Poltár"},3:{hypo_ziadatel_pocet:2,hypo_uver_suma:"222000",hypo_zabezpecenie1_cena:"255000",hypo_osoba1_prijem:"4400",hypo_osoba2_prijem:"3300"},4:{zp_poistenie_pd:"20",zp_osoba1_datumnarodenia:"02.01.1990",zp_osoba1_prijem:"2222",zp_osoba1_vyska:"180",zp_osoba1_hmotnost:"80",zp_osoba1_poistenie_ks:"1",zp_osoba1_ps_ks:"111000",zp_osoba1_pd_ks:"20",zp_osoba1_poistenie_kch:"1",zp_osoba1_ps_kch:"22000",zp_osoba1_pd_kch:"20",zp_osoba1_poistenie_iv:"1",zp_osoba1_ps_iv:"11000",zp_osoba1_pd_iv:"20",zp_osoba1_poistenie_ivkl:"1",zp_osoba1_ps_ivkl:"33000",zp_osoba1_pd_ivkl:"20"},5:{},6:{sporenie_suma:"700",sporenie_esg:3,sporenie_skusenost_1:"1",sporenie_rizikovyprofil_test_odpoved1:3},7:{vsetko_dospeli:"1"},8:{},9:{majetok_plocha_uzitkova:"85",majetok_plocha_neobytna:"25",majetok_nehnutelnost_ulica:"asd",majetok_nehnutelnost_supcislo:"2",majetok_nehnutelnost_cislo:"2",majetok_psc_mesto:"98701 - Poltár",majetok_nehnutelnost_poistna_suma:"255000",majetok_domacnost_poistna_suma:"115000"},10:{},72:{},82:{},73:{},81:{},85:{dss_osoba_datumnarodenia:"02.01.1990",dss_esg:3},86:{dds_esg:3},88:{}},3:{1:{person_meno:this.random_witcher_name(0),person_priezvisko:this.random_witcher_name(1),person_rodne_cislo:"9001020017",person_cislo_op:"EA123456",person_telefon:"+421900123456",person_email:"qatrash@intechon.sk",adresa_ulica:"asd",adresa_cislo:"2",mr_pfa:"1",mr_klient:"1",mr_klient_financie:"1",auto_km:"22000"},2:{havarijne_person_email:"qatrash@intechon.sk",havarijne_person_meno:this.random_witcher_name(0),havarijne_person_priezvisko:this.random_witcher_name(1),havarijne_adresa_ulica:"asd",havarijne_person_rodne_cislo:"9001020017",havarijne_person_telefon:"+421900123456",havarijne_person_cislo_op:"EA123456",havarijne_adresa_cislo:"2",havarijne_auto_km:"55000",havarijne_mr_klient:"1",havarijne_mr_klient_financie:"1"},3:{hypo_uver_ucel:1,hypo_uver_datumsplatok:5,hypo_osoba1_meno:this.random_witcher_name(0),hypo_osoba1_priezvisko:this.random_witcher_name(1),hypo_osoba1_priezvisko_rodne:"asd",hypo_osoba1_rodnecislo:"9001020017",hypo_osoba1_telefon:"+421904364330",hypo_osoba1_email:"lukas.mihalciny@finportal.sk",hypo_osoba1_doklad_cislo:"EA123456",hypo_osoba1_doklad_platnost:"04.04.2030",hypo_osoba1_adresa_ulica:"asd",hypo_osoba1_adresa_cislo:"2",hypo_osoba1_adresa_supcislo:"2",hypo_osoba1_vzdelanie:"3",hypo_osoba1_adresa_psc_mesto:"98701 - Poltár",hypo_osoba1_prijem1_zaciatok:"02.02.2020",hypo_osoba1_doklad_platnost_od:"11.11.2011",hypo_osoba1_doklad_platnost_do:"03.03.2033",hypo_osoba2_meno:this.random_witcher_name(0),hypo_osoba2_priezvisko:this.random_witcher_name(1),hypo_osoba2_priezvisko_rodne:"asd",hypo_osoba2_rodnecislo:"9001026122",hypo_osoba2_telefon:"+421904364330",hypo_osoba2_email:"qatrash@intechon.sk",hypo_osoba2_doklad_cislo:"EA654321",hypo_osoba2_doklad_platnost:"04.04.2030",hypo_osoba2_adresa_ulica:"asd",hypo_osoba2_adresa_cislo:"2",hypo_osoba2_adresa_supcislo:"2",hypo_osoba2_vzdelanie:"3",hypo_osoba2_adresa_psc_mesto:"98701 - Poltár",hypo_osoba2_prijem1_zaciatok:"02.02.2020",hypo_osoba2_doklad_platnost_od:"11.11.2011",hypo_osoba2_doklad_platnost_do:"03.03.2033",hypo_osoba1_prijem1_zamestnavatel_meno:"asd",hypo_osoba1_prijem1_zamestnavatel_ico:"48198641",hypo_osoba1_prijem1_zamestnavatel_adresa_ulica:"asd",hypo_osoba1_prijem1_zamestnavatel_adresa_cislo:"2",hypo_osoba1_prijem1_zamestnavatel_adresa_psc_mesto:"98701 - Poltár",hypo_osoba2_prijem1_mesacny:"4400",hypo_osoba2_prijem1_zaciatok:"02.02.2020",hypo_osoba2_prijem1_zamestnavatel_meno:"asd",hypo_osoba2_prijem1_zamestnavatel_ico:"50063294",hypo_osoba2_prijem1_zamestnavatel_adresa_ulica:"asd",hypo_osoba2_prijem1_zamestnavatel_adresa_cislo:"2",hypo_osoba2_prijem1_zamestnavatel_adresa_psc_mesto:"98701 - Poltár",hypo_zabezpecenie1_adresa_cisloparcely:"654",hypo_zabezpecenie1_adresa_lv:"654",hypo_osoba1_mr_pfa:"1",hypo_osoba1_mr_klient:"1",hypo_osoba1_mr_povolanie:"1",hypo_osoba1_mr_deti:"1",hypo_osoba1_mr_rodinny_stav:"1",hypo_osoba1_mr_prijem:"1",hypo_osoba1_mr_vydavky:"1",hypo_osoba1_mr_splatky:"1",hypo_osoba1_mr_uspory:"1",hypo_osoba1_mr_zdroj_prijmu:"1",hypo_osoba1_mr_maxvyska:"2200",hypo_osoba1_mr_provizia:"1.00",hypo_osoba2_mr_pfa:"1",hypo_osoba2_mr_klient:"1",hypo_osoba2_mr_povolanie:"1",hypo_osoba2_mr_deti:"1",hypo_osoba2_mr_rodinny_stav:"1",hypo_osoba2_mr_prijem:"1",hypo_osoba2_mr_vydavky:"1",hypo_osoba2_mr_splatky:"1",hypo_osoba2_mr_uspory:"1",hypo_osoba2_mr_zdroj_prijmu:"1",hypo_osoba1_mr_zdovodnenie:"3"},4:{zp_osoba0_meno:this.random_witcher_name(0),zp_osoba0_priezvisko:this.random_witcher_name(1),zp_osoba0_rodnecislo:"9001020017",zp_osoba0_op_platnost_od:"02.02.2020",zp_osoba0_op_platnost_do:"03.03.2030",zp_osoba0_cislo_op:"EA123456",zp_osoba0_ucet_cislo:"SK3509000000000179610393",zp_osoba0_telefon:"+421904364330",zp_osoba0_email:"lukas.mihalciny@finportal.sk",zp_osoba0_adresa_ulica:"asd",zp_osoba0_adresa_cislo:"2",zp_osoba0_adresa_psc_mesto:"98701 - Poltár",zp_osoba1_dotaznik_lekar_meno:this.random_witcher_name(0),zp_osoba1_dotaznik_lekar_adresa:"asd",zp_osoba1_dotaznik_lekar_telefon:"+421900123456",zp_osoba0_mr_pfa:"1",zp_osoba0_mr_klient:"1",zp_osoba0_mr_povolanie:"asd",zp_osoba0_mr_prijem:"3000",zp_osoba0_mr_vydavky:"500",zp_osoba0_mr_uspory:"200",zp_osoba0_mr_zdovodnenie:"3",zp_osoba0_mr_deti:"1",zp_osoba0_mr_rodinny_stav:"1",zp_osoba0_mr_splatky:"1",zp_osoba0_mr_zdroj_prijmu:"1"},5:{},6:{use_proposal_number:"2222000050",eic_proposal_number:"2123456750",sporenie_person_meno:this.random_witcher_name(0),sporenie_person_priezvisko:this.random_witcher_name(1),sporenie_person_rodne_cislo:"9001020017",sporenie_person_cislo_op:"EA123456",sporenie_person_doklad_datum_vydanie:"02.02.2000",sporenie_person_doklad_platnost:"04.04.2030",sporenie_person_doklad_vydanie:"asd",sporenie_person_miesto_narodenia:"asd",sporenie_person_telefon:"+421904364330",sporenie_person_email:"lukas.mihalciny@finportal.sk",sporenie_adresa_ulica:"asd",sporenie_adresa_cislo:"2",sporenie_adresa_psc_mesto:"98701 - Poltár",sporenie_ucet_cislo:"SK3509000000000179610393",sporenie_mr_pfa:"1",sporenie_mr_klient:"1",sporenie_mr_povolanie:"asd",sporenie_mr_prijem:"3000",sporenie_mr_vydavky:"500",sporenie_mr_splatky:"200",sporenie_mr_zdovodnenie:"3",sporenie_mr_klient_rezident:"1",sporenie_mr_deti:1,sporenie_mr_rodinny_stav:1,sporenie_mr_prijem:1,sporenie_mr_vydavky:1,sporenie_mr_splatky:1,sporenie_mr_uspory:1,sporenie_mr_zdroj_prijmu:1,sporenie_mr_vzdelanie:1,sporenie_mr_majetok:1},7:{cestovne_person_meno:this.random_witcher_name(0),cestovne_person_priezvisko:this.random_witcher_name(1),cestovne_person_rodne_cislo:"9001020017",cestovne_person_cislo_op:"EA123456",cestovne_person_telefon:"+421900123456",cestovne_person_email:"qatrash@intechon.sk",cestovne_adresa_ulica:"asd",cestovne_adresa_cislo:"2",cestovne_psc_mesto:"98701 - Poltár",cestovne_mr_pfa:"1",cestovne_mr_klient:"1",cestovne_mr_klient_financie:"1"},8:{},9:{},10:{},72:{},82:{},73:{},81:{},85:{dss_osoba_meno:this.random_witcher_name(0),dss_osoba_priezvisko:this.random_witcher_name(1),dss_osoba_rodnecislo:"9001020017",dss_osoba_doklad_cislo:"EA123456",dss_osoba_telefon:"+421904364330",dss_osoba_email:"lukas.mihalciny@finportal.sk",dss_osoba_adresa_ulica:"asd",dss_osoba_adresa_cislo:"2",dss_osoba_adresa_psc_mesto:"98701 - Poltár",dss_nn_strategia:1,dss_nn_vypis:1,dss_mr_pfa:"1",dss_mr_klient:"1",dss_mr_klient_rezident:"1",dss_mr_povolanie:"1",dss_mr_deti:"1",dss_mr_rodinny_stav:"1",dss_mr_prijem:"1",dss_mr_vydavky:"1",dss_mr_splatky:"1",dss_mr_uspory:"1",dss_mr_prijem_zdroj:"1",dss_mr_zdovodnenie:"2",dss_mr_rizikovyprofil:"3"},86:{},88:{}}},t=(0,r.A)().current_step(),_=(0,r.A)().product_group_id();console.dir(e[t]?.[_]),this.set_multiple_form_values(e[t]?.[_]||{})},random_witcher_name(e){let t=[["Dinleu","Stawa","Dheles","Eamnith","Zhilno","Flinmazhith","Leazhignia","Cheonweuzmen","Rulwola","Rigath"],["Feinlat","Keavan","Deista","Destald","Pronlald","Skazdam","Minmals","Lanald","Grulneciat","Firgat"]],_=0,s=9,o=Math.floor(Math.random()*(s-_+1))+_;return t[e][o]}}})},3473:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _home_lukas_www_osm_app_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1114),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4114),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_web_dom_exception_stack_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4979),core_js_modules_web_dom_exception_stack_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_web_dom_exception_stack_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_web_structured_clone_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1678),core_js_modules_web_structured_clone_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_web_structured_clone_js__WEBPACK_IMPORTED_MODULE_3__),_store_STATE_params_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3177),_store_STATE_forms_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6460);class Associative{constructor(){(0,_home_lukas_www_osm_app_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.A)(this,"debug",!1),(0,_home_lukas_www_osm_app_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.A)(this,"recursion_count",0),(0,_home_lukas_www_osm_app_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.A)(this,"recursion_max",10),(0,_home_lukas_www_osm_app_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.A)(this,"recursive_stack_trace",[])}init_associative_v1(e){let t=(0,_store_STATE_forms_js__WEBPACK_IMPORTED_MODULE_5__.A)().find_input_data(e);if(void 0===t.input_settings?.associative)return;let _=structuredClone(t.input_settings?.associative);if(this.dlog("CHANGED",e),this.check_recursion(e))return;let s=["if","set","targets"];for(let o in s)for(let e in _){let t=Object.keys(_[e]);if(!t.includes(s[o]))return void console.log("associative key is missing:",s[o])}for(let o in _){let e=this.replace_params(_[o].if);if(this.dlog("IF",_[o].if),this.dlog("CONDITION",e),this.eval_associative(e)){this.dlog(!0);for(let e in _[o].targets){let t="";"string"===typeof _[o].set||"number"===typeof _[o].set?t=_[o].set:"object"===typeof _[o].set&&(t=_[o].set[e]||""),t=this.replace_params(t,!1),this.dlog("SET",_[o].targets[e],t),(0,_store_STATE_params_js__WEBPACK_IMPORTED_MODULE_4__.A)().set_form_value(_[o].targets[e],t,!1)}}else this.dlog(!1)}}init_associative_v2(e){let t=(0,_store_STATE_forms_js__WEBPACK_IMPORTED_MODULE_5__.A)().find_input_data(e);if(void 0===t.input_settings?.associative2)return;if(this.dlog("CHANGED",e),this.check_recursion(e))return;for(let _ in t.input_settings.associative2){let e=t.input_settings.associative2[_];while("string"===typeof e?.if){let t=this.replace_params(e.if);this.dlog("IF",e.if),this.dlog("CONDITION",t),this.eval_associative(t)?(this.dlog(!0),e=e.true):(this.dlog(!1),e=e.false)}if("object"!==typeof e){this.dlog("NOT SET",e);continue}let s={};for(let t in e){let _=t.replace("$",""),o=this.replace_params(e[t],!1),r=this.eval_associative(o,!1);!1!==r&&void 0!==r&&(o=r),this.dlog("SET",_,e[t],o),s[_]=o}for(let t in s)(0,_store_STATE_params_js__WEBPACK_IMPORTED_MODULE_4__.A)().set_form_value(t,s[t],!1)}}replace_params(e,t=!0){if("number"===typeof e)return e;let _=e.match(/\$[a-z|_|0-9]*/g);if(null===_)return e;for(let s in _){let o=_[s].replace("$",""),r=(0,_store_STATE_params_js__WEBPACK_IMPORTED_MODULE_4__.A)().get_user_input(o);(isNaN(r)||""===r)&&t&&(r="'"+r+"'"),e=e.replace(_[s],r)}return e}eval_associative(string,log_error=!0){try{return eval(string)}catch(error){return log_error&&console.log("associative error:",string),!1}}dlog(e,t="missing",_="missing",s="missing"){this.debug&&("missing"!==t||"missing"!==_||"missing"!==s?"missing"!==_||"missing"!==s?"missing"!==s?console.log(e,t,_,s):console.log(e,t,_):console.log(e,t):console.log(e))}reset_recursion_counter(){this.recursion_count=0,this.recursive_stack_trace=[]}check_recursion(e){return this.recursion_count++,this.recursive_stack_trace.push(e),this.recursion_count>this.recursion_max&&(console.log("volatile recursion detected",structuredClone(this.recursive_stack_trace)),!0)}}__webpack_exports__.A=new Associative},3784:function(e,t,_){_(4114);var s=_(810);t.A=(0,s.nY)("STATE_docs_landing",{state:()=>({session_state:[],input_data:{},tag_status:{},group_errors:{},group_displayed:{}}),getters:{one_session_state_by_tag(){const e=this.session_state;return t=>{let _,s=e.length;for(_=0;_<s;_++)if(e[_].tags[0]===t)return e[_];return null}},all_session_state_by_tag(){const e=this.session_state;return t=>{let _,s=[],o=e.length;for(_=0;_<o;_++)e[_].tags[0]===t&&s.push(e[_]);return s}},get_input_data(){const e=this.input_data;return t=>e[t]||{}},get_tag_status(){const e=this.tag_status;return t=>e[t]},get_tags_by_group(){const e=this.input_data;return t=>{let _=[];e.length;for(let s in e)e.hasOwnProperty(s)&&e[s].group===t&&_.push(s);return _}},get_group_error(){const e=this.group_errors;return t=>e[t]||""},grouped_shown_state_by_tag(){return e=>{let t=this.get_input_data(e).group;return this.group_displayed[t].shown_tags[e]}},grouped_all_are_shown(){return e=>{let t=this.group_displayed[e];return void 0===t||t.current>=t.max}},grouped_tag_position(){return e=>{let t=this.group_displayed[this.get_input_data(e).group].shown_tags,_=[];for(let o in t)t.hasOwnProperty(o)&&!0===t[o]&&_.push(o);let s=_.indexOf(e);return 0===s&&s===_.length-1?"both":0===s?"first":s===_.length-1?"last":"neither"}}},actions:{set_doc_session_state(e){this.session_state=e},add_input_data(e,t){this.input_data[e]=t},set_tag_status(e,t){let _=["empty","uploading","uploaded","failed","sending","sent","error"];-1!==_.indexOf(t)?this.tag_status[e]=t:console.log("baaad status")},init_status_from_session(e){const t=this.session_state;let _,s="empty",o=t.length;for(_=0;_<o;_++)if(t[_].tags?.[0]===e){if(!("object"===typeof t[_].dataRecords&&Object.keys(t[_].dataRecords).length>0)){s="uploaded";break}s="sent"}this.set_tag_status(e,s)},add_group_error(e,t){this.group_errors[e]=t},setup_displayed_in_group(e,t,_){let s,o={current:0,max:t,shown_tags:{}},r=_.length;for(s=0;s<r;s++){const e=this.one_session_state_by_tag(_[s]);0===s||null!==e?(o.shown_tags[_[s]]=!0,o.current++):o.shown_tags[_[s]]=!1}this.group_displayed[e]=o},increase_input_in_group(e){let t=this.group_displayed[e];if(!(t.current>=t.max)){this.group_displayed[e].current=this.group_displayed[e].current+1;for(let _ in t.shown_tags)if(t.shown_tags.hasOwnProperty(_)&&!1===t.shown_tags[_]){this.group_displayed[e].shown_tags[_]=!0;break}}},decrease_input_in_group(e){let t=this.get_input_data(e).group;this.group_displayed[t].current<=1||(this.group_displayed[t].current=this.group_displayed[t].current-1,this.group_displayed[t].shown_tags[e]=!1)}}})},5143:function(e,t,_){var s=_(810);t.A=(0,s.nY)("STATE_flow",{state:()=>({workflow_status:{actions:[],finished:!1,internal:!1,step:-1,stepState:"before_init"},workflow_name:null}),getters:{get_workflow_actions(){return()=>this.workflow_status.actions},get_workflow_finished(){return()=>this.workflow_status.finished},get_workflow_internal(){return()=>this.workflow_status.internal},get_workflow_step(){return()=>this.workflow_status.step},get_workflow_step_state(){return()=>this.workflow_status.stepState},get_workflow_name(){return()=>this.workflow_name}},actions:{set_workflow_status(e){if("object"!==typeof e.actions||"boolean"!==typeof e.finished||"boolean"!==typeof e.internal||"number"!==typeof e.step||"string"!==typeof e.stepState||!["pending","processing","success","error"].includes(e.stepState))throw console.dir("status: "+typeof e,e),new TypeError("workflow_status invalid");this.workflow_status=e},clear_workflow_status(){this.workflow_status={actions:[],finished:!1,internal:!1,step:-1,stepState:"before_init"},this.workflow_name=null},set_workflow_name(e){this.workflow_name=e}}})},5833:function(e,t,_){var s=_(810);t.A=(0,s.nY)("STATE_error",{state:()=>({headers:{},params:{},date:"",session:"",step:0,status:0,result:{}}),getters:{get_last_request(){return()=>({url:this.params?.url,date:this.date,status:this.status,session:this.session,step:this.step,message:this.result?.message,request_uuid:this.result?.data?.["x-request-uuid"]})},get_detailed_fail(){return()=>({status:this.status,action_name:this.params.action_name,method:this.params.method,url:this.params.url,response:this.result,step:this.step})}},actions:{set_last_request(e,t,_,s,o,r){this.headers=e,this.params=t,this.date=_,this.session=s,this.step=o,this.status=r?.status,this.result=r?.result}}})},6343:function(e,t,_){_.d(t,{A:function(){return u}});_(4114),_(6573),_(8100),_(7936),_(9577),_(1549),_(9797),_(9631),_(5623),_(4979),_(4603),_(7566),_(8721);var s=_(6460),o=_(8700),r=_(6488),n=_(3177);class a{zp_person_boolean(e){let t=(0,o.A)().product_group_id();if(3!==(0,o.A)().current_step()||3!==t&&4!==t&&7!==t&&73!==t)return!0;let _={3:["hypo_ziadatel_pocet","_osoba"],4:["zp_poistenie_pocetosob","_osoba"],7:["osoby_pocet","_poisteny"],73:["cudzinci_osoby_pocet","_poisteny"]},s=(0,n.A)().get_call_param(_[t][0]);if(""===s)return!0;s=parseInt(s,10);let r=Object.keys(e)[0],a=r.indexOf(_[t][1])+_[t][1].length,i=r.substring(a,a+2).replace("_","");return i=parseInt(i,10),!!(isNaN(i)||i<=s)}zp_checkboxes_boolean(e){if(4!==(0,o.A)().product_group_id()||3!==(0,o.A)().current_step())return!0;if(this.id=Object.keys(e)[0],-1===this.id.indexOf("_dotaznik_odpoved"))return!0;let t=(0,n.A)().get_selected_product().next_contract;this.type=e[this.id].type;let _=this.id.indexOf("_osoba");this.product_prefix=this.id.substring(0,_);let s=this.id.indexOf("_osoba")+6;if(this.person_index=this.id.substring(s,s+1),"view_zp_generali"===t)s=this.id.indexOf("_dotaznik_odpoved")+17,_=this.id.indexOf("__"),this.block_number=this.id.substring(s,_),this.suffix="";else{s=this.id.indexOf("_dotaznik_odpoved")+17,this.block_number=this.id.substring(s,s+2),this.block_number=this.block_number.replace("_",""),this.block_number=parseInt(this.block_number,10),s+=(this.block_number+"").length+1;let e=this.id.substring(s);s=e.indexOf("_"),this.suffix=s>-1?e.substring(s):""}return"view_zp_allianz"!==t&&"view_zp_nn"!==t&&"view_zp_generali"!==t||this.display_blocks_under_this_checkbox()}display_blocks_under_this_checkbox(){let e=this.product_prefix+"_osoba"+this.person_index+"_dotaznik_otazka"+this.block_number+this.suffix,t=(0,n.A)().get_form_value(e);if("1"===t)return!0;let _="checkbox"===this.type?"0":null;return r.A.purge_helper(this.type,this.id,_),!1}}var i=new a,l=_(9614),p=(_(5143),_(2754),_(9819)),d=_(1190);class c{serialize_user_input(){let e=(0,n.A)().all_form_values();return this.serialize_object(e)}serialize_specific_inputs(e){let t,_={},s=e.length;for(t=0;t<s;t++)_[e[t]]=(0,n.A)().get_user_input(e[t]);return this.serialize_object(_)}serialize_object(e){let t=[];for(let _ in e){if(!e.hasOwnProperty(_))continue;let s=encodeURIComponent(_)+"="+encodeURIComponent(e[_]);t.push(s)}return t.join("&")}objectify_user_input(){let e=(0,n.A)().all_form_values();return JSON.stringify(e)}custom_serialize_form_elements(e){var t,_=[],s=e.target.elements.length;for(t=0;t<s;t++){var o=e.target.elements[t];if(o.name&&"file"!==o.type&&"reset"!==o.type&&"submit"!==o.type&&"button"!==o.type&&"fieldset"!==o.type)if("select-multiple"===o.type)for(var r=0;r<o.options.length;r++)o.options[r].selected&&_.push(encodeURIComponent(o.name)+"="+encodeURIComponent(o.options[r].value));else!0===o.checked&&"radio"===o.type||"radio"!==o.type&&"checkbox"!==o.type?_.push(encodeURIComponent(o.name)+"="+encodeURIComponent(o.value)):"checkbox"===o.type&&!1===o.checked?_.push(encodeURIComponent(o.name)+"=0"):"checkbox"===o.type&&!0===o.checked?_.push(encodeURIComponent(o.name)+"=1"):"radio"!==o.type&&console.log("field value not collected "+o.name)}return _.join("&")}add_token_as_parameter(){var e=(0,o.A)().get_session_token();return""===e?"":"&token="+e}downloadBase64(e,t,_=null,s="application/pdf"){null==_&&(_=this.base64ToArrayBuffer(t));var o=new Blob([_],{type:s});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(o,e);else{var r=window.URL.createObjectURL(o),n=document.createElement("a");document.body.appendChild(n),n.href=r,n.download=e,n.click(),window.URL.revokeObjectURL(r),n.remove()}}base64ToArrayBuffer(e){for(var t=window.atob(e),_=t.length,s=new Uint8Array(_),o=0;o<_;o++){var r=t.charCodeAt(o);s[o]=r}return s}active_tab(e=void 0){void 0===e&&(e=(0,l.A)().get_current_tab());let t=(0,s.A)().get_form()[e],_={};for(let s in t)r.A.visibility_boolean(t[s])&&i.zp_person_boolean(t[s])&&i.zp_checkboxes_boolean(t[s])&&(_[s]=t[s]);return _}this_tab_is_empty(e=void 0){let t=this.active_tab(e);return void 0===t||0===Object.keys(t).length}slugify(e){const t="àáäâãåăæçčèéëêǵḧìíïîľḿńǹñňòóöôœṕŕßśșšțťùúüûǘẃẍÿýźž·/_,:;",_="aaaaaaaacceeeeghiiiilmnnnnoooooprssssttuuuuuwxyyzz------",s=new RegExp(t.split("").join("|"),"g");return e.toString().toLowerCase().replace(/\s+/g,"-").replace(s,function(e){return _.charAt(t.indexOf(e))}).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}slugify_keep_extension_add_tag(e,t){let _=e.lastIndexOf("."),s=e.substring(0,_),o=e.substring(_);t&&(s+="-"+t);let r=this.slugify(s);return r+o}ends_with(e,t){return e+="",t+="",-1!==e.indexOf(t,e.length-t.length)}starts_with(e,t){return e+="",t+="",0===e.indexOf(t)}valid_version_format(e){let t=e.split(".");return 3===t.length&&!t.includes("")&&this.contains_only_digits(t[0])&&this.contains_only_digits(t[1])&&this.contains_only_digits(t[2].substring(0,1))}not_json_string(e){try{let t=JSON.parse(e);return"object"!==typeof t||null===t}catch(t){return!0}}contains_only_digits(e){return/^\d+$/.test(e)}contains_some_letters(e){return"string"===typeof e&&/^(?=.*[a-zA-Z])/.test(e)}first_two_are_letters(e){return/^[a-zA-Z]+$/.test(e.slice(0,2))}first_one_letter_last_three_numbers(e){return/^[a-zA-Z]+$/.test(e.slice(0,1))&&/^\d+$/.test(e.slice(-3))}keep_only_letters_and_numbers(e){return e+="",e.replace(/[^a-zA-Z0-9]/g,"")}keep_only_numbers(e){return e+="",e.replace(/[^0-9]/g,"")}has_uuid_format(e){return/^$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/.test(e)}first_key(e){if("object"===typeof e)return Object.keys(e)[0]}first_value(e){if("object"===typeof e)return e[Object.keys(e)[0]]}enum_value(e){let t=this.first_key(e),_=this.first_value(e);return"string"===typeof _?t:"object"===typeof _?_.value:""}enum_label(e){this.first_key(e);let t=this.first_value(e);return"string"===typeof t?t:"object"===typeof t?t.label:""}find_key_by_value(e,t){for(var _ in e)if(e.hasOwnProperty(_)&&e[_]===t)return _;return""}format_docs_date(e){if(void 0===e||null===e)return"";let t=new Date(e),_=(t.getDate()+"").padStart(2,"0"),s=(t.getMonth()+1+"").padStart(2,"0"),o=t.getFullYear();return[_,s,o].join(".")}format_car_request_date(e){if(""===e)return;let t=e.split("."),_=t[2]+"-"+t[1]+"-"+t[0];return _}format_string_to_date(e){return new Date(this.format_car_request_date(e))}format_date_to_readable(e){if(!e)return"";let t=new Date(e),_=String(t.getDate()).padStart(2,"0"),s=String(t.getMonth()+1).padStart(2,"0"),o=t.getFullYear(),r=String(t.getHours()).padStart(2,"0"),n=String(t.getMinutes()).padStart(2,"0"),a=String(t.getSeconds()).padStart(2,"0");return`${_}.${s}.${o} ${r}:${n}:${a}`}sleep(e){return new Promise((t,_)=>{setTimeout(()=>{t()},1e3*e)})}adjust_view(e=!1){!0===e?setTimeout(()=>{this.view_helper(e)},20):this.view_helper(e)}view_helper(e){let t,_=0,s=document.querySelector("#osm_app .input-block.validation-error");if(_=!0===e&&null!==s?s.getBoundingClientRect().top:"string"===typeof e?document.querySelector("#osm_app ."+e).getBoundingClientRect().top:document.getElementById("osm_app").getBoundingClientRect().top,_=_+window.pageYOffset-60,"fp_symfony"===(0,o.A)().get_backend_type()&&(_-=100),"myport"===(0,o.A)().get_backend_type()){if(t=document.getElementsByClassName("sub")[0],void 0===t)return}else t=window;t.scrollTo({top:_,behavior:"smooth"})}open_remap(e,t,_){if(!["new","current"].includes(e)||"number"!==typeof t||"string"!==typeof _)return void console.log("remap error:",e,t,_);let s=(0,o.A)().get_backend_type(),r=(0,o.A)().get_endpoint_type();if("myport"===s)(0,o.A)().get_remap_expose({group_id:t,session_token:_,open:e});else if("np_wp"===s||"np_symfony"===s||"fp_symfony"===s||"wrapper_sf"===s){let s=window.location.origin+"/"+p.A.group_slug(t)+"/?session="+_;"new"===e?window.open(s,"_blank").focus():"current"===e&&(window.location.href=s)}else if("php_wrapper"===s){let s=window.location.origin+"/?endpoint="+r+"&group="+t+"&session="+_;"new"===e?window.open(s,"_blank").focus():"current"===e&&(window.location.href=s)}else"lukas_local"!==s&&"vue"!==s||d.A.switch_group_for_remap_purpose(t,_)}}var u=new c},6460:function(e,t,_){var s=_(810),o=_(8700),r=_(6343);t.A=(0,s.nY)("STATE_forms",{state:()=>({form_storage:{},error_object:{},confirm_chbs:{suhlas_elekt_kom:"0",suhlas_marketing:"0",suhlas_navrh:"0"},cached_data:{},global_storage:{}}),getters:{get_form(){return()=>this.form_storage},find_input_data(){return e=>{if(void 0!==this.cached_data[e])return this.cached_data[e];let t={};for(let _ in this.form_storage)for(let s in this.form_storage[_]){let o=r.A.first_key(this.form_storage[_][s]);if("_block"!==o)e===o&&(t=r.A.first_value(this.form_storage[_][s])),this.cached_data[o]=r.A.first_value(this.form_storage[_][s]);else for(let n in this.form_storage[_][s][o].elements){let a=r.A.first_key(this.form_storage[_][s][o].elements[n]);e===a&&(t=r.A.first_value(this.form_storage[_][s][o].elements[n])),this.cached_data[a]=r.A.first_value(this.form_storage[_][s][o].elements[n])}}for(let _ in this.global_storage)for(let s in this.global_storage[_]){let o=r.A.first_key(this.global_storage[_][s]);if("_block"!==o)e===o&&(t=r.A.first_value(this.global_storage[_][s])),this.cached_data[o]=r.A.first_value(this.global_storage[_][s]);else for(let n in this.global_storage[_][s][o].elements){let a=r.A.first_key(this.global_storage[_][s][o].elements[n]);e===a&&(t=r.A.first_value(this.global_storage[_][s][o].elements[n])),this.cached_data[a]=r.A.first_value(this.global_storage[_][s][o].elements[n])}}return t}},get_errors(){return()=>this.error_object},input_has_error(){return e=>void 0!==this.error_object?.[e]},get_confirm_chbs(){return()=>4!==(0,o.A)().current_step()?{}:this.confirm_chbs},are_checkboxes_invalid(){return()=>"0"===this.confirm_chbs.suhlas_elekt_kom||"0"===this.confirm_chbs.suhlas_navrh}},actions:{set_form(e){this.form_storage=e,this.cached_data={}},clear_form(){this.form_storage={},this.cached_data={}},set_errors(e){console.log("form received errors:",e),this.error_object=e},set_one_error(e,t){this.error_object[e]={0:t}},clear_errors(){this.error_object={}},clear_one_error(e){this.error_object.hasOwnProperty(e)&&delete this.error_object[e]},set_confirm_chb(e,t){-1===Object.keys(this.confirm_chbs).indexOf(e)||"0"!==t&&"1"!==t?console.log("baaad",e,t):this.confirm_chbs[e]=t},set_global_form(e){this.global_storage=e}}})},6488:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _home_lukas_www_osm_app_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1114),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4114),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_1__),_store_STATE_params_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3177),_logic_Functions_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6343);class Show_hide{constructor(){(0,_home_lukas_www_osm_app_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.A)(this,"field_id",""),(0,_home_lukas_www_osm_app_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.A)(this,"field_data",{}),(0,_home_lukas_www_osm_app_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.A)(this,"single",!0),(0,_home_lukas_www_osm_app_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.A)(this,"hide_received",""),(0,_home_lukas_www_osm_app_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.A)(this,"hide_parsed",""),(0,_home_lukas_www_osm_app_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.A)(this,"field_names",[]),(0,_home_lukas_www_osm_app_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.A)(this,"hide_replaced",""),(0,_home_lukas_www_osm_app_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.A)(this,"hide_evaluated","")}visibility_boolean(e){return this.prepare_input(e),""===this.hide_received||(this.parse_condition(),this.get_field_names(),this.replace_conditions_with_input_values(),this.evaluate_condition(),this.purge_value(),!this.hide_evaluated)}prepare_input(e){this.field_id=_logic_Functions_js__WEBPACK_IMPORTED_MODULE_3__.A.first_key(e),this.field_data=_logic_Functions_js__WEBPACK_IMPORTED_MODULE_3__.A.first_value(e),this.single="_block"!==this.field_id,this.hide_received=this.single?this.field_data["data-hide-condition"]:this.field_data.block_hide_condition}parse_condition(){let e=this.hide_received,t=new RegExp("[ ]","g"),_=new RegExp("[=][=]","g"),s=new RegExp("[&][l][t][;]","g"),o=new RegExp("[&][g][t][;]","g"),r=new RegExp("[<]","g"),n=new RegExp("[>]","g"),a=new RegExp("[!]","g"),i=new RegExp("\\+","g"),l=new RegExp("\\-","g"),p=new RegExp("< =","g"),d=new RegExp("> =","g"),c=new RegExp("!=","g"),u=new RegExp("&quot;&quot;","g"),h=new RegExp("&#039;&#039;","g"),m=new RegExp("&quot;","g"),g=new RegExp("&#039;","g"),f=new RegExp("[&][a][m][p][;]","g"),v=new RegExp("[&]","g"),y=new RegExp("[|]","g");e=e.replace(t,""),e=e.replace(_," == "),e=e.replace(s,"<"),e=e.replace(o,">"),e=e.replace(r," < "),e=e.replace(n," > "),e=e.replace(a," !"),e=e.replace(i," + "),e=e.replace(l," - "),e=e.replace(p,"<= "),e=e.replace(d,">= "),e=e.replace(c,"!= "),e=e.replace(u,"-1"),e=e.replace(h,"-1"),e=e.replace(m,"'"),e=e.replace(g,"'"),e=e.replace(f,"&"),e=e.replace(v," && "),e=e.replace(y," || "),this.hide_parsed=e}get_field_names(){let e=this.hide_parsed,t=[];e=e.split(")").join("&"),e=e.split("(").join("&");let _=e.split(/[\s&|()=<>!]+/);var s=_.length;for(o=s-1;o>=0;o--)""===_[o]&&_.splice(o,1);if(e.indexOf("$")>-1){s=_.length;for(o=0;o<s;o++)0===_[o].indexOf("$")&&t.push(_[o])}else{var o;s=_.length;for(o=0;o<s;o++)o%2===0&&t.push(_[o])}this.field_names=t}replace_conditions_with_input_values(){let e,t=this.hide_parsed,_=this.field_names.length;for(e=0;e<_;e++){let _=this.field_names[e],s=(0,_store_STATE_params_js__WEBPACK_IMPORTED_MODULE_2__.A)().get_user_input(_.replace("$",""));void 0===s||""===s?s=-1:_logic_Functions_js__WEBPACK_IMPORTED_MODULE_3__.A.contains_some_letters(s)&&(s='"'+s+'"'),t=t.replace(_,s)}this.hide_replaced=t}evaluate_condition(){let condotion_string=this.hide_replaced;try{this.hide_evaluated=eval(condotion_string)}catch(error){error instanceof SyntaxError?(console.log("syntax error",error.message),console.log(this.hide_received," >>>>>> ",condotion_string),this.hide_evaluated=!1):(console.log("probably parsing error, check for missing $",error),console.log(this.hide_received," >>>>>> ",condotion_string),this.hide_evaluated=!1)}}purge_value(){if(!1!==this.hide_evaluated)if(this.single){let e=this.field_data.input_settings?.show_hide?.set_value_on_hide||null;e=!0===this.field_data.input_settings?.show_hide?.keep_value_on_hide?"keep_value_on_hide":e,this.purge_helper(this.field_data.type,this.field_id,e)}else for(let e in this.field_data.elements){let t=_logic_Functions_js__WEBPACK_IMPORTED_MODULE_3__.A.first_key(this.field_data.elements[e]),_=_logic_Functions_js__WEBPACK_IMPORTED_MODULE_3__.A.first_value(this.field_data.elements[e]),s=_.input_settings?.show_hide?.set_value_on_hide||null;s=!0===_.input_settings?.show_hide?.keep_value_on_hide?"keep_value_on_hide":s,this.purge_helper(_.type,t,s)}}purge_helper(e,t,_=null){null===_||"keep_value_on_hide"===_?"keep_value_on_hide"!==_&&("radio"===e||"checkbox"===e||"checkbox_icon"===e||"select"===e&&"havarijne_auto_vybava"!==t||(0,_store_STATE_params_js__WEBPACK_IMPORTED_MODULE_2__.A)().delete_form_value(t)):(0,_store_STATE_params_js__WEBPACK_IMPORTED_MODULE_2__.A)().set_form_value(t,_,!1)}}__webpack_exports__.A=new Show_hide},6645:function(e,t,_){var s=_(6343);class o{async set_cookie(e,t,_){let o=new Date,r="";if(0===_){let e=new Date,t=new Date;t.setHours(27,0,33),r=t.valueOf()-e.valueOf()}else r=_<0?5e3:24*_*60*60*1e3;o.setTime(o.getTime()+r),null===t.expire&&(t.expire=o.toUTCString()),t=JSON.stringify(t),document.cookie=e+"=DELETE; expires="+o.toUTCString()+"; path=/;"+this.same_site_secure(),await s.A.sleep(.01),this.delete_cookie(e),await s.A.sleep(.01),document.cookie=e+"="+t+"; expires="+o.toUTCString()+"; path=/;"+this.same_site_secure()}get_cookie(e){let t=document.cookie.split("; ");e+="=";let _,s=t.length;for(_=0;_<s;_++){if(0!==t[_].indexOf(e))continue;let s=t[_].substring(e.length);try{JSON.parse(s)}catch{return{}}return JSON.parse(s)}return{}}delete_cookie(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/;"+this.same_site_secure()}same_site_secure(){return"https:"===window.location.protocol?" SameSite=None; Secure;":""}}t.A=new o},7833:function(e,t,_){var s=_(8700),o=_(3177),r=_(6645),n=_(6343);class a{init_manager_simple(){if(this.exit_manager())return;let e=r.A.get_cookie(this.c_name());(0,s.A)().is_fresh_session()&&e?.session&&(0,s.A)().set_session_token(e.session),-1===(0,s.A)().current_step()&&(0,s.A)().change_step(e?.step||1)}async update_cookie(){if(this.exit_manager())return;await n.A.sleep(1);let e={session:(0,s.A)().get_session_token(),expire:null,step:(0,s.A)().current_step(),receiver:(0,o.A)().get_receiver(),endpoint:(0,s.A)().get_endpoint_type()},t=14;r.A.set_cookie(this.c_name(),e,t)}purge_cookie(e=void 0){this.exit_manager()||r.A.delete_cookie(this.c_name(e))}exit_manager(){return"form_app"!==(0,s.A)().get_run_mode()||"simple"!==(0,s.A)().cookie_manager_type()}c_name(e=void 0){return"osmc_"+(0,o.A)().get_receiver()+"_"+(0,s.A)().get_endpoint_type()+"_"+(e||(0,s.A)().product_group_id())}}t.A=new a},8700:function(e,t,_){var s=_(810),o=_(6343),r=_(2754),n=_(1190),a=_(9885);t.A=(0,s.nY)("STATE_core",{state:()=>({version:"",access_token:"",get_access_token_promise:null,get_fresh_session_token_promise:null,session_token:"",endpoint_type:"",run_mode:"",backend_type:"",group_id:0,step:0,flow_id:0,skin:"",signature_role:"",payment:{},cookie_session_manager:!1,refresh_seo_cache:!1,analytics:!1,representative:!1,proxy_endpoint:!1,proxy_scope:"",save_exposed_state:null,expose_remap:null,read_only:!1,user_note:"",overseer_view:77}),getters:{current_step(){return()=>this.step},product_group_id(){return()=>this.group_id},get_flow_id(){return()=>this.flow_id},get_session_token(){return()=>this.session_token},is_fresh_session(){return()=>""===this.session_token},myport_session_token_promise(){return()=>this.get_fresh_session_token_promise},give_bearer(){return()=>"Bearer "+a.A.unhash_bearer(this.access_token)},myport_access_token_promise(){return()=>this.get_access_token_promise({refresh:!0})},has_access(){return()=>""!==this.access_token},get_endpoint_type(){return()=>this.endpoint_type},endpoint_url(){return()=>{if(this.proxy_endpoint)return this.proxy_endpoint+"/online-sale-mw/";let e=this.get_endpoint_type(),t={minor_stage:"https://api-minor-stage.finportal.sk/esb/online-sale-mw/",stage:"https://api-stage.finportal.sk/esb/online-sale-mw/",edu:"https://api-edu.finportal.sk/esb/online-sale-mw/",production:"https://api.finportal.sk/esb/online-sale-mw/",pg_production:"https://api.partnerspoistenie.sk/esb/online-sale-mw/",sfa_production:"https://api.myport.sk/esb/online-sale-mw/",develop:"https://api-develop.intechon.sk/esb/online-sale-mw/",dev:this.proxy_endpoint+"/online-sale-mw/"};return t.hasOwnProperty(e)?t[e]:(console.log("baaad endpoint_type",this.endpoint_type,this.proxy_endpoint,e),null)}},oauth_url(){return()=>this.endpoint_url().replace("/online-sale-mw/","")+"/auth/oauth/v2/token/"},grafana_url(){return()=>this.endpoint_url().replace("/online-sale-mw/","")+"/service/api/elk/logger/"},is_prod_endpoint(){return()=>["production","pg_production","sfa_production"].includes(this.get_endpoint_type())},document_url(){return()=>this.endpoint_url().replace("/online-sale-mw/","/dms/api/download_document_by_token/")},get_backend_type(){return()=>this.backend_type},public_website_backend(){return()=>["fp_symfony","np_symfony","np_wp"].includes(this.backend_type)},give_api_scope(){return()=>this.proxy_scope},get_state_exposure(){return this.save_exposed_state},get_remap_expose(){return this.expose_remap},get_skin_name(){return()=>this.skin},skin_class(){return()=>"skin-"+this.skin},is_partners_skin(){return()=>"partners"===this.skin},is_finportal_skin(){return()=>"finportal"===this.skin},is_zeteo_skin(){return()=>"zeteo"===this.skin},get_run_mode(){return()=>this.run_mode},get_signature_role(){return()=>this.signature_role},get_payment_data(){return()=>this.payment},cookie_manager_type(){return()=>!0===this.cookie_session_manager?this.public_website_backend()?"simple":"improved":this.cookie_session_manager},refresh_seo(){return()=>this.refresh_seo_cache},give_app_version(){return()=>this.version},enable_analytics(){return()=>this.analytics&&this.public_website_backend()},is_read_only(){return()=>this.read_only},get_representative(){return()=>this.representative},get_user_note(){return()=>this.user_note},get_overseer_view(){return()=>this.overseer_view}},actions:{save_the_config(e){this.version=e.version,this.access_token=e.access_token,this.get_access_token_promise=e.get_access_token_promise||null,this.get_fresh_session_token_promise=e.get_fresh_session_token_promise||null,this.session_token=e.session_token,this.endpoint_type=e.endpoint_type,this.run_mode=e.run_mode,this.backend_type=e.backend_type,this.group_id=parseInt(e.group_id,10),this.step=parseInt(e.step,10),this.flow_id=e.flow_id||0,this.skin=e.skin,this.signature_role=e.signature_role||"",this.payment=e.payment||{},this.cookie_session_manager=e.cookie_session_manager||!1,this.refresh_seo_cache=e.refresh_seo_cache||!1,this.analytics=e.analytics||!1,this.representative=e.representative||!1,this.proxy_endpoint=e.proxy_endpoint||!1,this.proxy_scope=e.proxy_scope,this.save_exposed_state=e.save_exposed_state||null,this.expose_remap=e.expose_remap||null},update_the_config(e){this.session_token=e.session_token,this.endpoint_type=e.endpoint_type,this.run_mode=e.run_mode,this.group_id=parseInt(e.group_id,10),this.step=parseInt(e.step,10),this.flow_id=e.flow_id||0,this.skin=e.skin,this.signature_role=e.signature_role||"",this.payment=e.payment||{},this.user_note=(e.user_note+"").substring(0,54)},change_step(e){e=parseInt(e,10),[-1,0,1,2,3,4,5,6,88,99].includes(e)?((0,r.A)().abort_all_signals(),-1!==this.step&&o.A.adjust_view(),this.step=e,n.A.update_managers()):console.log("step not allowed!",e)},change_product_group_id(e){this.group_id=parseInt(e,10)},set_session_token(e){this.session_token=e,n.A.update_managers()},delete_session_token(){this.session_token=""},save_bearer(e){this.access_token=e,"503"!==e&&503!==e||this.set_overseer_view(503)},set_read_only(e=!0){this.read_only=e},delete_user_note(){this.user_note=""},set_overseer_view(e){let t=[0,77,100,404,503];t.includes(e)?(this.overseer_view=e,(0,r.A)().abort_all_signals()):console.log("wrong overseer view",e)}}})},9614:function(e,t,_){_(4114);var s=_(810),o=_(6343);_(3177);t.A=(0,s.nY)("STATE_nav",{state:()=>({requested_direction:null,tab_current:0,tab_first:0,tab_last:0,tab_keys:[]}),getters:{get_requested_direction(){return()=>this.requested_direction},get_current_tab(){return()=>this.tab_current},current_tab_is_first(){return()=>this.tab_current===this.tab_first},current_tab_is_last(){return()=>this.tab_current===this.tab_last},get_tab_keys(){return()=>this.tab_keys}},actions:{set_requested_direction(e){this.requested_direction=e},reset_requested_direction(){this.requested_direction=null},set_current_tab(e){this.tab_current=parseInt(e,10)},decrease_tab(){this.tab_current--},increase_tab(){this.tab_current++},open_first_tab_with_error(e){let t=o.A.first_key(e);this.tab_current=parseInt(t,10)},set_tab_keys(e){if(void 0===e||"object"!==typeof e)return;let t=Object.keys(e);this.tab_keys=[];for(let _=0;_<t.length;_++){let e=parseInt(t[_],10);this.tab_keys.push(e)}this.tab_first=this.tab_keys[0],this.tab_last=this.tab_keys[this.tab_keys.length-1],this.tab_current=this.tab_first;while(o.A.this_tab_is_empty(this.tab_current)){if(this.current_tab_is_last())break;this.increase_tab()}},reset_tab_keys(){this.tab_current=0,this.tab_first=0,this.tab_last=0,this.tab_keys=[]}}})},9819:function(e,t,_){var s=_(8700),o=_(3177);class r{email_address(){return(0,s.A)().is_partners_skin()?"poistenie@partnersgroup.sk":(0,s.A)().is_finportal_skin()?"finportal@finportal.sk":"najpoistenie@najpoistenie.sk"}phone_number(){let e=(0,o.A)().get_receiver();return 2!==e&&1!==e?null:(0,o.A)().direct_user()?"+421 917 369 449":"+421 905 497 554"}callcentrum_phone(){return"+421 911 969 551"}group_names(){return{1:"Povinné zmluvné poistenie",2:"Havarijné poistenie",3:"Hypotekárny úver",4:"Životné poistenie",5:"GAP poistenie finančnej straty",6:"Investície",7:"Cestovné poistenie",8:"Poistenie zodpovednosti zamestnanca",9:"Poistenie majetku - byt, dom, domácnosť",10:"Poistenie podnikateľov",72:"Sedadlá",73:"Zdravotné poistenie cudzincov",81:"Zdravotné poistenie",82:"Test",85:"Starobné dôchodkové sporenie",86:"Doplnkové dôchodkové sporenie",88:"Špeciálne poistenie",92:"Spotrebný úver"}}group_slug(e){let t={1:"pzp-povinne-zmluvne-poistenie",2:"havarijne-poistenie",3:"hypotekarny-uver",4:"zp",5:"gap-poistenie-financnej-straty",6:"sporenie",7:"cestovne-poistenie",8:"poistenie-zodpovednosti-zamestnanca-za-skodu",9:"poistenie-domu-bytu-domacnosti",10:"poistenie-podnikatelov",72:"poistenie-sedadiel",73:"poistenie-cudzincov",81:"zdravotne-poistenie",82:"test",85:"dss",86:"dds",88:"specialne-poistenie",92:"spotrebny-uver"};return t[e]||"unknown-slug"}mode_slug(e){let t={docs_landing:"nahravanie-dokumentov",node_red:"dynamicky-formular"};return t[e]||null}group_offer(){let e={1:"offer_pzp",2:"offer_kasko",3:"offer_hypoteka",4:"offer_zivot",5:"offer_gap",6:"offer_sporenie",7:"offer_cestovne",8:"offer_zodpovednost",9:"offer_majetok",10:"offer_podnikatelia",72:"offer_sedadla",73:"offer_cudzinci",81:"offer_zdravotne",82:"offer_test",85:"offer_dss",86:"offer_dds",88:"offer_poistenie",92:"offer_uver"},t=(0,s.A)().product_group_id();return e.hasOwnProperty(t)?e[t]:(console.log("ERROR: undefined product group offer"),"")}group_name(e){return this.group_names()[e]||"Neidentifikovaná grupa"}step_names(e){let t={"-1":"Cookie manager",0:"Preposlaná ponuka",1:"Vstupný formulár",2:"Výber produktov",3:"Údaje klienta",4:"Návrh zmluvy",5:"Potvrdenie zmluvy",6:"Návrat z platby",88:"Testovací dizajn",99:"Testovanie logiky"};return t[e]}receiver_names(){return{1:"Finportal",2:"Najpoistenie",3:"UMS",4:"Partners group",5:"Centrum poistenia",6:"Realfin",7:"Benefit",8:"Generali"}}legal_document(){return"https://www.najpoistenie.sk/files/informacie_o_ochrane_osobnych_udajov_08_2022_1.pdf"}}t.A=new r},9885:function(e,t,_){_(6573),_(8100),_(7936),_(9577),_(1549),_(9797),_(9631),_(5623),_(4979),_(8700);class s{is_headless(e){if(!["np_symfony","fp_symfony"].includes(e.backend_type))return!1;if(!0===window.navigator.webdriver)return!0;let t=window.navigator.userAgent.toLowerCase();return!(!t.includes("headless")&&!t.includes("puppeteer"))}unhash_bearer(e){if(e.length<=86)return e;let t=571,_="t6zr5615vd0q",s=atob(e),o=new Uint8Array(s.length);for(let n=0;n<s.length;n++)o[n]=s.charCodeAt(n)^t;let r=(new TextDecoder).decode(o);return r.replace(_,"")}prepare_captcha_script(e){return new Promise((e,t)=>e("currently not loading captcha anywhere"))}async captcha_api(){return new Promise((e,t)=>e(""))}}t.A=new s},9914:function(e,t,_){_.d(t,{A:function(){return p}});_(4603),_(7566),_(8721);var s=_(8700),o=_(3177),r=_(6343);class n{set_storage(e,t){"object"===typeof t?localStorage.setItem(e,JSON.stringify(t)):console.log("value has to be object",e,t)}get_storage(e){let t=localStorage.getItem(e);return t?JSON.parse(t):null}get_multiple_storages(e){let t={};for(let _ in localStorage)localStorage.hasOwnProperty(_)&&r.A.starts_with(_,e)&&(t[_.replace(e,"")]=this.get_storage(_));return t}delete_storage(e){localStorage.removeItem(e)}}var a=new n,i=_(9819);class l{init_manager_improved(){this.exit_manager()||(0,s.A)().set_overseer_view(100)}async update_storage(){if(this.exit_manager())return;let e=(0,s.A)().get_session_token();if(""===e)return;await r.A.sleep(1),this.set_keep(e);let t={receiver_id:(0,o.A)().get_receiver(),endpoint_type:(0,s.A)().get_endpoint_type(),group_id:(0,s.A)().product_group_id(),step:(0,s.A)().current_step(),run_mode:(0,s.A)().get_run_mode(),flow_id:(0,s.A)().get_flow_id(),skin:(0,s.A)().get_skin_name(),agent_code:(0,o.A)().get_agent_code(),filtered_products:(0,o.A)().get_filtered_products(),user_note:(0,s.A)().get_user_note(),signature_role:(0,s.A)().get_signature_role(),payment:(0,s.A)().get_payment_data(),updated_at:(new Date).toISOString()};a.set_storage(this.s_name(),t)}upsert_storages(e){let t=JSON.parse(e);for(let _ in t)a.set_storage(this.s_name(_),t[_])}validate_imported(e){if(r.A.not_json_string(e))return"not json format";let t=["receiver_id","endpoint_type","group_id","step","run_mode","flow_id","skin","agent_code","filtered_products","user_note","signature_role","payment","updated_at"],_=["payment_id","payment_result","payment_debug"],s=JSON.parse(e);if("object"!==typeof s)return"not object";for(let o in s){if(!r.A.has_uuid_format(o))return"bad uuid format "+o;if("object"!==typeof s[o])return"not object type "+o;for(let e=0;e<t.length;e++)if(!s[o].hasOwnProperty(t[e]))return'missing key "'+t[e]+'" in '+o;if("object"!==typeof s[o].payment)return"payment not object "+o;for(let e=0;e<_.length;e++)if(!s[o].payment.hasOwnProperty(_[e]))return'missing key "'+_[e]+'" in '+o}return!0}purge_storage(e=!1){this.exit_manager()||a.delete_storage(this.s_name(e))}clean_slate(){if(this.exit_manager())return;let e=a.get_multiple_storages(this.s_name(""));for(let t in e)a.delete_storage(this.s_name(t))}retrieve_storage(){if(this.exit_manager())return;let e=a.get_multiple_storages(this.s_name("")),t=Object.entries(e),_=t.sort((e,t)=>new Date(t[1].updated_at)-new Date(e[1].updated_at)),s=Object.fromEntries(_);return s}session_list_count(){let e=a.get_multiple_storages(this.s_name(""));return Object.keys(e).length}exit_manager(){return"improved"!==(0,s.A)().cookie_manager_type()}s_name(e=!1){return"osmi_"+(e||(0,s.A)().get_session_token())}share_session(e,t){let _=this.generate_link(e,t);navigator.clipboard.writeText(_)}edit_session(e){let t=this.generate_link(e,1);window.location.href=t}generate_link(e,t){let _=a.get_storage(this.s_name(e)),s="";s="form_app"===_.run_mode?i.A.group_slug(_.group_id):i.A.mode_slug(_.run_mode);let o=window.location.origin+"/?mode="+_.run_mode+"&endpoint="+_.endpoint_type+"&receiver="+_.receiver_id+"&agent="+_.agent_code+"&skin="+_.skin+("form_app"===_.run_mode?"&group="+_.group_id:"")+("node_red"===_.run_mode?"&flow="+_.flow_id:"")+("form_app"===_.run_mode?"&step="+_.step:"")+"&session="+e+("form_app"===_.run_mode?"&filtered="+_.filtered_products:"")+("form_app"===_.run_mode?"&role="+_.signature_role:"")+("form_app"===_.run_mode?"&paymentid="+_.payment.payment_id:"")+("form_app"===_.run_mode?"&result="+_.payment.payment_result:"")+("form_app"===_.run_mode?"&payment_debug="+_.payment.payment_debug:"")+"&note="+encodeURIComponent(_.user_note)+(null===this.get_version()?"":"&version="+this.get_version()),r=window.location.origin+"/"+s+"/?endpoint="+_.endpoint_type+"&receiver="+_.receiver_id+"&agent="+_.agent_code+"&skin="+_.skin+("node_red"===_.run_mode?"&flow="+_.flow_id:"")+(null===this.get_version()?"":"&version="+this.get_version()),n=window.location.origin+"/"+s+"/?endpoint="+_.endpoint_type+"&receiver="+_.receiver_id+"&agent="+_.agent_code+"&skin="+_.skin+("node_red"===_.run_mode?"&flow="+_.flow_id:"")+("form_app"===_.run_mode?"&step="+_.step:"")+"&session="+e+(null===this.get_version()?"":"&version="+this.get_version());return 1===t?o:2===t?r:3===t?n:"wrong link type"}read_link_params(){let e=new URLSearchParams(window.location.search);return Object.fromEntries(e.entries())}remove_shared_url_params(){let e=new URL(window.location),t=["mode","endpoint","session","receiver","group","step","flow","skin","agent","filtered","note","role","paymentid","result","payment_debug"];for(let _=0;_<t.length;_++)e.searchParams.delete(t[_]);window.history.replaceState({},"",e)}set_keep(e){let t=new URL(window.location);t.searchParams.set("keep",e),window.history.replaceState({},"",t)}get_keep(){return new URLSearchParams(window.location.search).get("keep")}delete_keep(){let e=new URL(window.location);e.searchParams.delete("keep"),window.history.replaceState({},"",e)}set_version(e){let t=new URL(window.location);t.searchParams.set("version",e),window.history.replaceState({},"",t),window.location.reload()}get_version(){return new URLSearchParams(window.location.search).get("version")}delete_version(){let e=new URL(window.location);e.searchParams.delete("version"),window.history.replaceState({},"",e),window.location.reload()}}var p=new l}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var _=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(_.exports,_,_.exports,__webpack_require__),_.exports}__webpack_require__.m=__webpack_modules__,function(){var e=[];__webpack_require__.O=function(t,_,s,o){if(!_){var r=1/0;for(l=0;l<e.length;l++){_=e[l][0],s=e[l][1],o=e[l][2];for(var n=!0,a=0;a<_.length;a++)(!1&o||r>=o)&&Object.keys(__webpack_require__.O).every(function(e){return __webpack_require__.O[e](_[a])})?_.splice(a--,1):(n=!1,o<r&&(r=o));if(n){e.splice(l--,1);var i=s();void 0!==i&&(t=i)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[_,s,o]}}(),function(){__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return __webpack_require__.d(t,{a:t}),t}}(),function(){__webpack_require__.d=function(e,t){for(var _ in t)__webpack_require__.o(t,_)&&!__webpack_require__.o(e,_)&&Object.defineProperty(e,_,{enumerable:!0,get:t[_]})}}(),function(){__webpack_require__.f={},__webpack_require__.e=function(e){return Promise.all(Object.keys(__webpack_require__.f).reduce(function(t,_){return __webpack_require__.f[_](e,t),t},[]))}}(),function(){__webpack_require__.u=function(e){return"js/"+e+".js"}}(),function(){__webpack_require__.miniCssF=function(e){return"css/"+e+".css"}}(),function(){__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="osmapp_webpack_3x25x:";__webpack_require__.l=function(_,s,o,r){if(e[_])e[_].push(s);else{var n,a;if(void 0!==o)for(var i=document.getElementsByTagName("script"),l=0;l<i.length;l++){var p=i[l];if(p.getAttribute("src")==_||p.getAttribute("data-webpack")==t+o){n=p;break}}n||(a=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,__webpack_require__.nc&&n.setAttribute("nonce",__webpack_require__.nc),n.setAttribute("data-webpack",t+o),n.src=_),e[_]=[s];var d=function(t,s){n.onerror=n.onload=null,clearTimeout(c);var o=e[_];if(delete e[_],n.parentNode&&n.parentNode.removeChild(n),o&&o.forEach(function(e){return e(s)}),t)return t(s)},c=setTimeout(d.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=d.bind(null,n.onerror),n.onload=d.bind(null,n.onload),a&&document.head.appendChild(n)}}}(),function(){__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){__webpack_require__.p="https://cdn.jsdelivr.net/gh/LukasMihalciny/osm_app_public@3.34.0/dist/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,_,s,o){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css",__webpack_require__.nc&&(r.nonce=__webpack_require__.nc);var n=function(_){if(r.onerror=r.onload=null,"load"===_.type)s();else{var n=_&&_.type,a=_&&_.target&&_.target.href||t,i=new Error("Loading CSS chunk "+e+" failed.\n("+n+": "+a+")");i.name="ChunkLoadError",i.code="CSS_CHUNK_LOAD_FAILED",i.type=n,i.request=a,r.parentNode&&r.parentNode.removeChild(r),o(i)}};return r.onerror=r.onload=n,r.href=t,_?_.parentNode.insertBefore(r,_.nextSibling):document.head.appendChild(r),r},t=function(e,t){for(var _=document.getElementsByTagName("link"),s=0;s<_.length;s++){var o=_[s],r=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(r===e||r===t))return o}var n=document.getElementsByTagName("style");for(s=0;s<n.length;s++){o=n[s],r=o.getAttribute("data-href");if(r===e||r===t)return o}},_=function(_){return new Promise(function(s,o){var r=__webpack_require__.miniCssF(_),n=__webpack_require__.p+r;if(t(r,n))return s();e(_,n,null,s,o)})},s={524:0};__webpack_require__.f.miniCss=function(e,t){var o={194:1,229:1,263:1,268:1,354:1,475:1,510:1,597:1,619:1,664:1,670:1,730:1};s[e]?t.push(s[e]):0!==s[e]&&o[e]&&t.push(s[e]=_(e).then(function(){s[e]=0},function(t){throw delete s[e],t}))}}}(),function(){var e={524:0};__webpack_require__.f.j=function(t,_){var s=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==s)if(s)_.push(s[2]);else if(619!=t){var o=new Promise(function(_,o){s=e[t]=[_,o]});_.push(s[2]=o);var r=__webpack_require__.p+__webpack_require__.u(t),n=new Error,a=function(_){if(__webpack_require__.o(e,t)&&(s=e[t],0!==s&&(e[t]=void 0),s)){var o=_&&("load"===_.type?"missing":_.type),r=_&&_.target&&_.target.src;n.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",n.name="ChunkLoadError",n.type=o,n.request=r,s[1](n)}};__webpack_require__.l(r,a,"chunk-"+t,t)}else e[t]=0},__webpack_require__.O.j=function(t){return 0===e[t]};var t=function(t,_){var s,o,r=_[0],n=_[1],a=_[2],i=0;if(r.some(function(t){return 0!==e[t]})){for(s in n)__webpack_require__.o(n,s)&&(__webpack_require__.m[s]=n[s]);if(a)var l=a(__webpack_require__)}for(t&&t(_);i<r.length;i++)o=r[i],__webpack_require__.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return __webpack_require__.O(l)},_=self["webpackChunkosmapp_webpack_3x25x"]=self["webpackChunkosmapp_webpack_3x25x"]||[];_.forEach(t.bind(null,0)),_.push=t.bind(null,_.push.bind(_))}();var __webpack_exports__=__webpack_require__.O(void 0,[504],function(){return __webpack_require__(2070)});__webpack_exports__=__webpack_require__.O(__webpack_exports__),osmapp_webpack_3x25x=__webpack_exports__})();
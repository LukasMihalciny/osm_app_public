"use strict";(self["webpackChunkosmapp_webpack_3x25x"]=self["webpackChunkosmapp_webpack_3x25x"]||[]).push([[298],{2298:function(e,t,a){a.r(t),a.d(t,{default:function(){return w}});var o=a(641),s=a(33),n=a(3751);const l={key:0,class:"modal_form"},i={class:"mb-4"},r=["href"],u={class:"input-area input-ttip-wrap mb-2"},d=["for"],c=["disabled"],p={class:"text-center mt-3"},_={class:"text-accent"},m={class:"text-accent"},v={key:1};function k(e,t,a,k,h,f){const b=(0,o.g2)("Tooltip"),g=(0,o.g2)("Text"),y=(0,o.g2)("Errors"),L=(0,o.g2)("Bouncer_loading"),A=(0,o.g2)("Modal_body");return(0,o.uX)(),(0,o.Wv)(A,{close:!0,title:"Uzatvorenie",class:"modal-email",icon:"i_email"},{default:(0,o.k6)(()=>[(0,o.Lk)("p",{class:(0,s.C4)(h.success?"mb-4":"")},t[1]||(t[1]=[(0,o.eW)(" V súčasnosti zákon neumožňuje uzatvoriť takúto zmluvu prostredníctvom internetu. "),(0,o.Lk)("br",null,null,-1),(0,o.eW)(" Zanechajte nám, prosím, na seba kontakt a my Vám pomôžeme zmluvu uzatvoriť. ")]),2),h.success?((0,o.uX)(),(0,o.CE)("div",v,t[4]||(t[4]=[(0,o.Lk)("p",{class:"mb-1"},[(0,o.Lk)("span",{class:"i_success"}),(0,o.Lk)("strong",null," Kontaktné údaje boli uložené. ")],-1),(0,o.Lk)("p",{class:"mb-3"}," Ďakujeme za prejavenú dôveru, ozveme sa Vám s pripravenou ponukou. ",-1)]))):((0,o.uX)(),(0,o.CE)("div",l,[(0,o.bo)((0,o.Lk)("p",i,[(0,o.Lk)("em",null,[t[2]||(t[2]=(0,o.eW)(" Pomôžeme vám porovnať ponuky a nájsť tú najlepšiu. Pokračovaním súhlasíte so ")),(0,o.Lk)("a",{href:f.doc_legal,target:"_blank"},"spracovaním údajov",8,r),t[3]||(t[3]=(0,o.eW)(" na prípravu a odkomunikovanie ponuky na mieru. "))])],512),[[n.aG,f.doc_legal]]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(h.contact_inputs,(e,t)=>((0,o.uX)(),(0,o.CE)("div",u,[(0,o.Lk)("label",{for:t},(0,s.v_)(e.label),9,d),(0,o.bF)(b,{tooltip_text:e.description,tooltip_type:"info"},null,8,["tooltip_text"]),"text"===e.type?((0,o.uX)(),(0,o.Wv)(g,{key:0,field_id:t,field_data:e,emit_name:"fake_emit"},null,8,["field_id","field_data"])):(0,o.Q3)("",!0),(0,o.bF)(y,{has_error:h.lead_errors[t]},null,8,["has_error"])]))),256)),(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>f.submit_lead&&f.submit_lead(...e)),disabled:h.loading,class:"btn btn-primary btn-right w-100 mt-4"},(0,s.v_)(f.submit_text),9,c),(0,o.Lk)("div",p,[(0,o.bo)((0,o.Lk)("p",_,"Vyplňte prosím aspoň jeden typ kontaktného údaju.",512),[[n.aG,h.invalid]]),(0,o.bo)((0,o.Lk)("p",m,"Upravte prosím aspoň jeden typ kontaktného údaju.",512),[[n.aG,h.untouched]]),(0,o.bo)((0,o.bF)(L,{size:"large"},null,512),[[n.aG,h.loading]])])]))]),_:1})}var h=a(2563),f=a(9819),b=a(3177),g=a(9126),y=a(5162),L=a(6710),A=a(5690),C=a(2095),j=a(55),x=a(6343),E={props:{},components:{Modal_body:h.A,Text:L.A,Errors:A.A,Tooltip:C.A,Bouncer_loading:j.A},data(){return{loading:!1,success:!1,contact_inputs:{},lead_errors:{},invalid:!1,untouched:!1,prefilled_inputs:0,prefilled_values:{}}},created(){g.A.get_global_form().then(e=>{if(200!==e.status)return;this.contact_inputs=y.A.product_form_formatter(e.result.form,"direct");let t=Object.keys(this.contact_inputs);for(let a=0;a<t.length;a++){let e=t[a],o=(0,b.A)().get_user_input(e);this.prefilled_values[e]=o,""!==o&&this.prefilled_inputs++}})},methods:{submit_lead(){this.loading=!0,this.invalid=!1,this.untouched=!1;let e=!1,t=!1;for(let s in this.contact_inputs){let a=(0,b.A)().get_user_input(s);""!==a&&(e=!0),a!==this.prefilled_values[s]&&(t=!0)}if(!1===e)return this.loading=!1,this.invalid=!0,void(this.untouched=!1);if(!1===t)return this.loading=!1,this.invalid=!1,void(this.untouched=!0);let a=Object.keys(this.contact_inputs),o=x.A.serialize_specific_inputs(a);g.A.validate_global_form(o).then(e=>{if(200===e.status)return!0!==e.result.validform?(this.lead_errors=e.result.form_validation_error_elements,void(this.loading=!1)):void(this.success=!0)})}},computed:{doc_legal(){return!!(0,b.A)().direct_user()&&f.A.legal_document()},submit_text(){return 0===this.prefilled_inputs?"Uložiť údaje":1===this.prefilled_inputs?"Doplniť údaje":this.prefilled_inputs>1?"Upraviť údaje":"Odoslať"}}},z=a(6262);const X=(0,z.A)(E,[["render",k]]);var w=X},2563:function(e,t,a){a.d(t,{A:function(){return _}});var o=a(641),s=a(33);const n={class:"modal-content","data-cy":"modal_content"},l={class:"modal-header"},i={class:"modal-body","data-cy":"modal_body"};function r(e,t,a,r,u,d){return(0,o.uX)(),(0,o.CE)("div",{onClick:t[1]||(t[1]=(...e)=>d.did_click_outside&&d.did_click_outside(...e)),class:(0,s.C4)(["vue_modal",a.modal_size]),"data-cy":"modal"},[(0,o.Lk)("div",n,[(0,o.Lk)("div",l,[a.icon?((0,o.uX)(),(0,o.CE)("span",{key:0,class:(0,s.C4)(["modal-icon",a.icon])},null,2)):(0,o.Q3)("",!0),(0,o.Lk)("h4",null,(0,s.v_)(a.title),1),a.close?((0,o.uX)(),(0,o.CE)("span",{key:1,onClick:t[0]||(t[0]=(...e)=>d.close_me&&d.close_me(...e)),class:"i_close"})):(0,o.Q3)("",!0)]),(0,o.Lk)("div",i,[(0,o.RG)(e.$slots,"default")])])],2)}var u=a(2873),d={props:{close:Boolean,title:String,modal_size:String,icon:{type:String}},components:{},emits:[],data(){return{}},created(){document.addEventListener("keyup",this.close_me)},beforeUnmount(){document.removeEventListener("keyup",this.close_me)},methods:{close_me(e){this.close&&("click"===e?.type||"keyup"===e?.type&&27===e?.keyCode)&&(0,u.A)().close_them_all()},did_click_outside(e){e.target.classList.contains("vue_modal")&&this.close_me(e)}},computed:{},watch:{}},c=a(6262);const p=(0,c.A)(d,[["render",r]]);var _=p},5690:function(e,t,a){a.d(t,{A:function(){return d}});var o=a(641),s=a(33);const n={class:"validation-placeholder validation-message"};function l(e,t,a,l,i,r){return(0,o.uX)(),(0,o.CE)("div",n,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.has_error,e=>((0,o.uX)(),(0,o.CE)("span",null,[t[0]||(t[0]=(0,o.Lk)("span",{class:"mark-circle mark-orange"},"!",-1)),(0,o.eW)(" "+(0,s.v_)(e),1)]))),256))])}var i={props:{has_error:Array},components:{},emits:[],data(){return{}},created(){},methods:{},computed:{},watch:{}},r=a(6262);const u=(0,r.A)(i,[["render",l]]);var d=u}}]);
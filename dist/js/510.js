"use strict";(self["webpackChunkosmapp_webpack_3x25x"]=self["webpackChunkosmapp_webpack_3x25x"]||[]).push([[510],{880:function(e,t,s){var n=s(8700),r=s(6343),p=s(3175);class a{session_remap(e){let t={action_name:"session-remap",method:"GET",url:(0,n.A)().endpoint_url()+"online/session-remap/?destGroup="+e+"&"+r.A.add_token_as_parameter()},s=new p.A;return s.prepare_params(t).handle_response().catch(e=>{throw e})}}t.A=new a},1510:function(e,t,s){s.r(t),s.d(t,{default:function(){return ie}});var n=s(641),r=s(33);const p={key:12};function a(e,t,s,a,_,o){const i=(0,n.g2)("Progress_bar"),l=(0,n.g2)("Upper_nav"),c=(0,n.g2)("Zeteo_progress"),u=(0,n.g2)("Step0_offer"),d=(0,n.g2)("Step1_groupform"),b=(0,n.g2)("Step2_results"),h=(0,n.g2)("Step4_proposal"),k=(0,n.g2)("Step5_confirm"),m=(0,n.g2)("Step6_payment"),v=(0,n.g2)("Step88_boris"),g=(0,n.g2)("Step99_lukas"),C=(0,n.g2)("Call_support");return(0,n.uX)(),(0,n.CE)(n.FK,null,[o.classic_np_progress_bar?((0,n.uX)(),(0,n.Wv)(i,{key:0})):(0,n.Q3)("",!0),o.classic_np_progress_bar?((0,n.uX)(),(0,n.Wv)(l,{key:1})):((0,n.uX)(),(0,n.Wv)(c,{key:2})),0===o.step?((0,n.uX)(),(0,n.Wv)(u,{key:3})):1===o.step?((0,n.uX)(),(0,n.Wv)(d,{key:4})):2===o.step?((0,n.uX)(),(0,n.Wv)(b,{key:5})):3===o.step?((0,n.uX)(),(0,n.Wv)(d,{key:6})):4===o.step?((0,n.uX)(),(0,n.Wv)(h,{key:7})):5===o.step?((0,n.uX)(),(0,n.Wv)(k,{key:8})):6===o.step?((0,n.uX)(),(0,n.Wv)(m,{key:9})):88===o.step?((0,n.uX)(),(0,n.Wv)(v,{key:10})):99===o.step?((0,n.uX)(),(0,n.Wv)(g,{key:11})):((0,n.uX)(),(0,n.CE)("p",p,"dont have template for step "+(0,r.v_)(o.step),1)),(0,n.bF)(C)],64)}var _=s(8700),o=s(3751);const i={class:"step_progress","data-cy":"progress_bar"},l={key:0,class:"step_tabs"},c=["onClick","title"],u={key:0,class:"step_tabs"},d=["onClick","title"];function b(e,t,s,p,a,_){return(0,n.uX)(),(0,n.CE)("div",i,[(0,n.Lk)("div",{class:(0,r.C4)([_.step_info_class(1),"step_info"])},[t[5]||(t[5]=(0,n.Lk)("div",{class:"step_title"},"Základné údaje",-1)),(0,n.Lk)("div",{class:(0,r.C4)(["step_number",_.step_errors(1)?"step_has_errors":""]),onClick:t[0]||(t[0]=e=>_.return_to_the_step(1))},(0,r.v_)(_.step_errors(1)?"!":"1"),3),1===_.step?((0,n.uX)(),(0,n.CE)("div",l,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(_.tab_count,e=>(0,n.bo)(((0,n.uX)(),(0,n.CE)("span",{onClick:t=>_.switch_tab(e),title:e,class:(0,r.C4)([_.step_tab_class(e),_.allow_tab_switch?"allow_tab_switch":""])},null,10,c)),[[o.aG,_.tab_not_empty(e)]])),256))])):(0,n.Q3)("",!0)],2),(0,n.Lk)("div",{class:(0,r.C4)([_.step_line_class(1),"step_line"])},null,2),(0,n.Lk)("div",{class:(0,r.C4)([_.step_info_class(2),"step_info"])},[t[6]||(t[6]=(0,n.Lk)("div",{class:"step_title"},"Porovnanie a výber",-1)),(0,n.Lk)("div",{class:"step_number",onClick:t[1]||(t[1]=e=>_.return_to_the_step(2))},"2")],2),(0,n.Lk)("div",{class:(0,r.C4)([_.step_line_class(2),"step_line"])},null,2),(0,n.Lk)("div",{class:(0,r.C4)([_.step_info_class(3),"step_info"])},[t[7]||(t[7]=(0,n.Lk)("div",{class:"step_title"},"Údaje do zmluvy",-1)),(0,n.Lk)("div",{class:(0,r.C4)(["step_number",_.step_errors(3)?"step_has_errors":""]),onClick:t[2]||(t[2]=e=>_.return_to_the_step(3))},(0,r.v_)(_.step_errors(3)?"!":"3"),3),3===_.step?((0,n.uX)(),(0,n.CE)("div",u,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(_.tab_count,e=>(0,n.bo)(((0,n.uX)(),(0,n.CE)("span",{onClick:t=>_.switch_tab(e),title:e,class:(0,r.C4)([_.step_tab_class(e),_.allow_tab_switch?"allow_tab_switch":""])},null,10,d)),[[o.aG,_.tab_not_empty(e)]])),256))])):(0,n.Q3)("",!0)],2),(0,n.Lk)("div",{class:(0,r.C4)([_.step_line_class(3),"step_line"])},null,2),(0,n.Lk)("div",{class:(0,r.C4)([_.step_info_class(4),"step_info"])},[t[8]||(t[8]=(0,n.Lk)("div",{class:"step_title"},"Zhrnutie",-1)),(0,n.Lk)("div",{class:"step_number",onClick:t[3]||(t[3]=e=>_.return_to_the_step(4))},"4")],2),(0,n.Lk)("div",{class:(0,r.C4)([_.step_line_class(4),"step_line"])},null,2),(0,n.Lk)("div",{class:(0,r.C4)([_.step_info_class(5),"step_info"])},[t[9]||(t[9]=(0,n.Lk)("div",{class:"step_title"},"Hotovo!",-1)),(0,n.Lk)("div",{class:"step_number",onClick:t[4]||(t[4]=e=>_.return_to_the_step(5))},"5")],2)])}var h=s(9614),k=s(2873),m=s(3177),v=s(6460),g=s(6343),C={props:{},components:{},emits:[],data(){return{}},created(){},methods:{step_info_class(e){return e<this.step?"completed":e===this.step?"current":""},step_line_class(e){return e<this.step?"completed":e===this.step?"pusher":""},step_tab_class(e){return e<(0,h.A)().get_current_tab()?"completed":e===(0,h.A)().get_current_tab()?"current":""},return_to_the_step(e){this.step_errors(e)&&this.open_step_error_modal(e),e>=this.step||(this.step>=5?(0,k.A)().open_it("Cleaning_session"):((0,v.A)().$reset(),(0,m.A)().reset_form_values(),(0,h.A)().reset_tab_keys(),(0,_.A)().change_step(e)))},tab_not_empty(e){return!g.A.this_tab_is_empty(e)},switch_tab(e){this.allow_tab_switch&&(0,h.A)().set_current_tab(e)},open_step_error_modal(e){(0,k.A)().store_modal_data({title:"Chyby formuláru",content:this.step_errors(e)}),(0,k.A)().open_it("Acceptance_modal")},step_errors(e){if(e!==this.step)return!1;let t=(0,v.A)().get_errors();if("object"!==typeof t||Object.keys(t).length<1)return!1;let s="";for(let n in t){s+="<strong>"+n+" :</strong> ";for(let e in t[n])s+=t[n][e]+"<br>"}return s}},computed:{step(){return(0,_.A)().current_step()},tab_count(){return(0,h.A)().get_tab_keys()},allow_tab_switch(){return(0,m.A)().capable_agent()}},watch:{}},w=s(6262);const y=(0,w.A)(C,[["render",b]]);var f=y;const A={key:0,class:"step_progress_alt"},L={class:"step_progress_alt_steps","data-cy":"progress_bar"},X={key:0,class:"step_tabs"},x={key:0,class:"step_tabs"};function E(e,t,s,p,a,_){return _.not_shown_in_technical_steps?((0,n.uX)(),(0,n.CE)("div",A,[(0,n.Lk)("div",L,[(0,n.Lk)("div",{class:(0,r.C4)([_.step_info_class(1),"step_info"])},[t[0]||(t[0]=(0,n.Lk)("div",{class:"step_number"},"1.",-1)),t[1]||(t[1]=(0,n.Lk)("div",{class:"step_title"},[(0,n.eW)("Parametre"),(0,n.Lk)("br"),(0,n.eW)("poistenia")],-1)),1===_.step?((0,n.uX)(),(0,n.CE)("div",X,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(_.tab_count,e=>(0,n.bo)(((0,n.uX)(),(0,n.CE)("span",{class:(0,r.C4)(_.step_tab_class(e))},null,2)),[[o.aG,_.tab_not_empty(e)]])),256))])):(0,n.Q3)("",!0)],2),(0,n.Lk)("div",{class:(0,r.C4)([_.step_info_class(2),"step_info"])},t[2]||(t[2]=[(0,n.Lk)("div",{class:"step_number"},"2.",-1),(0,n.Lk)("div",{class:"step_title"},[(0,n.eW)("Porovnanie"),(0,n.Lk)("br"),(0,n.eW)("ponúk")],-1)]),2),(0,n.Lk)("div",{class:(0,r.C4)([_.step_info_class(3),"step_info"])},[t[3]||(t[3]=(0,n.Lk)("div",{class:"step_number"},"3.",-1)),t[4]||(t[4]=(0,n.Lk)("div",{class:"step_title"},[(0,n.eW)("Doplňujúce"),(0,n.Lk)("br"),(0,n.eW)("údaje")],-1)),3===_.step?((0,n.uX)(),(0,n.CE)("div",x,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(_.tab_count,e=>(0,n.bo)(((0,n.uX)(),(0,n.CE)("span",{class:(0,r.C4)(_.step_tab_class(e))},null,2)),[[o.aG,_.tab_not_empty(e)]])),256))])):(0,n.Q3)("",!0)],2),(0,n.Lk)("div",{class:(0,r.C4)([_.step_info_class(4),"step_info"])},t[5]||(t[5]=[(0,n.Lk)("div",{class:"step_number"},"4.",-1),(0,n.Lk)("div",{class:"step_title"},"Rekapitulácia",-1)]),2),(0,n.Lk)("div",{class:(0,r.C4)([_.step_info_class(5),"step_info"])},t[6]||(t[6]=[(0,n.Lk)("div",{class:"step_number"},"5.",-1),(0,n.Lk)("div",{class:"step_title"},"Dokončenie",-1)]),2)])])):(0,n.Q3)("",!0)}var W={props:{show_back:Boolean},components:{},emits:[],data(){return{}},created(){},methods:{step_info_class(e){return e<this.step?"completed":e===this.step?"current":""},step_tab_class(e){return e<(0,h.A)().get_current_tab()?"completed":e===(0,h.A)().get_current_tab()?"current":""},tab_not_empty(e){return!g.A.this_tab_is_empty(e)}},computed:{step(){return(0,_.A)().current_step()},tab_count(){return(0,h.A)().get_tab_keys()},not_shown_in_technical_steps(){return this.step<10}},watch:{}};const S=(0,w.A)(W,[["render",E]]);var P=S;const Q={key:0,class:"upper_nav expanding-label","data-cy":"upper_navigation"},j=["disabled"],V=["disabled"],$={class:"btn-exp__label"},F=["disabled"],G=["disabled"],K={key:1,class:"upper_remap text-center text-lg-end"},Z=["disabled"],D={class:"btn-exp__label"};function I(e,t,s,p,a,_){return(0,n.uX)(),(0,n.CE)(n.FK,null,[_.not_shown_in_technical_steps?((0,n.uX)(),(0,n.CE)("div",Q,[_.show_back?((0,n.uX)(),(0,n.CE)("button",{key:0,disabled:_.loading,onClick:t[0]||(t[0]=(...e)=>_.prev&&_.prev(...e)),type:"button",class:"btn btn-exp btn-light btn-left btn-m"},t[5]||(t[5]=[(0,n.Lk)("span",{class:"btn-exp__label"},"Naspäť",-1)]),8,j)):(0,n.Q3)("",!0),(0,n.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>_.clear&&_.clear(...e)),disabled:_.loading,type:"button",class:(0,r.C4)(["btn btn-exp btn-white btn-delete btn-m",_.show_new?"expanded":""])},[(0,n.Lk)("span",$,(0,r.v_)(_.show_new?"Vytvoriť nové porovnanie":"Vymazať"),1)],10,V),_.show_next?((0,n.uX)(),(0,n.CE)("button",{key:1,disabled:_.loading,onClick:t[2]||(t[2]=(...e)=>_.next&&_.next(...e)),type:"button",class:"btn btn-exp expanded btn-primary btn-right btn-m"},t[6]||(t[6]=[(0,n.Lk)("span",{class:"btn-exp__label"},"Pokračovať",-1)]),8,F)):(0,n.Q3)("",!0),_.show_down?((0,n.uX)(),(0,n.CE)("button",{key:2,disabled:_.loading,onClick:t[3]||(t[3]=(...e)=>_.down&&_.down(...e)),type:"button",class:"btn btn-exp expanded btn-primary btn-down btn-m"},t[7]||(t[7]=[(0,n.Lk)("span",{class:"btn-exp__label"},null,-1)]),8,G)):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),a.enable_upper_remap_testing?((0,n.uX)(),(0,n.CE)("div",K,[_.show_remap?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:t[4]||(t[4]=(...e)=>_.remap_debug&&_.remap_debug(...e)),disabled:a.remap_loading,type:"button",class:"btn btn-exp expanded btn-outline-primary btn-m"},[(0,n.Lk)("span",D,(0,r.v_)(a.remap_error?a.remap_error:a.remap_loading?"Načítavam poistenie...":1===_.group?"Prejsť na havarijné poistenie":"Prejsť na PZP"),1)],8,Z)):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0)],64)}var z=s(880),N={props:{},components:{},emits:[],data(){return{remap_loading:!1,remap_error:"",enable_upper_remap_testing:!0}},created(){},methods:{prev(){(0,h.A)().set_requested_direction("backward")},next(){(0,h.A)().set_requested_direction("forward")},clear(){(0,k.A)().open_it("Cleaning_session")},down(){let e={2:"product_list_scroll_anchor",4:"proposal_scroll_anchor"};g.A.adjust_view(e[this.step])},remap_debug(){if(this.remap_loading)return;let e=1===this.group?2:2===this.group?1:0;0!==e?(this.remap_loading=!0,z.A.session_remap(e).then(t=>{if(200!==t.status)return this.remap_error=JSON.stringify(t.result.message),void setTimeout(()=>{this.remap_error="",this.remap_loading=!1},4e3);g.A.open_remap("new",e,t.result?.new_token),this.remap_loading=!1})):console.log("remap should only work in groups 1 and 2",this.group)}},computed:{step(){return(0,_.A)().current_step()},show_back(){return(1!==this.step||!(0,h.A)().current_tab_is_first())&&(this.step>0&&this.step<5)},show_next(){return this.step>0&&this.step<4&&2!==this.step},show_down(){return 2===this.step||4===this.step},loading(){return(0,k.A)().is_loading()},not_shown_in_technical_steps(){return this.step<10},show_new(){return this.step>=5},group(){return(0,_.A)().product_group_id()},receiver(){return(0,m.A)().get_receiver()},show_remap(){return[1,2].includes(this.group)&&[2].includes(this.step)&&[1,2,4,5].includes(this.receiver)}},watch:{}};const T=(0,w.A)(N,[["render",I]]);var q=T;const H=["href"];function O(e,t,s,p,a,_){return _.show_support?((0,n.uX)(),(0,n.CE)("div",{key:0,class:(0,r.C4)([a.is_opened?"":"is_closed","call_support justify-content-between"])},[(0,n.Lk)("a",{onClick:t[0]||(t[0]=(...e)=>_.open_support&&_.open_support(...e)),class:"open_support"},t[2]||(t[2]=[(0,n.Lk)("span",{class:"i_phone"},null,-1)])),(0,n.Lk)("a",{class:"btn-text i_anchor",href:_.support_phone},t[3]||(t[3]=[(0,n.Lk)("span",{class:"i_phone"},null,-1),(0,n.eW)(" Pomôžeme Vám ")]),8,H),(0,n.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>_.close_support&&_.close_support(...e)),class:"close_support btn-white"})],2)):(0,n.Q3)("",!0)}var U=s(9819),B=s(6645),J={props:{},components:{},emits:[],data(){return{is_opened:!1,c_name:"support_closed",c_expire:180,timeout:8e3}},created(){let e=B.A.get_cookie(this.c_name);!0!==e&&setTimeout(()=>{this.open_support()},this.timeout)},methods:{open_support(){this.is_opened=!0},close_support(){this.is_opened=!1,B.A.set_cookie(this.c_name,!0,this.c_expire)},is_business_hours(){let e=new Date,t=e.getDay(),s=e.getHours();return t>=1&&t<=5&&s>=9&&s<17}},computed:{support_phone(){return"tel:"+U.A.callcentrum_phone()},show_support(){let e=(0,_.A)().public_website_backend(),t=(0,m.A)().direct_user(),s=this.is_business_hours(),n=(0,_.A)().current_step();return!!(e&&n>=1&&n<=3&&t&&s)}},watch:{}};const R=(0,w.A)(J,[["render",O]]);var M=R;const Y=(0,n.$V)(()=>s.e(458).then(s.bind(s,7458))),ee=(0,n.$V)(()=>Promise.all([s.e(123),s.e(699),s.e(229)]).then(s.bind(s,1671))),te=(0,n.$V)(()=>Promise.all([s.e(123),s.e(401),s.e(896)]).then(s.bind(s,6086))),se=(0,n.$V)(()=>Promise.all([s.e(197),s.e(268)]).then(s.bind(s,6777))),ne=(0,n.$V)(()=>Promise.all([s.e(976),s.e(197),s.e(670)]).then(s.bind(s,8598))),re=(0,n.$V)(()=>Promise.all([s.e(976),s.e(597)]).then(s.bind(s,6339))),pe=(0,n.$V)(()=>s.e(664).then(s.bind(s,9664))),ae=(0,n.$V)(()=>s.e(69).then(s.bind(s,2069)));var _e={props:{},components:{Progress_bar:f,Zeteo_progress:P,Upper_nav:q,Call_support:M,Step0_offer:Y,Step1_groupform:ee,Step2_results:te,Step4_proposal:se,Step5_confirm:ne,Step6_payment:re,Step88_boris:pe,Step99_lukas:ae},emits:[],data(){return{}},created(){},methods:{},computed:{step(){return(0,_.A)().current_step()},classic_np_progress_bar(){return!(0,_.A)().is_zeteo_skin()}},watch:{}};const oe=(0,w.A)(_e,[["render",a]]);var ie=oe}}]);
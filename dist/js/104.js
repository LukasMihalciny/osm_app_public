"use strict";(self["webpackChunkosmapp_webpack_3xx"]=self["webpackChunkosmapp_webpack_3xx"]||[]).push([[104],{3723:function(e,s,a){a.r(s),a.d(s,{default:function(){return S}});var i=a(641),o=a(33),t=a(3751);const r={class:"row my-4"},n={class:"col-4"},l=["disabled"],d={class:"row my-4"},c={class:"col-4"},_=["disabled"],u={class:"row my-4"},v={class:"col-4"},m=["disabled"],h={class:"row my-4"},k={class:"col-8"},p={class:"col-4"},b=["disabled"],L={class:"row my-4"},y={class:"col-4"},g=["disabled"];function f(e,s,a,f,C,w){const A=(0,i.g2)("Modal_body");return(0,i.uX)(),(0,i.Wv)(A,{close:!0,title:"Zdieľanie session",class:"modal-share",modal_size:"medium"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",r,[s[6]||(s[6]=(0,i.Lk)("div",{class:"col-8 mt-2"},[(0,i.Lk)("p",null,[(0,i.eW)("Nazdieľa "),(0,i.Lk)("strong",null,"konkrétnu session"),(0,i.eW)(" cez session manager")])],-1)),(0,i.Lk)("div",n,[(0,i.Lk)("button",{onClick:s[0]||(s[0]=(...e)=>w.share_to_colleague&&w.share_to_colleague(...e)),class:(0,o.C4)(["btn w-100",1===C.share_indicator?"btn-primary":"btn-secondary"]),disabled:0!==C.share_indicator},(0,o.v_)(1===C.share_indicator?"Skopírované":"Link kolegovi"),11,l)])]),(0,i.Lk)("div",d,[s[7]||(s[7]=(0,i.Lk)("div",{class:"col-8 mt-2"},[(0,i.Lk)("p",null,[(0,i.eW)("Nazdieľa "),(0,i.Lk)("strong",null,"grupu a receivera"),(0,i.eW)(", bez session manager")])],-1)),(0,i.Lk)("div",c,[(0,i.Lk)("button",{onClick:s[1]||(s[1]=(...e)=>w.share_to_partner&&w.share_to_partner(...e)),class:(0,o.C4)(["btn w-100",2===C.share_indicator?"btn-primary":"btn-secondary"]),disabled:0!==C.share_indicator},(0,o.v_)(2===C.share_indicator?"Skopírované":"Link partnerom"),11,_)])]),(0,i.Lk)("div",u,[s[8]||(s[8]=(0,i.Lk)("div",{class:"col-8 mt-2"},[(0,i.Lk)("p",null,[(0,i.eW)("Návrat do session managera, umožní "),(0,i.Lk)("strong",null,"upraviť vlastnosti"),(0,i.eW)(" session")])],-1)),(0,i.Lk)("div",v,[(0,i.Lk)("button",{onClick:s[2]||(s[2]=(...e)=>w.edit_yours&&w.edit_yours(...e)),class:(0,o.C4)(["btn w-100",3===C.share_indicator?"btn-primary":"btn-secondary"]),disabled:0!==C.share_indicator},(0,o.v_)(3===C.share_indicator?"Otváram":"Upraviť u seba"),11,m)])]),(0,i.Lk)("div",h,[(0,i.Lk)("div",k,[s[9]||(s[9]=(0,i.Lk)("label",{for:"version",class:"form-label"},"Verzia",-1)),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":s[3]||(s[3]=e=>C.model_version=e),type:"text",class:"form-control",id:"version"},null,512),[[t.Jo,C.model_version]])]),(0,i.Lk)("div",p,[(0,i.Lk)("button",{onClick:s[4]||(s[4]=(...e)=>w.change_version&&w.change_version(...e)),class:(0,o.C4)(["btn w-100 mt-4",4===C.share_indicator?"btn-primary":"btn-secondary"]),disabled:0!==C.share_indicator},(0,o.v_)(4===C.share_indicator?"Nastavujem":"Nastaviť verziu"),11,b)])]),(0,i.Lk)("div",L,[s[10]||(s[10]=(0,i.Lk)("div",{class:"col-8 mt-2"},[(0,i.eW)(" Zobrazí poslednú "),(0,i.Lk)("strong",null,"hlavnú"),(0,i.eW)(" stabilú verziu ")],-1)),(0,i.Lk)("div",y,[(0,i.Lk)("button",{onClick:s[5]||(s[5]=(...e)=>w.reset_version&&w.reset_version(...e)),class:(0,o.C4)(["btn w-100",5===C.share_indicator?"btn-primary":"btn-secondary"]),disabled:0!==C.share_indicator},(0,o.v_)(5===C.share_indicator?"Odstraňujem":"Hlavná verzia"),11,g)])])])),_:1})}var C=a(2583),w=a(8700),A=a(2873),z=a(7151),W=a(1190),x={props:{},components:{Modal_body:C.A},emits:[],data(){return{purge_before_leave:!1,uuid:null,share_indicator:0,model_version:""}},created(){this.uuid=(0,A.A)().retrieve_modal_data()||null,null===this.uuid&&(this.uuid=(0,w.A)().get_session_token(),this.purge_before_leave=!0),this.model_version=(0,w.A)().give_app_version()},methods:{share_to_colleague(){this.share_indicator=1,z.A.share_session(this.uuid,!0),setTimeout((()=>{this.share_indicator=0}),1e3)},share_to_partner(){this.share_indicator=2,z.A.share_session(this.uuid,!1),setTimeout((()=>{this.share_indicator=0}),1e3)},edit_yours(){this.share_indicator=3,this.purge_before_leave&&(W.A.reset_session_config(),z.A.delete_keep()),z.A.edit_session(this.uuid)},change_version(){this.share_indicator=4,z.A.set_version(this.model_version)},reset_version(){this.share_indicator=5,z.A.delete_version()}},computed:{},watch:{}},N=a(6262);const E=(0,N.A)(x,[["render",f]]);var S=E},2583:function(e,s,a){a.d(s,{A:function(){return v}});var i=a(641),o=a(33);const t={class:"modal-content","data-cy":"modal_content"},r={class:"modal-header"},n={class:"modal-body","data-cy":"modal_body"};function l(e,s,a,l,d,c){return(0,i.uX)(),(0,i.CE)("div",{onClick:s[1]||(s[1]=(...e)=>c.did_click_outside&&c.did_click_outside(...e)),class:(0,o.C4)(["vue_modal",a.modal_size]),"data-cy":"modal"},[(0,i.Lk)("div",t,[(0,i.Lk)("div",r,[(0,i.Lk)("h4",null,(0,o.v_)(a.title),1),a.close?((0,i.uX)(),(0,i.CE)("span",{key:0,onClick:s[0]||(s[0]=(...e)=>c.close_me&&c.close_me(...e)),class:"i_close"})):(0,i.Q3)("",!0)]),(0,i.Lk)("div",n,[(0,i.RG)(e.$slots,"default")])])],2)}var d=a(2873),c={props:{close:Boolean,title:String,modal_size:String},components:{},emits:[],data(){return{}},created(){document.addEventListener("keyup",this.close_me)},beforeUnmount(){document.removeEventListener("keyup",this.close_me)},methods:{close_me(e){this.close&&("click"===e?.type||"keyup"===e?.type&&27===e?.keyCode)&&(0,d.A)().close_them_all()},did_click_outside(e){e.target.classList.contains("vue_modal")&&this.close_me(e)}},computed:{},watch:{}},_=a(6262);const u=(0,_.A)(c,[["render",l]]);var v=u}}]);